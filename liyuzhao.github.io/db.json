{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"source/CNAME","path":"CNAME","modified":0,"renderable":0},{"_id":"themes/next/source/css/main.styl","path":"css/main.styl","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","path":"images/cc-by-nc-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","path":"images/cc-by-nc-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nc.svg","path":"images/cc-by-nc.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-nd.svg","path":"images/cc-by-nd.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by.svg","path":"images/cc-by.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-by-sa.svg","path":"images/cc-by-sa.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/cc-zero.svg","path":"images/cc-zero.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/loading.gif","path":"images/loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-l.svg","path":"images/quote-l.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/quote-r.svg","path":"images/quote-r.svg","modified":0,"renderable":1},{"_id":"themes/next/source/images/searchicon.png","path":"images/searchicon.png","modified":0,"renderable":1},{"_id":"themes/next/source/images/placeholder.gif","path":"images/placeholder.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","path":"vendors/jquery_lazyload/CONTRIBUTING.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","path":"vendors/jquery_lazyload/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","path":"vendors/jquery_lazyload/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","path":"vendors/jquery_lazyload/jquery.lazyload.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","path":"vendors/jquery_lazyload/jquery.scrollstop.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/bower.json","path":"vendors/velocity/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","path":"vendors/velocity/velocity.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","path":"vendors/velocity/velocity.ui.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/affix.js","path":"js/src/affix.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","path":"vendors/velocity/velocity.ui.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/bootstrap.js","path":"js/src/bootstrap.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/hook-duoshuo.js","path":"js/src/hook-duoshuo.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/motion.js","path":"js/src/motion.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/scrollspy.js","path":"js/src/scrollspy.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/utils.js","path":"js/src/utils.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","path":"vendors/font-awesome/HELP-US-OUT.txt","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/bower.json","path":"vendors/font-awesome/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/LICENSE","path":"vendors/fastclick/LICENSE","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/bower.json","path":"vendors/fastclick/bower.json","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/README.md","path":"vendors/fastclick/README.md","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/jquery/index.js","path":"vendors/jquery/index.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","path":"vendors/fancybox/source/blank.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","path":"vendors/fancybox/source/fancybox_loading.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","path":"vendors/fancybox/source/fancybox_loading@2x.gif","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","path":"vendors/fancybox/source/fancybox_overlay.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","path":"vendors/fancybox/source/fancybox_sprite.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","path":"vendors/fancybox/source/fancybox_sprite@2x.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","path":"vendors/fancybox/source/jquery.fancybox.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","path":"vendors/fancybox/source/jquery.fancybox.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","path":"vendors/fancybox/source/jquery.fancybox.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","path":"vendors/ua-parser-js/dist/ua-parser.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","path":"vendors/ua-parser-js/dist/ua-parser.pack.js","modified":0,"renderable":1},{"_id":"themes/next/source/js/src/schemes/pisces.js","path":"js/src/schemes/pisces.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","path":"vendors/font-awesome/css/font-awesome.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","path":"vendors/font-awesome/css/font-awesome.css.map","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","path":"vendors/font-awesome/css/font-awesome.min.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","path":"vendors/fastclick/lib/fastclick.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff2","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","path":"vendors/fastclick/lib/fastclick.min.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/velocity/velocity.js","path":"vendors/velocity/velocity.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","path":"vendors/font-awesome/fonts/fontawesome-webfont.eot","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","path":"vendors/font-awesome/fonts/FontAwesome.otf","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","path":"vendors/font-awesome/fonts/fontawesome-webfont.woff","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","path":"vendors/fancybox/source/helpers/fancybox_buttons.png","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-media.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","path":"vendors/font-awesome/fonts/fontawesome-webfont.ttf","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","path":"vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","modified":0,"renderable":1},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","path":"vendors/font-awesome/fonts/fontawesome-webfont.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/CNAME","hash":"9b1c3c5e91ac32b140e57969b78c63fa47a03646","modified":1457541104000},{"_id":"themes/next/.bowerrc","hash":"80e096fdc1cf912ee85dd9f7e6e77fd40cf60f10","modified":1456925740000},{"_id":"themes/next/.editorconfig","hash":"792fd2bd8174ece1a75d5fd24ab16594886f3a7f","modified":1456925740000},{"_id":"themes/next/.hound.yml","hash":"b76daa84c9ca3ad292c78412603370a367cc2bc3","modified":1456925740000},{"_id":"themes/next/.gitignore","hash":"efec790f5b7a0256763e1cc08f12c4f0aff509f6","modified":1456925740000},{"_id":"themes/next/.javascript_ignore","hash":"d619ee13031908cd72666e4ff652d2ea3483b1c3","modified":1456925740000},{"_id":"themes/next/.jshintrc","hash":"9928f81bd822f6a8d67fdbc909b517178533bca9","modified":1456925740000},{"_id":"themes/next/README.en.md","hash":"565ba52b3825b85a9f05b41183caca7f18b741d4","modified":1456925740000},{"_id":"themes/next/README.md","hash":"500b5606eb6a09c979d16128f8b00f4bf9bc95ac","modified":1456925740000},{"_id":"themes/next/_config.yml","hash":"4d5ba6e4a2e8a2dbc9af5ae3260279973eee61b0","modified":1457796049000},{"_id":"themes/next/bower.json","hash":"d7f8d4eb7c6ac1bb8d642112601005f93e3da49b","modified":1456925740000},{"_id":"themes/next/gulpfile.coffee","hash":"b3d53f36460119c741a98c0dc494b1c65d3ec943","modified":1456925740000},{"_id":"themes/next/package.json","hash":"bd016b54983b7e06a649ee915b2e13a60d47553e","modified":1456925740000},{"_id":"source/_posts/Android-mk、Application-mk.md","hash":"a34552b6e5e1f92a535f3dce4574d46d9ac58ba0","modified":1457927302000},{"_id":"source/_posts/Android-TextView-部分字体设置颜色或大小.md","hash":"4435d112467e84948d37a64159c877d038d33dad","modified":1457753010000},{"_id":"source/_posts/Atom-编辑器快捷键列表汇总整理.md","hash":"2d83f71f2d1854c27980281725a9f7fe80b1ce58","modified":1459137723000},{"_id":"source/_posts/Java中Math类的一些常用方法.md","hash":"cb3427c95a877560797968a63b817e084a336502","modified":1459339063000},{"_id":"source/_posts/Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7.md","hash":"5e6649f4c83a0f38b903f3aab8b9ece745dcb192","modified":1458447733000},{"_id":"source/_posts/Mac-清除-DNS-缓存.md","hash":"b637fde331907928005345a085fbe8b4ac346eef","modified":1458300788000},{"_id":"source/_posts/mac系统如何显示和隐藏文件.md","hash":"a6e6889081615ec47587998dcfd629efe836a19f","modified":1457753096000},{"_id":"source/_posts/Mac下，添加Android-adb命令.md","hash":"dc379877b74f87cf09611a123630409358f42174","modified":1457753050000},{"_id":"source/_posts/查看被删的微信好友.md","hash":"56f444582dde1d752c92d399a506c0c0a8924950","modified":1459492672000},{"_id":"source/_posts/英语谚语-每日一句.md","hash":"266e711f3561d332f055d8a84cebcf607daf299e","modified":1460095470000},{"_id":"source/_posts/常用-Git-命令清单.md","hash":"a96705783cbf993037e7a9c2a36193033cd8ce75","modified":1457889191000},{"_id":"source/_posts/使用Android-Studio的lint清除无用的资源文件.md","hash":"ab01840876c7b15d80c40a1f3d251529b15adb3c","modified":1458656422000},{"_id":"source/_posts/正则表达式--匹配电话号码和手机号码.md","hash":"7ef0a0b7f69e33ed7394626b7e6a9b66613e80e3","modified":1457753108000},{"_id":"source/tags/index.md","hash":"2241424081ba2c89788e24a836cb14df1f1303de","modified":1457593558000},{"_id":"source/categories/index.md","hash":"3cb97ec38f20b967331b58f9d6bbe7b71bb291a2","modified":1457593541000},{"_id":"themes/next/.git/config","hash":"a33539305f85ea695520b496f67659d5751acff8","modified":1456925740000},{"_id":"themes/next/.git/description","hash":"9635f1b7e12c045212819dd934d809ef07efa2f4","modified":1456925546000},{"_id":"themes/next/.git/HEAD","hash":"acbaef275e46a7f14c1ef456fff2c8bbe8c84724","modified":1456925740000},{"_id":"themes/next/.git/index","hash":"068df1de3fa8c059903b28f2e870405bc0d8a9dc","modified":1459339209000},{"_id":"themes/next/.git/packed-refs","hash":"b59ea40ea6aa32990f642916f1e5d01ad872b64f","modified":1456925740000},{"_id":"themes/next/languages/de.yml","hash":"786afba25cfc98845a20d9901823ebeebcd1cbbf","modified":1456925740000},{"_id":"themes/next/languages/default.yml","hash":"9db835c0543ade5a89bc80ec5a898203227cf3d8","modified":1456925740000},{"_id":"themes/next/languages/en.yml","hash":"f03799cbdb5a33064ead080bcac4baca1f6bc5f9","modified":1456925740000},{"_id":"themes/next/languages/pt.yml","hash":"ca239b39bf65c9462e59d51b12f0fe566d453197","modified":1456925740000},{"_id":"themes/next/languages/fr-FR.yml","hash":"1a084623c39de74301f3e92f9388a3a815a542ca","modified":1456925740000},{"_id":"themes/next/languages/ru.yml","hash":"cc7b964a46587aea0e57b0a5269d8fd25570858e","modified":1456925740000},{"_id":"themes/next/scripts/merge-configs.js","hash":"0c56be2e85c694247cfa327ea6d627b99ca265e8","modified":1456925740000},{"_id":"themes/next/languages/zh-Hans.yml","hash":"bea452bc49aed171a210d09bd6cddc4e846ea8ab","modified":1456925740000},{"_id":"themes/next/languages/zh-hk.yml","hash":"519ab3d817ec3bc5bfc91159c494b6b3c170bea7","modified":1456925740000},{"_id":"themes/next/languages/zh-tw.yml","hash":"6b1f345aaefc13e6723dc8a6741b59ac05c20dfd","modified":1456925740000},{"_id":"themes/next/layout/_layout.swig","hash":"3814bbdecf1ab1006db42083667ab0398e098cec","modified":1456925740000},{"_id":"themes/next/layout/archive.swig","hash":"b5b59d70fc1563f482fa07afd435752774ad5981","modified":1456925740000},{"_id":"themes/next/layout/category.swig","hash":"6422d196ceaff4220d54b8af770e7e957f3364ad","modified":1456925740000},{"_id":"themes/next/layout/page.swig","hash":"8019d02232a6dd1a665b6a4d2daef8e5dd2f0049","modified":1456925740000},{"_id":"themes/next/layout/index.swig","hash":"38b1ad401b748965369296b86327d23082a1fe93","modified":1456925740000},{"_id":"themes/next/layout/post.swig","hash":"f32dd1095f4fbee494a86893856dc7cc6329e293","modified":1456925740000},{"_id":"themes/next/layout/tag.swig","hash":"07cf49c49c39a14dfbe9ce8e7d7eea3d4d0a4911","modified":1456925740000},{"_id":"themes/next/test/.jshintrc","hash":"096ed6df627373edd820f24d46b8baf528dee61d","modified":1456925740000},{"_id":"themes/next/test/helpers.js","hash":"a1f5de25154c3724ffc24a91ddc576cdbd60864f","modified":1456925740000},{"_id":"themes/next/test/intern.js","hash":"11fa8a4f5c3b4119a179ae0a2584c8187f907a73","modified":1456925740000},{"_id":"themes/next/source/fonts/.gitkeep","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/.git/hooks/applypatch-msg.sample","hash":"86b9655a9ebbde13ac8dd5795eb4d5b539edab0f","modified":1456925546000},{"_id":"themes/next/.git/hooks/commit-msg.sample","hash":"ee1ed5aad98a435f2020b6de35c173b75d9affac","modified":1456925546000},{"_id":"themes/next/.git/hooks/post-update.sample","hash":"b614c2f63da7dca9f1db2e7ade61ef30448fc96c","modified":1456925546000},{"_id":"themes/next/.git/hooks/pre-applypatch.sample","hash":"42fa41564917b44183a50c4d94bb03e1768ddad8","modified":1456925546000},{"_id":"themes/next/.git/hooks/pre-commit.sample","hash":"36aed8976dcc08b5076844f0ec645b18bc37758f","modified":1456925546000},{"_id":"themes/next/.git/hooks/pre-push.sample","hash":"b4ad74c989616b7395dc6c9fce9871bb1e86dfb5","modified":1456925546000},{"_id":"themes/next/.git/hooks/pre-rebase.sample","hash":"5885a56ab4fca8075a05a562d005e922cde9853b","modified":1456925546000},{"_id":"themes/next/.git/hooks/update.sample","hash":"39355a075977d05708ef74e1b66d09a36e486df1","modified":1456925546000},{"_id":"themes/next/.git/hooks/prepare-commit-msg.sample","hash":"2b6275eda365cad50d167fe3a387c9bc9fedd54f","modified":1456925546000},{"_id":"themes/next/.git/info/exclude","hash":"c879df015d97615050afa7b9641e3352a1e701ac","modified":1456925546000},{"_id":"themes/next/.git/logs/HEAD","hash":"c4fa9d66aeac3f6cca52e1bb519eb417a260f5d1","modified":1456925740000},{"_id":"themes/next/scripts/tags/center-quote.js","hash":"535fc542781021c4326dec24d8495cbb1387634a","modified":1456925740000},{"_id":"themes/next/scripts/tags/full-image.js","hash":"3acce36db0feb11a982c6c799aa6b6b47df2827c","modified":1456925740000},{"_id":"themes/next/scripts/tags/group-pictures.js","hash":"49252824cd53184dc9b97b2f2d87ff28e1b3ef27","modified":1456925740000},{"_id":"themes/next/layout/_macro/post-collapse.swig","hash":"43c3433155ccd9abcbe7dce2e6bfa1f3a66af18b","modified":1456925740000},{"_id":"themes/next/layout/_macro/post.swig","hash":"379737761f44fb71de997a73192f35b8e568ac58","modified":1457765273000},{"_id":"themes/next/layout/_macro/reward.swig","hash":"e8e9c986ce1a0b370afd36703d49f1818492cb64","modified":1456925740000},{"_id":"themes/next/layout/_macro/sidebar.swig","hash":"44cc089c111d7a9df7844affa980e56edd276bf1","modified":1456925740000},{"_id":"themes/next/layout/_scripts/boostrap.swig","hash":"03aaebe9d50f6acb007ec38cc04acd1cfceb404d","modified":1456925740000},{"_id":"themes/next/layout/_scripts/commons.swig","hash":"766b2bdda29523ed6cd8d7aa197f996022f8fd94","modified":1456925740000},{"_id":"themes/next/layout/_scripts/lean-analytics.swig","hash":"07dba0bd26ac09685203a3e7aa72166f493ae606","modified":1457765109000},{"_id":"themes/next/layout/_scripts/vendors.swig","hash":"f12d7b0946d37853caa29009e6d134c2a378ad20","modified":1456925740000},{"_id":"themes/next/layout/_partials/backup_footer.swig","hash":"2122be426d2c9dbd9b19cebbfd0fa3995c010db3","modified":1457792101000},{"_id":"themes/next/layout/_partials/backup_head.swig","hash":"7edcc47b01b60e565b39b2baf3a87c20b61c7eaf","modified":1457795186000},{"_id":"themes/next/layout/_partials/footer.swig","hash":"bc1daf02be3731cc961b2e0bf0a8c372adc5f8a8","modified":1457792778000},{"_id":"themes/next/layout/_partials/comments.swig","hash":"82a9bc2ba60ce68419128ff60624bd74b15dfb78","modified":1456925740000},{"_id":"themes/next/layout/_partials/duoshuo-hot-articles.swig","hash":"5d4638c46aef65bf32a01681495b62416ccc98db","modified":1456925740000},{"_id":"themes/next/layout/_partials/backup_header.swig","hash":"0b1dc4509c843c42a6ec08b2dff26d997f14f607","modified":1457579520000},{"_id":"themes/next/layout/_partials/head.swig","hash":"fb9f982dc6e491869da8475d4ba7508491faae03","modified":1457795217000},{"_id":"themes/next/layout/_partials/pagination.swig","hash":"9e8e21d194ef44d271b1cca0bc1448c14d7edf4f","modified":1456925740000},{"_id":"themes/next/layout/_partials/header.swig","hash":"0b1dc4509c843c42a6ec08b2dff26d997f14f607","modified":1456925740000},{"_id":"themes/next/layout/_partials/search.swig","hash":"011b9d6c9f0a2f4654908ea20b9391f9b7981271","modified":1456925740000},{"_id":"themes/next/source/css/main.styl","hash":"20702c48d6053c92c5bcdbc68e8d0ef1369848a0","modified":1456925740000},{"_id":"themes/next/source/images/cc-by-nc-nd.svg","hash":"c6524ece3f8039a5f612feaf865d21ec8a794564","modified":1456925740000},{"_id":"themes/next/source/images/cc-by-nc-sa.svg","hash":"3031be41e8753c70508aa88e84ed8f4f653f157e","modified":1456925740000},{"_id":"themes/next/source/images/cc-by-nc.svg","hash":"8d39b39d88f8501c0d27f8df9aae47136ebc59b7","modified":1456925740000},{"_id":"themes/next/source/images/cc-by-nd.svg","hash":"c563508ce9ced1e66948024ba1153400ac0e0621","modified":1456925740000},{"_id":"themes/next/source/images/cc-by.svg","hash":"28a0a4fe355a974a5e42f68031652b76798d4f7e","modified":1456925740000},{"_id":"themes/next/source/images/cc-by-sa.svg","hash":"aa4742d733c8af8d38d4c183b8adbdcab045872e","modified":1456925740000},{"_id":"themes/next/source/images/cc-zero.svg","hash":"87669bf8ac268a91d027a0a4802c92a1473e9030","modified":1456925740000},{"_id":"themes/next/source/images/loading.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1456925740000},{"_id":"themes/next/source/images/quote-l.svg","hash":"94e870b4c8c48da61d09522196d4dd40e277a98f","modified":1456925740000},{"_id":"themes/next/source/images/quote-r.svg","hash":"e60ae504f9d99b712c793c3740c6b100d057d4ec","modified":1456925740000},{"_id":"themes/next/source/images/searchicon.png","hash":"67727a6a969be0b2659b908518fa6706eed307b8","modified":1456925740000},{"_id":"themes/next/source/images/placeholder.gif","hash":"5fbd472222feb8a22cf5b8aa5dc5b8e13af88e2b","modified":1456925740000},{"_id":"themes/next/layout/_scripts/schemes/mist.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/layout/_scripts/schemes/muse.swig","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/source/css/_variables/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/source/css/_variables/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/source/css/_mixins/Mist.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/source/css/_mixins/Muse.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/source/css/_mixins/custom.styl","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1456925740000},{"_id":"themes/next/.git/refs/heads/master","hash":"32a81acb47ffc5c066de4aa08f5923c82cb42363","modified":1456925740000},{"_id":"themes/next/layout/_scripts/schemes/pisces.swig","hash":"a44acf9b0d0f44ef3dfc767376a95c984cc127de","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/analytics.swig","hash":"d79bd946f07b83b47926dd67bb9d40e652b94769","modified":1456925740000},{"_id":"themes/next/layout/_scripts/pages/post-details.swig","hash":"acdea5e939e148b807216ca44a6843e433ccdb52","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/baidushare.swig","hash":"d726361945437cf6e48067b3dd041b7e36e98d85","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/comments.swig","hash":"907b931d775d32405d02a25b3b0a3ac03bf804d0","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/lean-analytics.swig","hash":"2fc4a0d2c825a512f39c0eadd78452e90615465a","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/localsearch.swig","hash":"6c666819b3178a6f661c2152ff95026aea750f69","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/mathjax.swig","hash":"df03220eb8526e17dc9c9f17780c2d6699367181","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/tinysou.swig","hash":"cb3a5d36dbe1630bab84e03a52733a46df7c219b","modified":1456925740000},{"_id":"themes/next/layout/_partials/search/localsearch.swig","hash":"363482dc4cc5002e8ae2164d86939486f13ec8b6","modified":1456925740000},{"_id":"themes/next/layout/_partials/search/swiftype.swig","hash":"959b7e04a96a5596056e4009b73b6489c117597e","modified":1456925740000},{"_id":"themes/next/layout/_partials/search/tinysou.swig","hash":"eefe2388ff3d424694045eda21346989b123977c","modified":1456925740000},{"_id":"themes/next/layout/_partials/share/duoshuo_share.swig","hash":"89c5a5240ecb223acfe1d12377df5562a943fd5d","modified":1456925740000},{"_id":"themes/next/layout/_partials/share/add-this.swig","hash":"c07f7b2f264e5215b8ed42d67e8cef2477558364","modified":1456925740000},{"_id":"themes/next/layout/_partials/share/jiathis.swig","hash":"63315fcf210799f894208c9f512737096df84962","modified":1456925740000},{"_id":"themes/next/source/css/_variables/Mist.styl","hash":"c8d35a6b9e3bff6d8fdb66de853065af9d37562d","modified":1456925740000},{"_id":"themes/next/source/css/_variables/Pisces.styl","hash":"e6488372eacb4c8acbda42ed366e27a6de7693d4","modified":1456925740000},{"_id":"themes/next/source/css/_variables/base.styl","hash":"72d1fe35024ea91ebfd0298d1fbc8df82abd4ce7","modified":1456925740000},{"_id":"themes/next/source/css/_variables/default.styl","hash":"8ec3307fe42d738b1bbda4b6419d0995f5560222","modified":1456925740000},{"_id":"themes/next/source/css/_custom/custom.styl","hash":"328d9a9696cc2ccf59c67d3c26000d569f46344c","modified":1456925740000},{"_id":"themes/next/source/css/_mixins/Pisces.styl","hash":"adc83b19e793491b1c6ea0fd8b46cd9f32e592fc","modified":1456925740000},{"_id":"themes/next/source/css/_mixins/base.styl","hash":"4e49707c99c8bbcfa0a607dfdaff0fbb7dffd2a3","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/.bower.json","hash":"cc40a9b11e52348e554c84e4a5c058056f6b7aeb","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery/.bower.json","hash":"91745c2cc6c946c7275f952b2b0760b880cea69e","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/.gitattributes","hash":"2db21acfbd457452462f71cc4048a943ee61b8e0","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/.bower.json","hash":"b7638afc93e9cd350d0783565ee9a7da6805ad8e","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/CONTRIBUTING.md","hash":"4891864c24c28efecd81a6a8d3f261145190f901","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/README.md","hash":"895d50fa29759af7835256522e9dd7dac597765c","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/bower.json","hash":"65bc85d12197e71c40a55c0cd7f6823995a05222","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.lazyload.js","hash":"481fd478650e12b67c201a0ea41e92743f8b45a3","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/.bower.json","hash":"05f960846f1c7a93dab1d3f9a1121e86812e8c88","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery_lazyload/jquery.scrollstop.js","hash":"0e9a81785a011c98be5ea821a8ed7d411818cfd1","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/bower.json","hash":"2ec99573e84c7117368beccb9e94b6bf35d2db03","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/velocity.min.js","hash":"2f1afadc12e4cf59ef3b405308d21baa97e739c6","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.js","hash":"6a1d101eab3de87527bb54fcc8c7b36b79d8f0df","modified":1456925740000},{"_id":"themes/next/source/js/src/affix.js","hash":"978e0422b5bf1b560236d8d10ebc1adcf66392e3","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/velocity.ui.min.js","hash":"ed5e534cd680a25d8d14429af824f38a2c7d9908","modified":1456925740000},{"_id":"themes/next/source/js/src/bootstrap.js","hash":"cca1fe42d49d3946f44b6ef1b247175f16ba796c","modified":1456925740000},{"_id":"themes/next/source/js/src/hook-duoshuo.js","hash":"a6119070c0119f33e08b29da7d2cce2635eb40a0","modified":1456925740000},{"_id":"themes/next/source/js/src/motion.js","hash":"58d02f0d1d495c39a9b2a36009915faf51660e50","modified":1456925740000},{"_id":"themes/next/source/js/src/scrollspy.js","hash":"fe4da1b9fe73518226446f5f27d2831e4426fc35","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/.bower.json","hash":"7da985a99674e54f514d4fd9fcd3bcea6e7e41d5","modified":1456925740000},{"_id":"themes/next/source/js/src/utils.js","hash":"7eb00abf9bc14516463d9f29db41805e808a565c","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/.gitignore","hash":"69d152fa46b517141ec3b1114dd6134724494d83","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/.npmignore","hash":"dcf470ab3a358103bb896a539cc03caeda10fa8b","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/HELP-US-OUT.txt","hash":"69a4c537d167b68a0ccf1c6febd138aeffca60d6","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/bower.json","hash":"279a8a718ab6c930a67c41237f0aac166c1b9440","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/.bower.json","hash":"93ebd5b35e632f714dcf1753e1f6db77ec74449b","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/LICENSE","hash":"dcd5b6b43095d9e90353a28b09cb269de8d4838e","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/bower.json","hash":"13379463c7463b4b96d13556b46faa4cc38d81e6","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/README.md","hash":"1decd8e1adad2cd6db0ab50cf56de6035156f4ea","modified":1456925740000},{"_id":"themes/next/source/vendors/jquery/index.js","hash":"41b4bfbaa96be6d1440db6e78004ade1c134e276","modified":1456925740000},{"_id":"themes/next/.git/refs/remotes/origin/HEAD","hash":"d9427cda09aba1cdde5c69c2b13c905bddb0bc51","modified":1456925740000},{"_id":"themes/next/.git/logs/refs/heads/master","hash":"c4fa9d66aeac3f6cca52e1bb519eb417a260f5d1","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/analytics/baidu-analytics.swig","hash":"7c43d66da93cde65b473a7d6db2a86f9a42647d6","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/analytics/facebook-sdk.swig","hash":"334176d838ee528e58468d8bc74ff3a6d3f25b2b","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/analytics/tencent-analytics.swig","hash":"3658414379e0e8a34c45c40feadc3edc8dc55f88","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/analytics/google-analytics.swig","hash":"30a23fa7e816496fdec0e932aa42e2d13098a9c2","modified":1456925740000},{"_id":"themes/next/layout/_scripts/third-party/comments/disqus.swig","hash":"3491d3cebabc8a28857200db28a1be65aad6adc2","modified":1456925740000},{"_id":"themes/next/.git/objects/pack/pack-9f8454b356dcd1a7963ee226c259d2a0bd89cd6a.idx","hash":"0275cf6ef3a4ed4e48f5a6afba7d1f3e840a7fc3","modified":1456925739000},{"_id":"themes/next/layout/_scripts/third-party/comments/duoshuo.swig","hash":"fa2b7a0006b6c447fa025474f8e0af4e4e569a36","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/back-to-top.styl","hash":"8d9b0f37cf0cd1c25e36303041406a8c72caf766","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/buttons.styl","hash":"0dfb4b3ba3180d7285e66f270e1d3fa0f132c3d2","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/comments.styl","hash":"471f1627891aca5c0e1973e09fbcb01e1510d193","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/components.styl","hash":"10994990d6e0b4d965a728a22cf7f6ee29cae9f6","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/pagination.styl","hash":"711c8830886619d4f4a0598b0cde5499dce50c62","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/tag-cloud.styl","hash":"dd8a3b22fc2f222ac6e6c05bd8a773fb039169c0","modified":1456925740000},{"_id":"themes/next/source/css/_common/scaffolding/base.styl","hash":"5304f99581da3a31de3ecec959b7adf9002fde83","modified":1456925740000},{"_id":"themes/next/source/css/_common/scaffolding/helpers.styl","hash":"6dc928ddfc4c93ad2ffef2556aaaae155033abec","modified":1456925740000},{"_id":"themes/next/source/css/_common/scaffolding/scaffolding.styl","hash":"013619c472c7e4b08311c464fcbe9fcf5edde603","modified":1456925740000},{"_id":"themes/next/source/css/_common/scaffolding/normalize.styl","hash":"ece571f38180febaf02ace8187ead8318a300ea7","modified":1456925740000},{"_id":"themes/next/source/css/_common/scaffolding/tables.styl","hash":"5f766cf26f966dbf9dcfe681f40ab9032e3e8a08","modified":1456925740000},{"_id":"themes/next/source/css/_common/outline/outline.styl","hash":"2186be20e317505cd31886f1291429cc21f76703","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/_header.styl","hash":"7ef0d31c84df1a42806e6d7a8cf0ccb72861fe4c","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/_base.styl","hash":"c2d079788d6fc2e9a191ccdae94e50d55bf849dc","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/_logo.styl","hash":"38e5df90c8689a71c978fd83ba74af3d4e4e5386","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/index.styl","hash":"c9b21deba07b6818e129dcf6e19b81e4d0e9f97a","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/_menu.styl","hash":"a9dc44b6320180c1446194d1ba0fadde88dbf886","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Mist/_posts-expanded.styl","hash":"4303776991ef28f5742ca51c7dffe6f12f0acf34","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Muse/_layout.styl","hash":"6ed60cc621bac096c0ed7534fa25b1a52dc571d4","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Muse/_logo.styl","hash":"8829bc556ca38bfec4add4f15a2f028092ac6d46","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Muse/index.styl","hash":"8aca5d9f1df157ab27e699c1b3ba9438b9e039ad","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Muse/_search.styl","hash":"1452cbe674cc1d008e1e9640eb4283841058fc64","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Muse/_menu.styl","hash":"870a3efaebac2733a32283f3e30b19a127d7d92b","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_brand.styl","hash":"9658d09de4fcc809a29d4b706a9621adfb3090ad","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_full-image.styl","hash":"938d39eedc6e3d33918c1145a5bf1e79991d3fcf","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_layout.styl","hash":"58a036397de73d868fee16f34d246a3d863f30c2","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_posts.styl","hash":"2f878213cb24c5ddc18877f6d15ec5c5f57745ac","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_menu.styl","hash":"dcbfef1c76288620f7f405a7aeba893d458d5b6a","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/_sidebar.styl","hash":"b28187c610bf5f05e27732f72c3486494689bbfe","modified":1456925740000},{"_id":"themes/next/source/css/_schemes/Pisces/index.styl","hash":"1b10ba2d3ad0c063c418dc94a0b7e0db4b342c53","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/blank.gif","hash":"2daeaa8b5f19f0bc209d976c02bd6acb51b00b0a","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading.gif","hash":"1a755fb2599f3a313cc6cfdb14df043f8c14a99c","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_loading@2x.gif","hash":"273b123496a42ba45c3416adb027cd99745058b0","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_overlay.png","hash":"b3a4ee645ba494f52840ef8412015ba0f465dbe0","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite.png","hash":"17df19f97628e77be09c352bf27425faea248251","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/fancybox_sprite@2x.png","hash":"30c58913f327e28f466a00f4c1ac8001b560aed8","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.css","hash":"5f163444617b6cf267342f06ac166a237bb62df9","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.js","hash":"1cf3d47b5ccb7cb6e9019c64f2a88d03a64853e4","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/jquery.fancybox.pack.js","hash":"53360764b429c212f424399384417ccc233bb3be","modified":1456925740000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.min.js","hash":"38628e75e4412cc6f11074e03e1c6d257aae495b","modified":1456925740000},{"_id":"themes/next/source/vendors/ua-parser-js/dist/ua-parser.pack.js","hash":"214dad442a92d36af77ed0ca1d9092b16687f02f","modified":1456925740000},{"_id":"themes/next/source/js/src/schemes/pisces.js","hash":"94f935331995bfeadf1084fb8f0665ab39fd1c8d","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css","hash":"3b87c2560832748cd06f9bfd2fd6ea8edbdae8c7","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.css.map","hash":"0189d278706509412bac4745f96c83984e1d59f4","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/css/font-awesome.min.css","hash":"05ea25bc9b3ac48993e1fee322d3bc94b49a6e22","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.js","hash":"06cef196733a710e77ad7e386ced6963f092dc55","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff2","hash":"574ea2698c03ae9477db2ea3baf460ee32f1a7ea","modified":1456925740000},{"_id":"themes/next/source/vendors/fastclick/lib/fastclick.min.js","hash":"2cae0f5a6c5d6f3cb993015e6863f9483fc4de18","modified":1456925740000},{"_id":"themes/next/source/vendors/velocity/velocity.js","hash":"e63dc7cea055ca60a95d286f32349d88b10c5a4d","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.eot","hash":"b3c2f08e73320135b69c23a3908b87a12053a2f6","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/FontAwesome.otf","hash":"0112e96f327d413938d37c1693806f468ffdbace","modified":1456925740000},{"_id":"themes/next/.git/logs/refs/remotes/origin/HEAD","hash":"c4fa9d66aeac3f6cca52e1bb519eb417a260f5d1","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.woff","hash":"507970402e328b2baeb05bde73bf9ded4e2c3a2d","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/header/site-nav.styl","hash":"49c2b2c14a1e7fcc810c6be4b632975d0204c281","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/header/header.styl","hash":"ae1ca14e51de67b07dba8f61ec79ee0e2e344574","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/header/site-meta.styl","hash":"61763d236029d2a4414be499d0e65d7dfb34605b","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/header/menu.styl","hash":"455d55cc693a1dcbf729b3d041edd0171093bdd3","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/header/headerband.styl","hash":"d27448f199fc2f9980b601bc22b87f08b5d64dd1","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/highlight/highlight.styl","hash":"6242be4307a3b3dafc14e556f51c8875c41a1ddd","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/highlight/theme.styl","hash":"ae19721ceee5ba460e131cb2427dae3c1ff39d6f","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/footer/footer.styl","hash":"8994ffcce84deac0471532f270f97c44fea54dc0","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/pages/archive.styl","hash":"23dd966324937deeccc8f5fa16a6d32e4e46243b","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/pages/pages.styl","hash":"3c46efd6601e268093ce6d7b1471d18501878f0d","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/pages/categories.styl","hash":"4f696a2eaeee2f214adcf273eab25c62a398077a","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/pages/post-detail.styl","hash":"9bf4362a4d0ae151ada84b219d39fbe5bb8c790e","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-collapse.styl","hash":"fe71e9be08cb418cf68352fd6212ddd0d7150579","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-eof.styl","hash":"2cdc094ecf907a02fce25ad4a607cd5c40da0f2b","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-expand.styl","hash":"b25132fe6a7ad67059a2c3afc60feabb479bdd75","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-gallery.styl","hash":"387ce23bba52b22a586b2dfb4ec618fe1ffd3926","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-meta.styl","hash":"330a2ce52c5a5fefc1e85c473113a3bc58210c76","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-more-link.styl","hash":"5c415dc8efab7c1bdeffacafa3100d1da6628b03","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-nav.styl","hash":"cbca4842a54950e2934b3b8f3cd940f122111aef","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-tags.styl","hash":"a352ae5b1f8857393bf770d2e638bf15f0c9585d","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-title.styl","hash":"99d994bd19895a4aaa2fa8d12801ec72dd3cf118","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post-type.styl","hash":"10251257aceecb117233c9554dcf8ecfef8e2104","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/post/post.styl","hash":"01db9373cd13c1aec840205c622064dd6ae03361","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author.styl","hash":"89fef1caf94caf76ca09c643b83b0b4d4e417e08","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-author-links.styl","hash":"2e7ec9aaa3293941106b1bdd09055246aa3c3dc6","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-feed-link.styl","hash":"9486ddd2cb255227db102d09a7df4cae0fabad72","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toc.styl","hash":"6533563b34241e5c73da68156aba89e880b93f53","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-nav.styl","hash":"45fa7193435a8eae9960267438750b4c9fa9587f","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar-toggle.styl","hash":"2d3abbc85b979a648e0e579e45f16a6eba49d1e7","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/sidebar.styl","hash":"1099b5d07a60d93dad6221677c60cba60a82266b","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/sidebar/site-state.styl","hash":"58fb7604b44e3f56d880bbbd95d0baface38c4ee","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/tags/full-image.styl","hash":"618f73450cf541f88a4fddc3d22898aee49d105d","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/tags/blockquote-center.styl","hash":"c2abe4d87148e23e15d49ee225bc650de60baf46","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/tags/group-pictures.styl","hash":"4851b981020c5cbc354a1af9b831a2dcb3cf9d39","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/tags/tags.styl","hash":"8e66c2635d48e11de616bb29c4b1323698eebc0a","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/third-party/jiathis.styl","hash":"327b5f63d55ec26f7663185c1a778440588d9803","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/third-party/duoshuo.styl","hash":"2340dd9b3202c61d73cc708b790fac5adddbfc7f","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/third-party/third-party.styl","hash":"55a7b6d0b6d4aa61d6e252ad7fe7b34865dc9d67","modified":1456925740000},{"_id":"themes/next/source/css/_common/components/third-party/localsearch.styl","hash":"053241588554355d836ba7767baf810768edce4b","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/fancybox_buttons.png","hash":"e385b139516c6813dcd64b8fc431c364ceafe5f3","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.js","hash":"91e41741c2e93f732c82aaacec4cfc6e3f3ec876","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-buttons.css","hash":"1a9d8e5c22b371fcc69d4dbbb823d9c39f04c0c8","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-media.js","hash":"3bdf69ed2469e4fb57f5a95f17300eef891ff90d","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.ttf","hash":"27cf1f2ec59aece6938c7bb2feb0e287ea778ff9","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.css","hash":"4ac329c16a5277592fc12a37cca3d72ca4ec292f","modified":1456925740000},{"_id":"themes/next/source/vendors/fancybox/source/helpers/jquery.fancybox-thumbs.js","hash":"53e194f4a72e649c04fb586dd57762b8c022800b","modified":1456925740000},{"_id":"themes/next/source/vendors/font-awesome/fonts/fontawesome-webfont.svg","hash":"2b3c8ba7008cc014d8fb37abc6f9f49aeda83824","modified":1456925740000},{"_id":"themes/next/.git/objects/pack/pack-9f8454b356dcd1a7963ee226c259d2a0bd89cd6a.pack","hash":"a3c0dbfd8b03bb2512c2440c41d220fc7c1e1aa6","modified":1456925739000},{"_id":"public/tags/index.html","hash":"acd75b06fcee051f4710ef72b2794fd8b62e4283","modified":1459492729309},{"_id":"public/categories/index.html","hash":"973cba1c76d9edcbe73fc8025abb1aa84767ddc4","modified":1459492729309},{"_id":"public/categories/ndk/index.html","hash":"f271f1a718a361c1aabb2a5cd99e9479bbc5bd1b","modified":1459492729310},{"_id":"public/categories/Android/index.html","hash":"8cd562c591d319b572d59777b57e8d0ac93e7c37","modified":1459492729310},{"_id":"public/categories/mac/index.html","hash":"ed0412ae8741d3325e77505994803597c8fd3217","modified":1459492729310},{"_id":"public/categories/java/index.html","hash":"cd17b2c9a9afef665887005eb5ac7e8311f1358c","modified":1459492729310},{"_id":"public/categories/mac/atom/index.html","hash":"19dbbdfa516b162dd9764f0d9afc0821257cc53d","modified":1459492729310},{"_id":"public/categories/english/index.html","hash":"1c9b6ab51851ce8bdab7828fa26beb1ae06fad04","modified":1459492729310},{"_id":"public/categories/Git/index.html","hash":"75443d0ce7cbea8fd3b73b11f47e555a87e006a4","modified":1459492729310},{"_id":"public/tags/ndk/index.html","hash":"aeb8d8add2288602cbe7bb2594c1cf598b2e9b55","modified":1459492729310},{"_id":"public/tags/Android/index.html","hash":"bbc21a0be59726ddc7674c3d2d5e140f0eefd6bd","modified":1459492729311},{"_id":"public/tags/atom/index.html","hash":"bb0d540b0886889bc2d5b837bbbe87d3c20430d8","modified":1459492729311},{"_id":"public/tags/tools/index.html","hash":"f32595a58df934fd9426a00d1638524185a262f7","modified":1459492729311},{"_id":"public/tags/mac/index.html","hash":"8bd51606c424a0c94a1c96363d57f72f6b46852a","modified":1459492729311},{"_id":"public/tags/java/index.html","hash":"2dbdda62c9f158cfee29b782d8a1f67c8017e829","modified":1459492729311},{"_id":"public/tags/RAML/index.html","hash":"4f506cf87ff8e8621d52bcbabcf951b528ba3f15","modified":1459492729311},{"_id":"public/tags/math/index.html","hash":"714d94fd34fd9cbc3deffbb6fe0eb19af6abe671","modified":1459492729311},{"_id":"public/tags/round/index.html","hash":"701b38c538eb5b87bfa72a65b4038b07b29d03b7","modified":1459492729311},{"_id":"public/tags/dns/index.html","hash":"629e78963372e2c81e4c7a574958c0d550c06a69","modified":1459492729312},{"_id":"public/tags/缓存/index.html","hash":"cc73a017e88c79d6ec46ebfdb11955b3db5b94d9","modified":1459492729312},{"_id":"public/tags/english/index.html","hash":"2261c38b5949174902d6bc7d5d64de4c9bc0a11e","modified":1459492729312},{"_id":"public/tags/mysql/index.html","hash":"c528db1236203397f8961920f2e2466213e15482","modified":1459492729312},{"_id":"public/tags/Git/index.html","hash":"83b5ae327f21bbb1c8136383d1230aa16825e410","modified":1459492729312},{"_id":"public/tags/数据库/index.html","hash":"1934cb49986b3caaa7b3eaea34fb102e81252f44","modified":1459492729312},{"_id":"public/tags/lint/index.html","hash":"7bd5134e542745814a241a3f4c312c80eaf75d11","modified":1459492729312},{"_id":"public/2016/03/30/Java中Math类的一些常用方法/index.html","hash":"5794bc0e81253187f63e23b7da7d0932a5a93865","modified":1459492729312},{"_id":"public/2016/03/28/Atom-编辑器快捷键列表汇总整理/index.html","hash":"c8d0ea06548aa97aa678f2eae1bc617440d52fa9","modified":1459492729312},{"_id":"public/2016/03/22/使用Android-Studio的lint清除无用的资源文件/index.html","hash":"c49fb578b16f960fda6694fc58d5d1044026dddd","modified":1459492729313},{"_id":"public/2016/03/20/Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7/index.html","hash":"6ef25b3e5b075ed9cdb22e7a7b15039304a660c5","modified":1459492729313},{"_id":"public/2016/03/18/Mac-清除-DNS-缓存/index.html","hash":"5d14be6c78a53c966f4791df633a72d2f60fd229","modified":1459492729313},{"_id":"public/2016/03/14/Android-mk、Application-mk/index.html","hash":"a08d6dd3708b5b5c09173f89b964c927ebc93c3c","modified":1459492729313},{"_id":"public/2016/03/14/常用-Git-命令清单/index.html","hash":"5be2bcbc21e69facc25f91a1a5a8b45e1dde4603","modified":1459492729313},{"_id":"public/2016/03/12/英语谚语-每日一句/index.html","hash":"2f640007f3c2239ce035e9d44e27c5ad3a4f3f7f","modified":1460095491138},{"_id":"public/2016/03/10/Android-TextView-部分字体设置颜色或大小/index.html","hash":"c0ef607dd8ae53fba3947d0527d91d157c275839","modified":1459492729313},{"_id":"public/2016/03/09/Mac下，添加Android-adb命令/index.html","hash":"105c8465631223ed6af76d026ee8bdd62bc347a2","modified":1459492729313},{"_id":"public/2016/03/09/mac系统如何显示和隐藏文件/index.html","hash":"633950c028f5af12876391ca9d0d8baa4b7bc7dc","modified":1459492729313},{"_id":"public/2016/03/03/正则表达式--匹配电话号码和手机号码/index.html","hash":"854643705bdf4d996b55cdcfe21ac92d75717842","modified":1459492729313},{"_id":"public/archives/index.html","hash":"2f845f591ba2bd6ccad1cace6aa9d6dc3cdcc9bc","modified":1459492729314},{"_id":"public/archives/2016/index.html","hash":"3e75a1f63c94cb5570a66a47c1728c45a24d577b","modified":1459492729314},{"_id":"public/archives/2016/03/index.html","hash":"69c039ee1e79142df7cb03c0e8ba48b8f219e5ee","modified":1459492729314},{"_id":"public/index.html","hash":"9f7c04577068c05fd9eaf4eafbeb8841cd8919c0","modified":1459492729314},{"_id":"public/page/2/index.html","hash":"aab3e23bbe604f2f4c4d181696729672a44faa88","modified":1459492729314},{"_id":"public/page/3/index.html","hash":"9a76fda81ebe04cfb2c5c351bfd2f4288a625422","modified":1459492729314},{"_id":"public/archives/2016/04/index.html","hash":"a6a8e3a106477b78bc2afd5423930f4ca5c1d296","modified":1459492729316},{"_id":"public/tags/python/index.html","hash":"656194920a44c7bf36b2ffffaba1b1ef78d80ece","modified":1459492729316},{"_id":"public/tags/wechat/index.html","hash":"31d6730125feb4b9558fb8185c6d6837740af8cd","modified":1459492729316},{"_id":"public/tags/微信/index.html","hash":"52febff1492ef7c5f8f5e15bfcacc6270cc0e3b9","modified":1459492729316},{"_id":"public/categories/python/index.html","hash":"27fc187f585803c3979de225f5918f589a275736","modified":1459492729316},{"_id":"public/2016/04/01/查看被删的微信好友/index.html","hash":"3d4845046e456b608611caaddc41c28de2721acd","modified":1459492729316}],"Category":[{"name":"ndk","_id":"cimhc9h5h0004pzv2t8swtmnm"},{"name":"Android","_id":"cimhc9h5o0009pzv2z9f038xc"},{"name":"mac","_id":"cimhc9h5y000fpzv29gzuvl9b"},{"name":"java","_id":"cimhc9h63000lpzv2192m5mue"},{"name":"python","_id":"cimhc9h6h0013pzv21mgv96gi"},{"name":"atom","parent":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6j0019pzv2oxn3ypdk"},{"name":"english","_id":"cimhc9h6l001cpzv21a1fiya8"},{"name":"Git","_id":"cimhc9h6m001gpzv2yebdhpuv"}],"Data":[],"Page":[{"title":"tags","date":"2016-03-10T03:02:47.000Z","type":"tags","comments":1,"_content":"\n\n","source":"tags/index.md","raw":"---\ntitle: tags\ndate: 2016-03-10 11:02:47\ntype: \"tags\"\ncomments: true\n---\n\n\n","updated":"2016-03-10T07:05:58.000Z","path":"tags/index.html","layout":"page","_id":"cimhc9h5b0001pzv261p2q6yd","content":"","excerpt":"","more":""},{"title":"categories","date":"2016-03-10T03:02:47.000Z","type":"categories","comments":1,"_content":"\n\n","source":"categories/index.md","raw":"---\ntitle: categories\ndate: 2016-03-10 11:02:47\ntype: \"categories\"\ncomments: true\n---\n\n\n","updated":"2016-03-10T07:05:41.000Z","path":"categories/index.html","layout":"page","_id":"cimhc9ham002gpzv2wmj16vdx","content":"","excerpt":"","more":""}],"Post":[{"title":"Android.mk、Application.mk","date":"2016-03-14T03:42:27.000Z","_content":"\n# Android.mk、Application.mk\n\n### Application.mk\nApplication.mk 目的是描述在你的应用程序中所需要的模块(即静态库或动态库)，如下是表示编译出所有对应的平台。\n\n`````\nAPP_ABI := all\n`````\n### Android.mk\nAndroid.mk是Android提供的一种makefile文件，用来指定诸如编译生成so库名、引用的头文件目录、需要编译的.c/.cpp文件和.a静态库文件等\n\n`````\nLOCAL_PATH := $(call my-dir)\n\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE := hello-jni\nLOCAL_SRC_FILES := hello-jni.c\n\ninclude $(BUILD_SHARED_LIBRARY)\n`````\n<!-- more -->\n\n#### LOCAL_PATH := $(call my-dir)\n每个Android.mk文件必须以定义LOCAL_PATH为开始。它用于在开发tree中查找源文件。\n宏 my-dir 则由Build System提供。返回包含Android.mk的目录路径。\n\n#### include $(CLEAR_VARS)\nCLEAR_VARS 变量由Build System提供。并指向一个指定的GNU Makefile，由它负责清理很多LOCAL_xxx.\n例如：LOCAL_MODULE, LOCAL_SRC_FILES, LOCAL_STATIC_LIBRARIES等等。但不清理LOCAL_PATH.\n这个清理动作是必须的，因为所有的编译控制文件由同一个GNU Make解析和执行，其变量是全局的。所以清理后才能避免相互影响。\n\n#### LOCAL_MODULE := hello-jni\nLOCAL_MODULE 模块必须定义，以表示Android.mk中的每一个模块。名字必须唯一且不包含空格。\nBuild System会自动添加适当的前缀和后缀。例如, foo, 要产生动态库，则生成libfoo.so。但请注意：如果模块名被定为：libfoo。则生成libfoo.so。不再加前缀。\n\n#### LOCAL_SRC_FILES := hello-jni.c\nLOCAL_SRC_FILES变量必须包含将要打包入模块的C/C++源码。\n不必列出头文件，Build System会自动帮我们找到依赖文件。\n缺省的C++源码的扩展名为.cpp。也可以修改，通过LOCAL_CPP_EXTENSION。\n\n#### include $(BUILD_SHARED_LIBRARY)\nBUILD_SHARED_LIBRARY: 是Build System提供的一个变量，指向一个GNU Makefile Script。\n它负责收集自从上次调用`include $(CLEAR_VARS)`后的所有LOCAL_xxx信息。并决定编译什么。\n\n##### BUILD_STATIC_LIBRARY: 编译为静态库。\n##### BUILD_SHARED_LIBRARY: 编译为动态库。\n##### BUILD_EXECUTABLE: 编译为Native C可执行程序\n\n### 多文件编译\n\n`````\nLOCAL_PATH:= $(call my-dir)\n\n# first lib, which will be built statically\n#\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE    := libtwolib-first\nLOCAL_SRC_FILES := first.c\n\ninclude $(BUILD_STATIC_LIBRARY)\n\n# second lib, which will depend on and include the first one\n#\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE    := libtwolib-second\nLOCAL_SRC_FILES := second.c\n\nLOCAL_STATIC_LIBRARIES := libtwolib-first\n\ninclude $(BUILD_SHARED_LIBRARY)\n`````\n\n### 语法详解\n\n[android.mk](http://android.mk/)\n\n> 作者：ben_speed \n> 文章源自：http://www.jianshu.com/p/46089c2276f3\n\n","source":"_posts/Android-mk、Application-mk.md","raw":"---\ntitle: Android.mk、Application.mk\ndate: 2016-03-14 11:42:27\ntags: [ndk]\ncategories: ndk\n---\n\n# Android.mk、Application.mk\n\n### Application.mk\nApplication.mk 目的是描述在你的应用程序中所需要的模块(即静态库或动态库)，如下是表示编译出所有对应的平台。\n\n`````\nAPP_ABI := all\n`````\n### Android.mk\nAndroid.mk是Android提供的一种makefile文件，用来指定诸如编译生成so库名、引用的头文件目录、需要编译的.c/.cpp文件和.a静态库文件等\n\n`````\nLOCAL_PATH := $(call my-dir)\n\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE := hello-jni\nLOCAL_SRC_FILES := hello-jni.c\n\ninclude $(BUILD_SHARED_LIBRARY)\n`````\n<!-- more -->\n\n#### LOCAL_PATH := $(call my-dir)\n每个Android.mk文件必须以定义LOCAL_PATH为开始。它用于在开发tree中查找源文件。\n宏 my-dir 则由Build System提供。返回包含Android.mk的目录路径。\n\n#### include $(CLEAR_VARS)\nCLEAR_VARS 变量由Build System提供。并指向一个指定的GNU Makefile，由它负责清理很多LOCAL_xxx.\n例如：LOCAL_MODULE, LOCAL_SRC_FILES, LOCAL_STATIC_LIBRARIES等等。但不清理LOCAL_PATH.\n这个清理动作是必须的，因为所有的编译控制文件由同一个GNU Make解析和执行，其变量是全局的。所以清理后才能避免相互影响。\n\n#### LOCAL_MODULE := hello-jni\nLOCAL_MODULE 模块必须定义，以表示Android.mk中的每一个模块。名字必须唯一且不包含空格。\nBuild System会自动添加适当的前缀和后缀。例如, foo, 要产生动态库，则生成libfoo.so。但请注意：如果模块名被定为：libfoo。则生成libfoo.so。不再加前缀。\n\n#### LOCAL_SRC_FILES := hello-jni.c\nLOCAL_SRC_FILES变量必须包含将要打包入模块的C/C++源码。\n不必列出头文件，Build System会自动帮我们找到依赖文件。\n缺省的C++源码的扩展名为.cpp。也可以修改，通过LOCAL_CPP_EXTENSION。\n\n#### include $(BUILD_SHARED_LIBRARY)\nBUILD_SHARED_LIBRARY: 是Build System提供的一个变量，指向一个GNU Makefile Script。\n它负责收集自从上次调用`include $(CLEAR_VARS)`后的所有LOCAL_xxx信息。并决定编译什么。\n\n##### BUILD_STATIC_LIBRARY: 编译为静态库。\n##### BUILD_SHARED_LIBRARY: 编译为动态库。\n##### BUILD_EXECUTABLE: 编译为Native C可执行程序\n\n### 多文件编译\n\n`````\nLOCAL_PATH:= $(call my-dir)\n\n# first lib, which will be built statically\n#\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE    := libtwolib-first\nLOCAL_SRC_FILES := first.c\n\ninclude $(BUILD_STATIC_LIBRARY)\n\n# second lib, which will depend on and include the first one\n#\ninclude $(CLEAR_VARS)\n\nLOCAL_MODULE    := libtwolib-second\nLOCAL_SRC_FILES := second.c\n\nLOCAL_STATIC_LIBRARIES := libtwolib-first\n\ninclude $(BUILD_SHARED_LIBRARY)\n`````\n\n### 语法详解\n\n[android.mk](http://android.mk/)\n\n> 作者：ben_speed \n> 文章源自：http://www.jianshu.com/p/46089c2276f3\n\n","slug":"Android-mk、Application-mk","published":1,"updated":"2016-03-14T03:48:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h560000pzv27nnzwuj0","content":"<h1 id=\"Android-mk、Application-mk\"><a href=\"#Android-mk、Application-mk\" class=\"headerlink\" title=\"Android.mk、Application.mk\"></a>Android.mk、Application.mk</h1><h3 id=\"Application-mk\"><a href=\"#Application-mk\" class=\"headerlink\" title=\"Application.mk\"></a>Application.mk</h3><p>Application.mk 目的是描述在你的应用程序中所需要的模块(即静态库或动态库)，如下是表示编译出所有对应的平台。</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">APP_ABI</span> := <span class=\"literal\">all</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Android-mk\"><a href=\"#Android-mk\" class=\"headerlink\" title=\"Android.mk\"></a>Android.mk</h3><p>Android.mk是Android提供的一种makefile文件，用来指定诸如编译生成so库名、引用的头文件目录、需要编译的.c/.cpp文件和.a静态库文件等</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LOCAL_PATH <span class=\"symbol\">:</span>= <span class=\"variable\">$(</span>call my-dir)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE <span class=\"symbol\">:</span>= hello-jni</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= hello-jni.c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"LOCAL-PATH-call-my-dir\"><a href=\"#LOCAL-PATH-call-my-dir\" class=\"headerlink\" title=\"LOCAL_PATH := $(call my-dir)\"></a>LOCAL_PATH := $(call my-dir)</h4><p>每个Android.mk文件必须以定义LOCAL_PATH为开始。它用于在开发tree中查找源文件。<br>宏 my-dir 则由Build System提供。返回包含Android.mk的目录路径。</p>\n<h4 id=\"include-CLEAR-VARS\"><a href=\"#include-CLEAR-VARS\" class=\"headerlink\" title=\"include $(CLEAR_VARS)\"></a>include $(CLEAR_VARS)</h4><p>CLEAR_VARS 变量由Build System提供。并指向一个指定的GNU Makefile，由它负责清理很多LOCAL_xxx.<br>例如：LOCAL_MODULE, LOCAL_SRC_FILES, LOCAL_STATIC_LIBRARIES等等。但不清理LOCAL_PATH.<br>这个清理动作是必须的，因为所有的编译控制文件由同一个GNU Make解析和执行，其变量是全局的。所以清理后才能避免相互影响。</p>\n<h4 id=\"LOCAL-MODULE-hello-jni\"><a href=\"#LOCAL-MODULE-hello-jni\" class=\"headerlink\" title=\"LOCAL_MODULE := hello-jni\"></a>LOCAL_MODULE := hello-jni</h4><p>LOCAL_MODULE 模块必须定义，以表示Android.mk中的每一个模块。名字必须唯一且不包含空格。<br>Build System会自动添加适当的前缀和后缀。例如, foo, 要产生动态库，则生成libfoo.so。但请注意：如果模块名被定为：libfoo。则生成libfoo.so。不再加前缀。</p>\n<h4 id=\"LOCAL-SRC-FILES-hello-jni-c\"><a href=\"#LOCAL-SRC-FILES-hello-jni-c\" class=\"headerlink\" title=\"LOCAL_SRC_FILES := hello-jni.c\"></a>LOCAL_SRC_FILES := hello-jni.c</h4><p>LOCAL_SRC_FILES变量必须包含将要打包入模块的C/C++源码。<br>不必列出头文件，Build System会自动帮我们找到依赖文件。<br>缺省的C++源码的扩展名为.cpp。也可以修改，通过LOCAL_CPP_EXTENSION。</p>\n<h4 id=\"include-BUILD-SHARED-LIBRARY\"><a href=\"#include-BUILD-SHARED-LIBRARY\" class=\"headerlink\" title=\"include $(BUILD_SHARED_LIBRARY)\"></a>include $(BUILD_SHARED_LIBRARY)</h4><p>BUILD_SHARED_LIBRARY: 是Build System提供的一个变量，指向一个GNU Makefile Script。<br>它负责收集自从上次调用<code>include $(CLEAR_VARS)</code>后的所有LOCAL_xxx信息。并决定编译什么。</p>\n<h5 id=\"BUILD-STATIC-LIBRARY-编译为静态库。\"><a href=\"#BUILD-STATIC-LIBRARY-编译为静态库。\" class=\"headerlink\" title=\"BUILD_STATIC_LIBRARY: 编译为静态库。\"></a>BUILD_STATIC_LIBRARY: 编译为静态库。</h5><h5 id=\"BUILD-SHARED-LIBRARY-编译为动态库。\"><a href=\"#BUILD-SHARED-LIBRARY-编译为动态库。\" class=\"headerlink\" title=\"BUILD_SHARED_LIBRARY: 编译为动态库。\"></a>BUILD_SHARED_LIBRARY: 编译为动态库。</h5><h5 id=\"BUILD-EXECUTABLE-编译为Native-C可执行程序\"><a href=\"#BUILD-EXECUTABLE-编译为Native-C可执行程序\" class=\"headerlink\" title=\"BUILD_EXECUTABLE: 编译为Native C可执行程序\"></a>BUILD_EXECUTABLE: 编译为Native C可执行程序</h5><h3 id=\"多文件编译\"><a href=\"#多文件编译\" class=\"headerlink\" title=\"多文件编译\"></a>多文件编译</h3><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">LOCAL_PATH:</span>= <span class=\"variable\">$(</span>call my-dir)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># first lib, which will be built statically</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE    <span class=\"symbol\">:</span>= libtwolib-first</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= first.c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_STATIC_LIBRARY)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># second lib, which will depend on and include the first one</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE    <span class=\"symbol\">:</span>= libtwolib-second</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= second.c</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_STATIC_LIBRARIES <span class=\"symbol\">:</span>= libtwolib-first</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>\n<h3 id=\"语法详解\"><a href=\"#语法详解\" class=\"headerlink\" title=\"语法详解\"></a>语法详解</h3><p><a href=\"http://android.mk/\" target=\"_blank\" rel=\"external\">android.mk</a></p>\n<blockquote>\n<p>作者：ben_speed<br>文章源自：<a href=\"http://www.jianshu.com/p/46089c2276f3\" target=\"_blank\" rel=\"external\">http://www.jianshu.com/p/46089c2276f3</a></p>\n</blockquote>\n","excerpt":"<h1 id=\"Android-mk、Application-mk\"><a href=\"#Android-mk、Application-mk\" class=\"headerlink\" title=\"Android.mk、Application.mk\"></a>Android.mk、Application.mk</h1><h3 id=\"Application-mk\"><a href=\"#Application-mk\" class=\"headerlink\" title=\"Application.mk\"></a>Application.mk</h3><p>Application.mk 目的是描述在你的应用程序中所需要的模块(即静态库或动态库)，如下是表示编译出所有对应的平台。</p>\n<figure class=\"highlight apache\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">APP_ABI</span> := <span class=\"literal\">all</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Android-mk\"><a href=\"#Android-mk\" class=\"headerlink\" title=\"Android.mk\"></a>Android.mk</h3><p>Android.mk是Android提供的一种makefile文件，用来指定诸如编译生成so库名、引用的头文件目录、需要编译的.c/.cpp文件和.a静态库文件等</p>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">LOCAL_PATH <span class=\"symbol\">:</span>= <span class=\"variable\">$(</span>call my-dir)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE <span class=\"symbol\">:</span>= hello-jni</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= hello-jni.c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>","more":"<h4 id=\"LOCAL-PATH-call-my-dir\"><a href=\"#LOCAL-PATH-call-my-dir\" class=\"headerlink\" title=\"LOCAL_PATH := $(call my-dir)\"></a>LOCAL_PATH := $(call my-dir)</h4><p>每个Android.mk文件必须以定义LOCAL_PATH为开始。它用于在开发tree中查找源文件。<br>宏 my-dir 则由Build System提供。返回包含Android.mk的目录路径。</p>\n<h4 id=\"include-CLEAR-VARS\"><a href=\"#include-CLEAR-VARS\" class=\"headerlink\" title=\"include $(CLEAR_VARS)\"></a>include $(CLEAR_VARS)</h4><p>CLEAR_VARS 变量由Build System提供。并指向一个指定的GNU Makefile，由它负责清理很多LOCAL_xxx.<br>例如：LOCAL_MODULE, LOCAL_SRC_FILES, LOCAL_STATIC_LIBRARIES等等。但不清理LOCAL_PATH.<br>这个清理动作是必须的，因为所有的编译控制文件由同一个GNU Make解析和执行，其变量是全局的。所以清理后才能避免相互影响。</p>\n<h4 id=\"LOCAL-MODULE-hello-jni\"><a href=\"#LOCAL-MODULE-hello-jni\" class=\"headerlink\" title=\"LOCAL_MODULE := hello-jni\"></a>LOCAL_MODULE := hello-jni</h4><p>LOCAL_MODULE 模块必须定义，以表示Android.mk中的每一个模块。名字必须唯一且不包含空格。<br>Build System会自动添加适当的前缀和后缀。例如, foo, 要产生动态库，则生成libfoo.so。但请注意：如果模块名被定为：libfoo。则生成libfoo.so。不再加前缀。</p>\n<h4 id=\"LOCAL-SRC-FILES-hello-jni-c\"><a href=\"#LOCAL-SRC-FILES-hello-jni-c\" class=\"headerlink\" title=\"LOCAL_SRC_FILES := hello-jni.c\"></a>LOCAL_SRC_FILES := hello-jni.c</h4><p>LOCAL_SRC_FILES变量必须包含将要打包入模块的C/C++源码。<br>不必列出头文件，Build System会自动帮我们找到依赖文件。<br>缺省的C++源码的扩展名为.cpp。也可以修改，通过LOCAL_CPP_EXTENSION。</p>\n<h4 id=\"include-BUILD-SHARED-LIBRARY\"><a href=\"#include-BUILD-SHARED-LIBRARY\" class=\"headerlink\" title=\"include $(BUILD_SHARED_LIBRARY)\"></a>include $(BUILD_SHARED_LIBRARY)</h4><p>BUILD_SHARED_LIBRARY: 是Build System提供的一个变量，指向一个GNU Makefile Script。<br>它负责收集自从上次调用<code>include $(CLEAR_VARS)</code>后的所有LOCAL_xxx信息。并决定编译什么。</p>\n<h5 id=\"BUILD-STATIC-LIBRARY-编译为静态库。\"><a href=\"#BUILD-STATIC-LIBRARY-编译为静态库。\" class=\"headerlink\" title=\"BUILD_STATIC_LIBRARY: 编译为静态库。\"></a>BUILD_STATIC_LIBRARY: 编译为静态库。</h5><h5 id=\"BUILD-SHARED-LIBRARY-编译为动态库。\"><a href=\"#BUILD-SHARED-LIBRARY-编译为动态库。\" class=\"headerlink\" title=\"BUILD_SHARED_LIBRARY: 编译为动态库。\"></a>BUILD_SHARED_LIBRARY: 编译为动态库。</h5><h5 id=\"BUILD-EXECUTABLE-编译为Native-C可执行程序\"><a href=\"#BUILD-EXECUTABLE-编译为Native-C可执行程序\" class=\"headerlink\" title=\"BUILD_EXECUTABLE: 编译为Native C可执行程序\"></a>BUILD_EXECUTABLE: 编译为Native C可执行程序</h5><h3 id=\"多文件编译\"><a href=\"#多文件编译\" class=\"headerlink\" title=\"多文件编译\"></a>多文件编译</h3><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"symbol\">LOCAL_PATH:</span>= <span class=\"variable\">$(</span>call my-dir)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># first lib, which will be built statically</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE    <span class=\"symbol\">:</span>= libtwolib-first</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= first.c</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_STATIC_LIBRARY)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># second lib, which will depend on and include the first one</span></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>CLEAR_VARS)</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_MODULE    <span class=\"symbol\">:</span>= libtwolib-second</span><br><span class=\"line\">LOCAL_SRC_FILES <span class=\"symbol\">:</span>= second.c</span><br><span class=\"line\"></span><br><span class=\"line\">LOCAL_STATIC_LIBRARIES <span class=\"symbol\">:</span>= libtwolib-first</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">include</span> <span class=\"variable\">$(</span>BUILD_SHARED_LIBRARY)</span><br></pre></td></tr></table></figure>\n<h3 id=\"语法详解\"><a href=\"#语法详解\" class=\"headerlink\" title=\"语法详解\"></a>语法详解</h3><p><a href=\"http://android.mk/\">android.mk</a></p>\n<blockquote>\n<p>作者：ben_speed<br>文章源自：<a href=\"http://www.jianshu.com/p/46089c2276f3\">http://www.jianshu.com/p/46089c2276f3</a></p>\n</blockquote>"},{"title":"Android TextView 部分字体设置颜色或大小","date":"2016-03-10T13:06:03.000Z","_content":"### Android TextView 部分字体设置颜色或大小 \n>在某些情况下，会遇到某些关键字需要**高亮**显示，可Android自带的TextView支持很困难。\n\n>背景来自：今天一同学问我怎么实现，给他举例两种方式，他感觉不方便，因此我才写此文章，简单介绍下。\n\n#### 支持方式一\n可以通过HTML的方式，因为TextView可以加载HTML，因此可以简单的实现，缺点是和Android自带的字体看起来有点别扭。\n\n`````\ntextView4.setText(Html.fromHtml(\"北京市发布霾黄色预警，<font color='#ff0000'><small><small>外出携带好</small></small></font>口罩\"));\n`````\n<!--more-->\n\n#### 支持方式二\n可以通过代码的方式，对TextView设置部分字体的颜色。\n\n`````\nSpannable span = new SpannableString(textView3.getText());\nspan.setSpan(new AbsoluteSizeSpan(58), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nspan.setSpan(new ForegroundColorSpan(Color.RED), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nspan.setSpan(new BackgroundColorSpan(Color.YELLOW), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\ntextView3.setText(span);\n`````\n\n\n----\n以上两种方式，我感觉就可以了，不过有些同学感觉就是用起来比较麻烦，因此我们可以封装下第二种方法，变为第三种方法，也就是我要写的。\n\n#### 支持方式三\n\n通过自定义View的方式来封装这些代码。\n\n##### 首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好\n\n`````\npublic class CTextView extends TextView {\n    private float normalTextSize;\n    private float highlightTextSize;\n    private int normalTextColor;\n    private int highlightTextColor;\n\n    public CTextView(Context context) {\n        super(context);\n    }\n\n    public CTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        TypedArray typedArray = null;\n        try {\n            typedArray = context.obtainStyledAttributes(attrs, R.styleable.CTextView, 0, 0);\n            normalTextSize = typedArray.getDimension(R.styleable.CTextView_normal_textsize, 14);\n            highlightTextSize = typedArray.getDimension(R.styleable.CTextView_highlight_textsize, 14);\n            normalTextColor = typedArray.getColor(R.styleable.CTextView_normal_textcolor, Color.BLACK);\n            highlightTextColor = typedArray.getColor(R.styleable.CTextView_highlight_textcolor, Color.BLACK);\n\n        } finally {\n            if (typedArray != null) {\n                typedArray.recycle();\n            }\n        }\n    }\n\n    public void setText(String allString, String highlightString) {\n        SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder();\n        spannableStringBuilder.append(allString);\n        spannableStringBuilder.setSpan(new AbsoluteSizeSpan((int) normalTextSize, true), 0, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        spannableStringBuilder.setSpan(new ForegroundColorSpan(normalTextColor), 0, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        List<Integer> list = getSubIndex(0, allString, highlightString);\n        for (int i = 0; i < list.size(); i++) {\n            int index = list.get(i);\n            spannableStringBuilder.setSpan(new StyleSpan(Typeface.BOLD), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n            spannableStringBuilder.setSpan(new AbsoluteSizeSpan((int) highlightTextSize, true), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n            spannableStringBuilder.setSpan(new ForegroundColorSpan(highlightTextColor), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        }\n        setMovementMethod(LinkMovementMethod.getInstance());\n        setText(spannableStringBuilder);\n    }\n\n    private List<Integer> getSubIndex(int startIndex, String allString, String highlightString) {\n        List<Integer> list = new ArrayList<Integer>();\n        int index = -1;\n        if (startIndex == 0) {\n            index = allString.indexOf(highlightString);\n        } else {\n            index = allString.indexOf(highlightString, startIndex);\n        }\n        if (index != -1) {\n            list.add(index);\n            list.addAll(getSubIndex(index + highlightString.length(), allString, highlightString));\n        }\n        return list;\n    }\n\n}\n\n`````\n\n##### 定义上面类中用到的attrs.xml\n\n`````\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"CTextView\">\n        <attr name=\"normal_textsize\" format=\"dimension\"/>\n        <attr name=\"highlight_textsize\" format=\"dimension\"/>\n        <attr name=\"normal_textcolor\" format=\"color\"/>\n        <attr name=\"highlight_textcolor\" format=\"color\"/>\n    </declare-styleable>\n</resources>\n`````\n\n##### 在xml中的TextView的用法\n\n`````\n<LinearLayout \n\txmlns:android=\"http://schemas.android.com/apk/res/android\"\n\txmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\tandroid:layout_width=\"match_parent\"\n\tandroid:layout_height=\"wrap_content\"\n\tandroid:orientation=\"vertical\">\n\t<!-- 此处是包名+类名，请写自己的包名 -->\n<com.easemob.ctextview.CTextView\n    android:id=\"@+id/c_textview\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:normal_textsize=\"12sp\"\n    app:highlight_textsize=\"20sp\"\n    app:normal_textcolor=\"#000\"\n    app:highlight_textcolor=\"#f00\" />\n</LinearLayout>\n`````\n\n##### 在Activity中的用法\n\n`````\nCTextView cTextView = (CTextView) findViewById(R.id.c_textview);\ncTextView.setText(\"欢迎大家看我说了这么久，大家辛苦了！\",\"大家\");\n`````\n\n##### 结果如下：\n![result ctextview](http://7xpj58.com1.z0.glb.clouddn.com/img_20160310202020.png)\n\n\n\n","source":"_posts/Android-TextView-部分字体设置颜色或大小.md","raw":"---\ntitle: Android TextView 部分字体设置颜色或大小\ndate: 2016-03-10 21:06:03\ntags: [Android]\ncategories: Android\n---\n### Android TextView 部分字体设置颜色或大小 \n>在某些情况下，会遇到某些关键字需要**高亮**显示，可Android自带的TextView支持很困难。\n\n>背景来自：今天一同学问我怎么实现，给他举例两种方式，他感觉不方便，因此我才写此文章，简单介绍下。\n\n#### 支持方式一\n可以通过HTML的方式，因为TextView可以加载HTML，因此可以简单的实现，缺点是和Android自带的字体看起来有点别扭。\n\n`````\ntextView4.setText(Html.fromHtml(\"北京市发布霾黄色预警，<font color='#ff0000'><small><small>外出携带好</small></small></font>口罩\"));\n`````\n<!--more-->\n\n#### 支持方式二\n可以通过代码的方式，对TextView设置部分字体的颜色。\n\n`````\nSpannable span = new SpannableString(textView3.getText());\nspan.setSpan(new AbsoluteSizeSpan(58), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nspan.setSpan(new ForegroundColorSpan(Color.RED), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\nspan.setSpan(new BackgroundColorSpan(Color.YELLOW), 11, 16, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE);\ntextView3.setText(span);\n`````\n\n\n----\n以上两种方式，我感觉就可以了，不过有些同学感觉就是用起来比较麻烦，因此我们可以封装下第二种方法，变为第三种方法，也就是我要写的。\n\n#### 支持方式三\n\n通过自定义View的方式来封装这些代码。\n\n##### 首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好\n\n`````\npublic class CTextView extends TextView {\n    private float normalTextSize;\n    private float highlightTextSize;\n    private int normalTextColor;\n    private int highlightTextColor;\n\n    public CTextView(Context context) {\n        super(context);\n    }\n\n    public CTextView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        TypedArray typedArray = null;\n        try {\n            typedArray = context.obtainStyledAttributes(attrs, R.styleable.CTextView, 0, 0);\n            normalTextSize = typedArray.getDimension(R.styleable.CTextView_normal_textsize, 14);\n            highlightTextSize = typedArray.getDimension(R.styleable.CTextView_highlight_textsize, 14);\n            normalTextColor = typedArray.getColor(R.styleable.CTextView_normal_textcolor, Color.BLACK);\n            highlightTextColor = typedArray.getColor(R.styleable.CTextView_highlight_textcolor, Color.BLACK);\n\n        } finally {\n            if (typedArray != null) {\n                typedArray.recycle();\n            }\n        }\n    }\n\n    public void setText(String allString, String highlightString) {\n        SpannableStringBuilder spannableStringBuilder = new SpannableStringBuilder();\n        spannableStringBuilder.append(allString);\n        spannableStringBuilder.setSpan(new AbsoluteSizeSpan((int) normalTextSize, true), 0, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        spannableStringBuilder.setSpan(new ForegroundColorSpan(normalTextColor), 0, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        List<Integer> list = getSubIndex(0, allString, highlightString);\n        for (int i = 0; i < list.size(); i++) {\n            int index = list.get(i);\n            spannableStringBuilder.setSpan(new StyleSpan(Typeface.BOLD), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n            spannableStringBuilder.setSpan(new AbsoluteSizeSpan((int) highlightTextSize, true), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n            spannableStringBuilder.setSpan(new ForegroundColorSpan(highlightTextColor), index, index + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);\n        }\n        setMovementMethod(LinkMovementMethod.getInstance());\n        setText(spannableStringBuilder);\n    }\n\n    private List<Integer> getSubIndex(int startIndex, String allString, String highlightString) {\n        List<Integer> list = new ArrayList<Integer>();\n        int index = -1;\n        if (startIndex == 0) {\n            index = allString.indexOf(highlightString);\n        } else {\n            index = allString.indexOf(highlightString, startIndex);\n        }\n        if (index != -1) {\n            list.add(index);\n            list.addAll(getSubIndex(index + highlightString.length(), allString, highlightString));\n        }\n        return list;\n    }\n\n}\n\n`````\n\n##### 定义上面类中用到的attrs.xml\n\n`````\n<?xml version=\"1.0\" encoding=\"utf-8\"?>\n<resources>\n    <declare-styleable name=\"CTextView\">\n        <attr name=\"normal_textsize\" format=\"dimension\"/>\n        <attr name=\"highlight_textsize\" format=\"dimension\"/>\n        <attr name=\"normal_textcolor\" format=\"color\"/>\n        <attr name=\"highlight_textcolor\" format=\"color\"/>\n    </declare-styleable>\n</resources>\n`````\n\n##### 在xml中的TextView的用法\n\n`````\n<LinearLayout \n\txmlns:android=\"http://schemas.android.com/apk/res/android\"\n\txmlns:app=\"http://schemas.android.com/apk/res-auto\"\n\tandroid:layout_width=\"match_parent\"\n\tandroid:layout_height=\"wrap_content\"\n\tandroid:orientation=\"vertical\">\n\t<!-- 此处是包名+类名，请写自己的包名 -->\n<com.easemob.ctextview.CTextView\n    android:id=\"@+id/c_textview\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"wrap_content\"\n    app:normal_textsize=\"12sp\"\n    app:highlight_textsize=\"20sp\"\n    app:normal_textcolor=\"#000\"\n    app:highlight_textcolor=\"#f00\" />\n</LinearLayout>\n`````\n\n##### 在Activity中的用法\n\n`````\nCTextView cTextView = (CTextView) findViewById(R.id.c_textview);\ncTextView.setText(\"欢迎大家看我说了这么久，大家辛苦了！\",\"大家\");\n`````\n\n##### 结果如下：\n![result ctextview](http://7xpj58.com1.z0.glb.clouddn.com/img_20160310202020.png)\n\n\n\n","slug":"Android-TextView-部分字体设置颜色或大小","published":1,"updated":"2016-03-12T03:23:30.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5c0002pzv2efiehvmg","content":"<h3 id=\"Android-TextView-部分字体设置颜色或大小\"><a href=\"#Android-TextView-部分字体设置颜色或大小\" class=\"headerlink\" title=\"Android TextView 部分字体设置颜色或大小\"></a>Android TextView 部分字体设置颜色或大小</h3><blockquote>\n<p>在某些情况下，会遇到某些关键字需要<strong>高亮</strong>显示，可Android自带的TextView支持很困难。</p>\n<p>背景来自：今天一同学问我怎么实现，给他举例两种方式，他感觉不方便，因此我才写此文章，简单介绍下。</p>\n</blockquote>\n<h4 id=\"支持方式一\"><a href=\"#支持方式一\" class=\"headerlink\" title=\"支持方式一\"></a>支持方式一</h4><p>可以通过HTML的方式，因为TextView可以加载HTML，因此可以简单的实现，缺点是和Android自带的字体看起来有点别扭。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">textView4.setText(Html.fromHtml(\"北京市发布霾黄色预警，<span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">'#ff0000'</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span>外出携带好<span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span>口罩\"));</span><br></pre></td></tr></table></figure>\n<a id=\"more\"></a>\n<h4 id=\"支持方式二\"><a href=\"#支持方式二\" class=\"headerlink\" title=\"支持方式二\"></a>支持方式二</h4><p>可以通过代码的方式，对TextView设置部分字体的颜色。</p>\n<figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Spannable span = new SpannableString(textView3.getText())<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new AbsoluteSizeSpan(<span class=\"number\">58</span>), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new ForegroundColorSpan(<span class=\"keyword\">Color</span>.RED), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new BackgroundColorSpan(<span class=\"keyword\">Color</span>.YELLOW), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">textView3.setText(span)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p>以上两种方式，我感觉就可以了，不过有些同学感觉就是用起来比较麻烦，因此我们可以封装下第二种方法，变为第三种方法，也就是我要写的。</p>\n<h4 id=\"支持方式三\"><a href=\"#支持方式三\" class=\"headerlink\" title=\"支持方式三\"></a>支持方式三</h4><p>通过自定义View的方式来封装这些代码。</p>\n<h5 id=\"首先是CTextView-extends-TextView-当然名称无所谓，自己喜欢就好\"><a href=\"#首先是CTextView-extends-TextView-当然名称无所谓，自己喜欢就好\" class=\"headerlink\" title=\"首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好\"></a>首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好</h5><figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CTextView</span> <span class=\"keyword\">extends</span> <span class=\"title\">TextView</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> float normalTextSize;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> float highlightTextSize;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> normalTextColor;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> highlightTextColor;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CTextView(Context context) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CTextView(Context context, AttributeSet attrs) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs);</span><br><span class=\"line\">        TypedArray typedArray = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            typedArray = context.obtainStyledAttributes(attrs, R.styleable.CTextView, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">            normalTextSize = typedArray.getDimension(R.styleable.CTextView_normal_textsize, <span class=\"number\">14</span>);</span><br><span class=\"line\">            highlightTextSize = typedArray.getDimension(R.styleable.CTextView_highlight_textsize, <span class=\"number\">14</span>);</span><br><span class=\"line\">            normalTextColor = typedArray.getColor(R.styleable.CTextView_normal_textcolor, Color.BLACK);</span><br><span class=\"line\">            highlightTextColor = typedArray.getColor(R.styleable.CTextView_highlight_textcolor, Color.BLACK);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (typedArray != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                typedArray.recycle();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setText(String allString, String highlightString) &#123;</span><br><span class=\"line\">        SpannableStringBuilder spannableStringBuilder = <span class=\"keyword\">new</span> SpannableStringBuilder();</span><br><span class=\"line\">        spannableStringBuilder.append(allString);</span><br><span class=\"line\">        spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> AbsoluteSizeSpan((<span class=\"keyword\">int</span>) normalTextSize, <span class=\"keyword\">true</span>), <span class=\"number\">0</span>, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> ForegroundColorSpan(normalTextColor), <span class=\"number\">0</span>, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        List&lt;Integer&gt; list = getSubIndex(<span class=\"number\">0</span>, allString, highlightString);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> <span class=\"keyword\">index</span> = list.get(i);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> StyleSpan(Typeface.BOLD), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> AbsoluteSizeSpan((<span class=\"keyword\">int</span>) highlightTextSize, <span class=\"keyword\">true</span>), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> ForegroundColorSpan(highlightTextColor), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        setMovementMethod(LinkMovementMethod.getInstance());</span><br><span class=\"line\">        setText(spannableStringBuilder);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Integer&gt; getSubIndex(<span class=\"keyword\">int</span> startIndex, String allString, String highlightString) &#123;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> <span class=\"keyword\">index</span> = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (startIndex == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">index</span> = allString.indexOf(highlightString);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">index</span> = allString.indexOf(highlightString, startIndex);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">index</span> != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">            list.add(<span class=\"keyword\">index</span>);</span><br><span class=\"line\">            list.addAll(getSubIndex(<span class=\"keyword\">index</span> + highlightString.length(), allString, highlightString));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"定义上面类中用到的attrs-xml\"><a href=\"#定义上面类中用到的attrs-xml\" class=\"headerlink\" title=\"定义上面类中用到的attrs.xml\"></a>定义上面类中用到的attrs.xml</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">declare-styleable</span> <span class=\"attr\">name</span>=<span class=\"string\">\"CTextView\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"normal_textsize\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"highlight_textsize\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"normal_textcolor\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"highlight_textcolor\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">declare-styleable</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"在xml中的TextView的用法\"><a href=\"#在xml中的TextView的用法\" class=\"headerlink\" title=\"在xml中的TextView的用法\"></a>在xml中的TextView的用法</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> </span><br><span class=\"line\">\t<span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span><br><span class=\"line\">\t<span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 此处是包名+类名，请写自己的包名 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">com.easemob.ctextview.CTextView</span></span><br><span class=\"line\">    <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/c_textview\"</span></span><br><span class=\"line\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span><br><span class=\"line\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:normal_textsize</span>=<span class=\"string\">\"12sp\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:highlight_textsize</span>=<span class=\"string\">\"20sp\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:normal_textcolor</span>=<span class=\"string\">\"#000\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:highlight_textcolor</span>=<span class=\"string\">\"#f00\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"在Activity中的用法\"><a href=\"#在Activity中的用法\" class=\"headerlink\" title=\"在Activity中的用法\"></a>在Activity中的用法</h5><figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CTextView cTextView = (CTextView) findViewById(R.id.c_textview)<span class=\"comment\">;</span></span><br><span class=\"line\">cTextView.setText(<span class=\"string\">\"欢迎大家看我说了这么久，大家辛苦了！\"</span>,<span class=\"string\">\"大家\"</span>)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"结果如下：\"><a href=\"#结果如下：\" class=\"headerlink\" title=\"结果如下：\"></a>结果如下：</h5><p><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/img_20160310202020.png\" alt=\"result ctextview\"></p>\n","excerpt":"<h3 id=\"Android-TextView-部分字体设置颜色或大小\"><a href=\"#Android-TextView-部分字体设置颜色或大小\" class=\"headerlink\" title=\"Android TextView 部分字体设置颜色或大小\"></a>Android TextView 部分字体设置颜色或大小</h3><blockquote>\n<p>在某些情况下，会遇到某些关键字需要<strong>高亮</strong>显示，可Android自带的TextView支持很困难。</p>\n<p>背景来自：今天一同学问我怎么实现，给他举例两种方式，他感觉不方便，因此我才写此文章，简单介绍下。</p>\n</blockquote>\n<h4 id=\"支持方式一\"><a href=\"#支持方式一\" class=\"headerlink\" title=\"支持方式一\"></a>支持方式一</h4><p>可以通过HTML的方式，因为TextView可以加载HTML，因此可以简单的实现，缺点是和Android自带的字体看起来有点别扭。</p>\n<figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">textView4.setText(Html.fromHtml(\"北京市发布霾黄色预警，<span class=\"tag\">&lt;<span class=\"name\">font</span> <span class=\"attr\">color</span>=<span class=\"string\">'#ff0000'</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">small</span>&gt;</span>外出携带好<span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">small</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">font</span>&gt;</span>口罩\"));</span><br></pre></td></tr></table></figure>","more":"<h4 id=\"支持方式二\"><a href=\"#支持方式二\" class=\"headerlink\" title=\"支持方式二\"></a>支持方式二</h4><p>可以通过代码的方式，对TextView设置部分字体的颜色。</p>\n<figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Spannable span = new SpannableString(textView3.getText())<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new AbsoluteSizeSpan(<span class=\"number\">58</span>), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new ForegroundColorSpan(<span class=\"keyword\">Color</span>.RED), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">span.setSpan(new BackgroundColorSpan(<span class=\"keyword\">Color</span>.YELLOW), <span class=\"number\">11</span>, <span class=\"number\">16</span>, Spannable.SPAN_EXCLUSIVE_EXCLUSIVE)<span class=\"comment\">;</span></span><br><span class=\"line\">textView3.setText(span)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<p>以上两种方式，我感觉就可以了，不过有些同学感觉就是用起来比较麻烦，因此我们可以封装下第二种方法，变为第三种方法，也就是我要写的。</p>\n<h4 id=\"支持方式三\"><a href=\"#支持方式三\" class=\"headerlink\" title=\"支持方式三\"></a>支持方式三</h4><p>通过自定义View的方式来封装这些代码。</p>\n<h5 id=\"首先是CTextView-extends-TextView-当然名称无所谓，自己喜欢就好\"><a href=\"#首先是CTextView-extends-TextView-当然名称无所谓，自己喜欢就好\" class=\"headerlink\" title=\"首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好\"></a>首先是CTextView extends TextView,当然名称无所谓，自己喜欢就好</h5><figure class=\"highlight axapta\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">CTextView</span> <span class=\"keyword\">extends</span> <span class=\"title\">TextView</span> </span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> float normalTextSize;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> float highlightTextSize;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> normalTextColor;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"keyword\">int</span> highlightTextColor;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CTextView(Context context) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> CTextView(Context context, AttributeSet attrs) &#123;</span><br><span class=\"line\">        <span class=\"keyword\">super</span>(context, attrs);</span><br><span class=\"line\">        TypedArray typedArray = <span class=\"keyword\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            typedArray = context.obtainStyledAttributes(attrs, R.styleable.CTextView, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">            normalTextSize = typedArray.getDimension(R.styleable.CTextView_normal_textsize, <span class=\"number\">14</span>);</span><br><span class=\"line\">            highlightTextSize = typedArray.getDimension(R.styleable.CTextView_highlight_textsize, <span class=\"number\">14</span>);</span><br><span class=\"line\">            normalTextColor = typedArray.getColor(R.styleable.CTextView_normal_textcolor, Color.BLACK);</span><br><span class=\"line\">            highlightTextColor = typedArray.getColor(R.styleable.CTextView_highlight_textcolor, Color.BLACK);</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125; <span class=\"keyword\">finally</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">if</span> (typedArray != <span class=\"keyword\">null</span>) &#123;</span><br><span class=\"line\">                typedArray.recycle();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> setText(String allString, String highlightString) &#123;</span><br><span class=\"line\">        SpannableStringBuilder spannableStringBuilder = <span class=\"keyword\">new</span> SpannableStringBuilder();</span><br><span class=\"line\">        spannableStringBuilder.append(allString);</span><br><span class=\"line\">        spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> AbsoluteSizeSpan((<span class=\"keyword\">int</span>) normalTextSize, <span class=\"keyword\">true</span>), <span class=\"number\">0</span>, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> ForegroundColorSpan(normalTextColor), <span class=\"number\">0</span>, allString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        List&lt;Integer&gt; list = getSubIndex(<span class=\"number\">0</span>, allString, highlightString);</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (<span class=\"keyword\">int</span> i = <span class=\"number\">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">int</span> <span class=\"keyword\">index</span> = list.get(i);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> StyleSpan(Typeface.BOLD), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> AbsoluteSizeSpan((<span class=\"keyword\">int</span>) highlightTextSize, <span class=\"keyword\">true</span>), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">            spannableStringBuilder.setSpan(<span class=\"keyword\">new</span> ForegroundColorSpan(highlightTextColor), <span class=\"keyword\">index</span>, <span class=\"keyword\">index</span> + highlightString.length(), Spanned.SPAN_EXCLUSIVE_EXCLUSIVE);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        setMovementMethod(LinkMovementMethod.getInstance());</span><br><span class=\"line\">        setText(spannableStringBuilder);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">private</span> List&lt;Integer&gt; getSubIndex(<span class=\"keyword\">int</span> startIndex, String allString, String highlightString) &#123;</span><br><span class=\"line\">        List&lt;Integer&gt; list = <span class=\"keyword\">new</span> ArrayList&lt;Integer&gt;();</span><br><span class=\"line\">        <span class=\"keyword\">int</span> <span class=\"keyword\">index</span> = <span class=\"number\">-1</span>;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (startIndex == <span class=\"number\">0</span>) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">index</span> = allString.indexOf(highlightString);</span><br><span class=\"line\">        &#125; <span class=\"keyword\">else</span> &#123;</span><br><span class=\"line\">            <span class=\"keyword\">index</span> = allString.indexOf(highlightString, startIndex);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">if</span> (<span class=\"keyword\">index</span> != <span class=\"number\">-1</span>) &#123;</span><br><span class=\"line\">            list.add(<span class=\"keyword\">index</span>);</span><br><span class=\"line\">            list.addAll(getSubIndex(<span class=\"keyword\">index</span> + highlightString.length(), allString, highlightString));</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> list;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h5 id=\"定义上面类中用到的attrs-xml\"><a href=\"#定义上面类中用到的attrs-xml\" class=\"headerlink\" title=\"定义上面类中用到的attrs.xml\"></a>定义上面类中用到的attrs.xml</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"php\"><span class=\"meta\">&lt;?</span>xml version=<span class=\"string\">\"1.0\"</span> encoding=<span class=\"string\">\"utf-8\"</span><span class=\"meta\">?&gt;</span></span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">resources</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">declare-styleable</span> <span class=\"attr\">name</span>=<span class=\"string\">\"CTextView\"</span>&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"normal_textsize\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"highlight_textsize\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"dimension\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"normal_textcolor\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color\"</span>/&gt;</span></span><br><span class=\"line\">        <span class=\"tag\">&lt;<span class=\"name\">attr</span> <span class=\"attr\">name</span>=<span class=\"string\">\"highlight_textcolor\"</span> <span class=\"attr\">format</span>=<span class=\"string\">\"color\"</span>/&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">declare-styleable</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">resources</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"在xml中的TextView的用法\"><a href=\"#在xml中的TextView的用法\" class=\"headerlink\" title=\"在xml中的TextView的用法\"></a>在xml中的TextView的用法</h5><figure class=\"highlight xml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">LinearLayout</span> </span><br><span class=\"line\">\t<span class=\"attr\">xmlns:android</span>=<span class=\"string\">\"http://schemas.android.com/apk/res/android\"</span></span><br><span class=\"line\">\t<span class=\"attr\">xmlns:app</span>=<span class=\"string\">\"http://schemas.android.com/apk/res-auto\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span><br><span class=\"line\">\t<span class=\"attr\">android:orientation</span>=<span class=\"string\">\"vertical\"</span>&gt;</span></span><br><span class=\"line\">\t<span class=\"comment\">&lt;!-- 此处是包名+类名，请写自己的包名 --&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">com.easemob.ctextview.CTextView</span></span><br><span class=\"line\">    <span class=\"attr\">android:id</span>=<span class=\"string\">\"@+id/c_textview\"</span></span><br><span class=\"line\">    <span class=\"attr\">android:layout_width</span>=<span class=\"string\">\"match_parent\"</span></span><br><span class=\"line\">    <span class=\"attr\">android:layout_height</span>=<span class=\"string\">\"wrap_content\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:normal_textsize</span>=<span class=\"string\">\"12sp\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:highlight_textsize</span>=<span class=\"string\">\"20sp\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:normal_textcolor</span>=<span class=\"string\">\"#000\"</span></span><br><span class=\"line\">    <span class=\"attr\">app:highlight_textcolor</span>=<span class=\"string\">\"#f00\"</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">LinearLayout</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"在Activity中的用法\"><a href=\"#在Activity中的用法\" class=\"headerlink\" title=\"在Activity中的用法\"></a>在Activity中的用法</h5><figure class=\"highlight hsp\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">CTextView cTextView = (CTextView) findViewById(R.id.c_textview)<span class=\"comment\">;</span></span><br><span class=\"line\">cTextView.setText(<span class=\"string\">\"欢迎大家看我说了这么久，大家辛苦了！\"</span>,<span class=\"string\">\"大家\"</span>)<span class=\"comment\">;</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"结果如下：\"><a href=\"#结果如下：\" class=\"headerlink\" title=\"结果如下：\"></a>结果如下：</h5><p><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/img_20160310202020.png\" alt=\"result ctextview\"></p>"},{"title":"Atom 编辑器快捷键列表汇总整理","date":"2016-03-28T04:00:27.000Z","_content":"# Atom 编辑器快捷键列表汇总整理\n来自Github的Atom 编辑器已经更新到1.0版本了，由于有着 Github  的光环，很多人都在用，下面是网友总结的一些**Atom 快捷键列表**，喜欢高效键盘操作的朋友可以看下。\n\n<!-- more -->\n\n## 文件切换\n\nctrl-shift-s 保存所有打开的文件\nctrl-shift-o 打开目录\ncmd-\\ 显示或隐藏目录树\nctrl-0 焦点移到目录树\n目录树下，使用a, m, delete来增加，修改和删除\ncmd-t或cmd-p 查找文件\ncmd-b 在打开的文件之间切换\ncmd-shift-b 只搜索从上次git commit 修改或者新增的文件\n\n## 导航\n\n(等价于上下左右)\nctrl-p 前一行\nctrl-n 后一行\nctrl-f 前一个字符\nctrl-b 后一个字符\n\nalt-B, alt-left 移动到单词开始\nalt-F, alt-right 移动到单词末尾\n\ncmd-right, ctrl-E 移动到一行结束\ncmd-left, ctrl-A 移动到一行开始\n\ncmd-up 移动到文件开始\ncmd-down 移动到文件结束\n\nctrl-g 移到到指定行 row:column 处\n\ncmd-r 在方法之间跳转\n\n## 书签\n\ncmd-F2 在本行增加书签\nF2 跳到当前文件的下一条书签\nshift-F2 跳到当前文件的上一条书签\nctrl-F2 列出当前工程所有书签\n\n## 选取\n\n大部分和导航一致，只不过加上shift\nctrl-shift-P 选取至上一行\nctrl-shift-N 选取至下一行\nctrl-shift-B 选取至前一个字符\nctrl-shift-F 选取至后一个字符\n\nalt-shift-B, alt-shift-left 选取至字符开始\nalt-shift-F, alt-shift-right 选取至字符结束\nctrl-shift-E, cmd-shift-right 选取至本行结束\nctrl-shift-A, cmd-shift-left 选取至本行开始\n\ncmd-shift-up 选取至文本开始\ncmd-shift-down 选取至文件结尾\n\ncmd-A 全选\ncmd-L 选取一行， 继续按回选取下一行\nctrl-shift-W 选取当前单词\n\n## 编辑和删除文本\n\n> 基本操作\n---\n\nctrl-T 使光标前后字符交换\ncmd-J 将下一行与当前行合并\nctrl-cmd-up, ctrl-cmd-down 使当前行向上或者向下移动\ncmd-shift-D 复制当前行到下一行\ncmd-K, cmd-U 使当前字符大写\ncmd-K, cmd-L 使当前字符小写\n\n\n>删除和剪切\n---\n\nctrl-shift-K 删除当前行\ncmd-backspace 删除到当前行开始\ncmd-fn-backspace 删除到当前行结束\nctrl-K 剪切到当前行结束\nalt-backspace 或 alt-H 删除到当前单词开始\nalt-delete 或 alt-D 删除到当前单词结束\n\n>多光标和多处选取\n---\n\ncmd-click 增加新光标\ncmd-shift-L 将多行选取改为多行光标\nctrl-shift-up, ctrl-shift-down 增加上（下）一行光标\ncmd-D 选取文档中和当前单词相同的下一处\nctrl-cmd-G 选取文档中所有和当前光标单词相同的位置\n\n>括号跳转\n---\n\nctrl-m 相应括号之间， html tag 之间等跳转\nctrl-cmd-m 括号(tag)之间文件选取\nalt-cmd-. 关闭当前XML/HTML tag\n\n>编码方式\n---\n\nctrl-shift-U 调出切换编码选项\n\n## 查找和切换\n\ncmd-F 在 buffer 中查找\ncmd-shift-f 在整个工程中查找\n\n## 代码片段\n\nalt-shift-S 查看当前可用代码片段\n在~/.atom 目录下snippets.cson文件中存放了你定制的snippets\n[定制说明](http://flight-manual.atom.io)\n\n## 自动补全\n\nctrl-space 提示补全信息\n\n## 折叠\n\nalt-cmd-[ 折叠\nalt-cmd-] 展开\nalt-cmd-shift-{ 折叠全部\nalt-cmd-shift-} 展开全部\ncmd-k cmd-N 指定折叠层级 N为层级数\n\n## 文件语法高亮\n\nctrl-shift-L 选择文本类型\n\n## 使用Atom进行写作\n\nctrl-shift-M Markdown预览\n可用代码片段 b, legal, img, l, i, code, t, table\n\n\n\n\n","source":"_posts/Atom-编辑器快捷键列表汇总整理.md","raw":"---\ntitle: Atom 编辑器快捷键列表汇总整理\ndate: 2016-03-28 12:00:27\ntags: [atom, tools, mac, RAML]\ncategories: [mac, atom]\n---\n# Atom 编辑器快捷键列表汇总整理\n来自Github的Atom 编辑器已经更新到1.0版本了，由于有着 Github  的光环，很多人都在用，下面是网友总结的一些**Atom 快捷键列表**，喜欢高效键盘操作的朋友可以看下。\n\n<!-- more -->\n\n## 文件切换\n\nctrl-shift-s 保存所有打开的文件\nctrl-shift-o 打开目录\ncmd-\\ 显示或隐藏目录树\nctrl-0 焦点移到目录树\n目录树下，使用a, m, delete来增加，修改和删除\ncmd-t或cmd-p 查找文件\ncmd-b 在打开的文件之间切换\ncmd-shift-b 只搜索从上次git commit 修改或者新增的文件\n\n## 导航\n\n(等价于上下左右)\nctrl-p 前一行\nctrl-n 后一行\nctrl-f 前一个字符\nctrl-b 后一个字符\n\nalt-B, alt-left 移动到单词开始\nalt-F, alt-right 移动到单词末尾\n\ncmd-right, ctrl-E 移动到一行结束\ncmd-left, ctrl-A 移动到一行开始\n\ncmd-up 移动到文件开始\ncmd-down 移动到文件结束\n\nctrl-g 移到到指定行 row:column 处\n\ncmd-r 在方法之间跳转\n\n## 书签\n\ncmd-F2 在本行增加书签\nF2 跳到当前文件的下一条书签\nshift-F2 跳到当前文件的上一条书签\nctrl-F2 列出当前工程所有书签\n\n## 选取\n\n大部分和导航一致，只不过加上shift\nctrl-shift-P 选取至上一行\nctrl-shift-N 选取至下一行\nctrl-shift-B 选取至前一个字符\nctrl-shift-F 选取至后一个字符\n\nalt-shift-B, alt-shift-left 选取至字符开始\nalt-shift-F, alt-shift-right 选取至字符结束\nctrl-shift-E, cmd-shift-right 选取至本行结束\nctrl-shift-A, cmd-shift-left 选取至本行开始\n\ncmd-shift-up 选取至文本开始\ncmd-shift-down 选取至文件结尾\n\ncmd-A 全选\ncmd-L 选取一行， 继续按回选取下一行\nctrl-shift-W 选取当前单词\n\n## 编辑和删除文本\n\n> 基本操作\n---\n\nctrl-T 使光标前后字符交换\ncmd-J 将下一行与当前行合并\nctrl-cmd-up, ctrl-cmd-down 使当前行向上或者向下移动\ncmd-shift-D 复制当前行到下一行\ncmd-K, cmd-U 使当前字符大写\ncmd-K, cmd-L 使当前字符小写\n\n\n>删除和剪切\n---\n\nctrl-shift-K 删除当前行\ncmd-backspace 删除到当前行开始\ncmd-fn-backspace 删除到当前行结束\nctrl-K 剪切到当前行结束\nalt-backspace 或 alt-H 删除到当前单词开始\nalt-delete 或 alt-D 删除到当前单词结束\n\n>多光标和多处选取\n---\n\ncmd-click 增加新光标\ncmd-shift-L 将多行选取改为多行光标\nctrl-shift-up, ctrl-shift-down 增加上（下）一行光标\ncmd-D 选取文档中和当前单词相同的下一处\nctrl-cmd-G 选取文档中所有和当前光标单词相同的位置\n\n>括号跳转\n---\n\nctrl-m 相应括号之间， html tag 之间等跳转\nctrl-cmd-m 括号(tag)之间文件选取\nalt-cmd-. 关闭当前XML/HTML tag\n\n>编码方式\n---\n\nctrl-shift-U 调出切换编码选项\n\n## 查找和切换\n\ncmd-F 在 buffer 中查找\ncmd-shift-f 在整个工程中查找\n\n## 代码片段\n\nalt-shift-S 查看当前可用代码片段\n在~/.atom 目录下snippets.cson文件中存放了你定制的snippets\n[定制说明](http://flight-manual.atom.io)\n\n## 自动补全\n\nctrl-space 提示补全信息\n\n## 折叠\n\nalt-cmd-[ 折叠\nalt-cmd-] 展开\nalt-cmd-shift-{ 折叠全部\nalt-cmd-shift-} 展开全部\ncmd-k cmd-N 指定折叠层级 N为层级数\n\n## 文件语法高亮\n\nctrl-shift-L 选择文本类型\n\n## 使用Atom进行写作\n\nctrl-shift-M Markdown预览\n可用代码片段 b, legal, img, l, i, code, t, table\n\n\n\n\n","slug":"Atom-编辑器快捷键列表汇总整理","published":1,"updated":"2016-03-28T04:02:03.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5i0005pzv2ffc016sk","content":"<h1 id=\"Atom-编辑器快捷键列表汇总整理\"><a href=\"#Atom-编辑器快捷键列表汇总整理\" class=\"headerlink\" title=\"Atom 编辑器快捷键列表汇总整理\"></a>Atom 编辑器快捷键列表汇总整理</h1><p>来自Github的Atom 编辑器已经更新到1.0版本了，由于有着 Github  的光环，很多人都在用，下面是网友总结的一些<strong>Atom 快捷键列表</strong>，喜欢高效键盘操作的朋友可以看下。</p>\n<a id=\"more\"></a>\n<h2 id=\"文件切换\"><a href=\"#文件切换\" class=\"headerlink\" title=\"文件切换\"></a>文件切换</h2><p>ctrl-shift-s 保存所有打开的文件<br>ctrl-shift-o 打开目录<br>cmd-\\ 显示或隐藏目录树<br>ctrl-0 焦点移到目录树<br>目录树下，使用a, m, delete来增加，修改和删除<br>cmd-t或cmd-p 查找文件<br>cmd-b 在打开的文件之间切换<br>cmd-shift-b 只搜索从上次git commit 修改或者新增的文件</p>\n<h2 id=\"导航\"><a href=\"#导航\" class=\"headerlink\" title=\"导航\"></a>导航</h2><p>(等价于上下左右)<br>ctrl-p 前一行<br>ctrl-n 后一行<br>ctrl-f 前一个字符<br>ctrl-b 后一个字符</p>\n<p>alt-B, alt-left 移动到单词开始<br>alt-F, alt-right 移动到单词末尾</p>\n<p>cmd-right, ctrl-E 移动到一行结束<br>cmd-left, ctrl-A 移动到一行开始</p>\n<p>cmd-up 移动到文件开始<br>cmd-down 移动到文件结束</p>\n<p>ctrl-g 移到到指定行 row:column 处</p>\n<p>cmd-r 在方法之间跳转</p>\n<h2 id=\"书签\"><a href=\"#书签\" class=\"headerlink\" title=\"书签\"></a>书签</h2><p>cmd-F2 在本行增加书签<br>F2 跳到当前文件的下一条书签<br>shift-F2 跳到当前文件的上一条书签<br>ctrl-F2 列出当前工程所有书签</p>\n<h2 id=\"选取\"><a href=\"#选取\" class=\"headerlink\" title=\"选取\"></a>选取</h2><p>大部分和导航一致，只不过加上shift<br>ctrl-shift-P 选取至上一行<br>ctrl-shift-N 选取至下一行<br>ctrl-shift-B 选取至前一个字符<br>ctrl-shift-F 选取至后一个字符</p>\n<p>alt-shift-B, alt-shift-left 选取至字符开始<br>alt-shift-F, alt-shift-right 选取至字符结束<br>ctrl-shift-E, cmd-shift-right 选取至本行结束<br>ctrl-shift-A, cmd-shift-left 选取至本行开始</p>\n<p>cmd-shift-up 选取至文本开始<br>cmd-shift-down 选取至文件结尾</p>\n<p>cmd-A 全选<br>cmd-L 选取一行， 继续按回选取下一行<br>ctrl-shift-W 选取当前单词</p>\n<h2 id=\"编辑和删除文本\"><a href=\"#编辑和删除文本\" class=\"headerlink\" title=\"编辑和删除文本\"></a>编辑和删除文本</h2><h2 id=\"gt-基本操作\"><a href=\"#gt-基本操作\" class=\"headerlink\" title=\"&gt; 基本操作\"></a>&gt; 基本操作</h2><p>ctrl-T 使光标前后字符交换<br>cmd-J 将下一行与当前行合并<br>ctrl-cmd-up, ctrl-cmd-down 使当前行向上或者向下移动<br>cmd-shift-D 复制当前行到下一行<br>cmd-K, cmd-U 使当前字符大写<br>cmd-K, cmd-L 使当前字符小写</p>\n<h2 id=\"gt-删除和剪切\"><a href=\"#gt-删除和剪切\" class=\"headerlink\" title=\"&gt;删除和剪切\"></a>&gt;删除和剪切</h2><p>ctrl-shift-K 删除当前行<br>cmd-backspace 删除到当前行开始<br>cmd-fn-backspace 删除到当前行结束<br>ctrl-K 剪切到当前行结束<br>alt-backspace 或 alt-H 删除到当前单词开始<br>alt-delete 或 alt-D 删除到当前单词结束</p>\n<h2 id=\"gt-多光标和多处选取\"><a href=\"#gt-多光标和多处选取\" class=\"headerlink\" title=\"&gt;多光标和多处选取\"></a>&gt;多光标和多处选取</h2><p>cmd-click 增加新光标<br>cmd-shift-L 将多行选取改为多行光标<br>ctrl-shift-up, ctrl-shift-down 增加上（下）一行光标<br>cmd-D 选取文档中和当前单词相同的下一处<br>ctrl-cmd-G 选取文档中所有和当前光标单词相同的位置</p>\n<h2 id=\"gt-括号跳转\"><a href=\"#gt-括号跳转\" class=\"headerlink\" title=\"&gt;括号跳转\"></a>&gt;括号跳转</h2><p>ctrl-m 相应括号之间， html tag 之间等跳转<br>ctrl-cmd-m 括号(tag)之间文件选取<br>alt-cmd-. 关闭当前XML/HTML tag</p>\n<h2 id=\"gt-编码方式\"><a href=\"#gt-编码方式\" class=\"headerlink\" title=\"&gt;编码方式\"></a>&gt;编码方式</h2><p>ctrl-shift-U 调出切换编码选项</p>\n<h2 id=\"查找和切换\"><a href=\"#查找和切换\" class=\"headerlink\" title=\"查找和切换\"></a>查找和切换</h2><p>cmd-F 在 buffer 中查找<br>cmd-shift-f 在整个工程中查找</p>\n<h2 id=\"代码片段\"><a href=\"#代码片段\" class=\"headerlink\" title=\"代码片段\"></a>代码片段</h2><p>alt-shift-S 查看当前可用代码片段<br>在~/.atom 目录下snippets.cson文件中存放了你定制的snippets<br><a href=\"http://flight-manual.atom.io\" target=\"_blank\" rel=\"external\">定制说明</a></p>\n<h2 id=\"自动补全\"><a href=\"#自动补全\" class=\"headerlink\" title=\"自动补全\"></a>自动补全</h2><p>ctrl-space 提示补全信息</p>\n<h2 id=\"折叠\"><a href=\"#折叠\" class=\"headerlink\" title=\"折叠\"></a>折叠</h2><p>alt-cmd-[ 折叠<br>alt-cmd-] 展开<br>alt-cmd-shift-{ 折叠全部<br>alt-cmd-shift-} 展开全部<br>cmd-k cmd-N 指定折叠层级 N为层级数</p>\n<h2 id=\"文件语法高亮\"><a href=\"#文件语法高亮\" class=\"headerlink\" title=\"文件语法高亮\"></a>文件语法高亮</h2><p>ctrl-shift-L 选择文本类型</p>\n<h2 id=\"使用Atom进行写作\"><a href=\"#使用Atom进行写作\" class=\"headerlink\" title=\"使用Atom进行写作\"></a>使用Atom进行写作</h2><p>ctrl-shift-M Markdown预览<br>可用代码片段 b, legal, img, l, i, code, t, table</p>\n","excerpt":"<h1 id=\"Atom-编辑器快捷键列表汇总整理\"><a href=\"#Atom-编辑器快捷键列表汇总整理\" class=\"headerlink\" title=\"Atom 编辑器快捷键列表汇总整理\"></a>Atom 编辑器快捷键列表汇总整理</h1><p>来自Github的Atom 编辑器已经更新到1.0版本了，由于有着 Github  的光环，很多人都在用，下面是网友总结的一些<strong>Atom 快捷键列表</strong>，喜欢高效键盘操作的朋友可以看下。</p>","more":"<h2 id=\"文件切换\"><a href=\"#文件切换\" class=\"headerlink\" title=\"文件切换\"></a>文件切换</h2><p>ctrl-shift-s 保存所有打开的文件<br>ctrl-shift-o 打开目录<br>cmd-\\ 显示或隐藏目录树<br>ctrl-0 焦点移到目录树<br>目录树下，使用a, m, delete来增加，修改和删除<br>cmd-t或cmd-p 查找文件<br>cmd-b 在打开的文件之间切换<br>cmd-shift-b 只搜索从上次git commit 修改或者新增的文件</p>\n<h2 id=\"导航\"><a href=\"#导航\" class=\"headerlink\" title=\"导航\"></a>导航</h2><p>(等价于上下左右)<br>ctrl-p 前一行<br>ctrl-n 后一行<br>ctrl-f 前一个字符<br>ctrl-b 后一个字符</p>\n<p>alt-B, alt-left 移动到单词开始<br>alt-F, alt-right 移动到单词末尾</p>\n<p>cmd-right, ctrl-E 移动到一行结束<br>cmd-left, ctrl-A 移动到一行开始</p>\n<p>cmd-up 移动到文件开始<br>cmd-down 移动到文件结束</p>\n<p>ctrl-g 移到到指定行 row:column 处</p>\n<p>cmd-r 在方法之间跳转</p>\n<h2 id=\"书签\"><a href=\"#书签\" class=\"headerlink\" title=\"书签\"></a>书签</h2><p>cmd-F2 在本行增加书签<br>F2 跳到当前文件的下一条书签<br>shift-F2 跳到当前文件的上一条书签<br>ctrl-F2 列出当前工程所有书签</p>\n<h2 id=\"选取\"><a href=\"#选取\" class=\"headerlink\" title=\"选取\"></a>选取</h2><p>大部分和导航一致，只不过加上shift<br>ctrl-shift-P 选取至上一行<br>ctrl-shift-N 选取至下一行<br>ctrl-shift-B 选取至前一个字符<br>ctrl-shift-F 选取至后一个字符</p>\n<p>alt-shift-B, alt-shift-left 选取至字符开始<br>alt-shift-F, alt-shift-right 选取至字符结束<br>ctrl-shift-E, cmd-shift-right 选取至本行结束<br>ctrl-shift-A, cmd-shift-left 选取至本行开始</p>\n<p>cmd-shift-up 选取至文本开始<br>cmd-shift-down 选取至文件结尾</p>\n<p>cmd-A 全选<br>cmd-L 选取一行， 继续按回选取下一行<br>ctrl-shift-W 选取当前单词</p>\n<h2 id=\"编辑和删除文本\"><a href=\"#编辑和删除文本\" class=\"headerlink\" title=\"编辑和删除文本\"></a>编辑和删除文本</h2><h2 id=\"gt-基本操作\"><a href=\"#gt-基本操作\" class=\"headerlink\" title=\"&gt; 基本操作\"></a>&gt; 基本操作</h2><p>ctrl-T 使光标前后字符交换<br>cmd-J 将下一行与当前行合并<br>ctrl-cmd-up, ctrl-cmd-down 使当前行向上或者向下移动<br>cmd-shift-D 复制当前行到下一行<br>cmd-K, cmd-U 使当前字符大写<br>cmd-K, cmd-L 使当前字符小写</p>\n<h2 id=\"gt-删除和剪切\"><a href=\"#gt-删除和剪切\" class=\"headerlink\" title=\"&gt;删除和剪切\"></a>&gt;删除和剪切</h2><p>ctrl-shift-K 删除当前行<br>cmd-backspace 删除到当前行开始<br>cmd-fn-backspace 删除到当前行结束<br>ctrl-K 剪切到当前行结束<br>alt-backspace 或 alt-H 删除到当前单词开始<br>alt-delete 或 alt-D 删除到当前单词结束</p>\n<h2 id=\"gt-多光标和多处选取\"><a href=\"#gt-多光标和多处选取\" class=\"headerlink\" title=\"&gt;多光标和多处选取\"></a>&gt;多光标和多处选取</h2><p>cmd-click 增加新光标<br>cmd-shift-L 将多行选取改为多行光标<br>ctrl-shift-up, ctrl-shift-down 增加上（下）一行光标<br>cmd-D 选取文档中和当前单词相同的下一处<br>ctrl-cmd-G 选取文档中所有和当前光标单词相同的位置</p>\n<h2 id=\"gt-括号跳转\"><a href=\"#gt-括号跳转\" class=\"headerlink\" title=\"&gt;括号跳转\"></a>&gt;括号跳转</h2><p>ctrl-m 相应括号之间， html tag 之间等跳转<br>ctrl-cmd-m 括号(tag)之间文件选取<br>alt-cmd-. 关闭当前XML/HTML tag</p>\n<h2 id=\"gt-编码方式\"><a href=\"#gt-编码方式\" class=\"headerlink\" title=\"&gt;编码方式\"></a>&gt;编码方式</h2><p>ctrl-shift-U 调出切换编码选项</p>\n<h2 id=\"查找和切换\"><a href=\"#查找和切换\" class=\"headerlink\" title=\"查找和切换\"></a>查找和切换</h2><p>cmd-F 在 buffer 中查找<br>cmd-shift-f 在整个工程中查找</p>\n<h2 id=\"代码片段\"><a href=\"#代码片段\" class=\"headerlink\" title=\"代码片段\"></a>代码片段</h2><p>alt-shift-S 查看当前可用代码片段<br>在~/.atom 目录下snippets.cson文件中存放了你定制的snippets<br><a href=\"http://flight-manual.atom.io\">定制说明</a></p>\n<h2 id=\"自动补全\"><a href=\"#自动补全\" class=\"headerlink\" title=\"自动补全\"></a>自动补全</h2><p>ctrl-space 提示补全信息</p>\n<h2 id=\"折叠\"><a href=\"#折叠\" class=\"headerlink\" title=\"折叠\"></a>折叠</h2><p>alt-cmd-[ 折叠<br>alt-cmd-] 展开<br>alt-cmd-shift-{ 折叠全部<br>alt-cmd-shift-} 展开全部<br>cmd-k cmd-N 指定折叠层级 N为层级数</p>\n<h2 id=\"文件语法高亮\"><a href=\"#文件语法高亮\" class=\"headerlink\" title=\"文件语法高亮\"></a>文件语法高亮</h2><p>ctrl-shift-L 选择文本类型</p>\n<h2 id=\"使用Atom进行写作\"><a href=\"#使用Atom进行写作\" class=\"headerlink\" title=\"使用Atom进行写作\"></a>使用Atom进行写作</h2><p>ctrl-shift-M Markdown预览<br>可用代码片段 b, legal, img, l, i, code, t, table</p>"},{"title":"Java中Math类的一些常用方法","date":"2016-03-30T11:55:31.000Z","_content":"# Java中Math类的一些常用方法\n\n<!-- more -->\n```\npublic class MathTest{\n  public static void main(String args[]){\n\n            /** \n             * abs求绝对值 \n             */  \n            System.out.println(Math.abs(-10.4));    //10.4  \n            System.out.println(Math.abs(10.1));     //10.1  \n              \n            /** \n             * ceil天花板的意思，就是返回大的值，注意一些特殊值 \n             */  \n            System.out.println(Math.ceil(-10.1));   //-10.0  \n            System.out.println(Math.ceil(10.7));    //11.0  \n            System.out.println(Math.ceil(-0.7));    //-0.0  \n            System.out.println(Math.ceil(0.0));     //0.0  \n            System.out.println(Math.ceil(-0.0));    //-0.0  \n              \n            /** \n             * floor地板的意思，就是返回小的值 \n             */  \n            System.out.println(Math.floor(-10.1));  //-11.0  \n            System.out.println(Math.floor(10.7));   //10.0  \n            System.out.println(Math.floor(-0.7));   //-1.0  \n            System.out.println(Math.floor(0.0));    //0.0  \n            System.out.println(Math.floor(-0.0));   //-0.0  \n              \n            /** \n             * max 两个中返回大的值,min和它相反，就不举例了 \n             */  \n            System.out.println(Math.max(-10.1, -10));   //-10.0  \n            System.out.println(Math.max(10.7, 10));     //10.7  \n            System.out.println(Math.max(0.0, -0.0));    //0.0  \n              \n            /** \n             * random 取得一个大于或者等于0.0小于不等于1.0的随机数 \n             */  \n            System.out.println(Math.random());  //0.08417657924317234  \n            System.out.println(Math.random());  //0.43527904004403717  \n              \n            /** \n             * rint 四舍五入，返回double值 \n             * 注意.5的时候会取偶数 \n             */  \n            System.out.println(Math.rint(10.1));    //10.0  \n            System.out.println(Math.rint(10.7));    //11.0  \n            System.out.println(Math.rint(11.5));    //12.0  \n            System.out.println(Math.rint(10.5));    //10.0  \n            System.out.println(Math.rint(10.51));   //11.0  \n            System.out.println(Math.rint(-10.5));   //-10.0  \n            System.out.println(Math.rint(-11.5));   //-12.0  \n            System.out.println(Math.rint(-10.51));  //-11.0  \n            System.out.println(Math.rint(-10.6));   //-11.0  \n            System.out.println(Math.rint(-10.2));   //-10.0  \n              \n            /** \n             * round 四舍五入，float时返回int值，double时返回long值 \n             */  \n            System.out.println(Math.round(10.1));   //10  \n            System.out.println(Math.round(10.7));   //11  \n            System.out.println(Math.round(10.5));   //11  \n            System.out.println(Math.round(10.51));  //11  \n            System.out.println(Math.round(-10.5));  //-10  \n            System.out.println(Math.round(-10.51)); //-11  \n            System.out.println(Math.round(-10.6));  //-11  \n            System.out.println(Math.round(-10.2));  //-10  \n  }\n\n}\n\n```","source":"_posts/Java中Math类的一些常用方法.md","raw":"---\ntitle: Java中Math类的一些常用方法\ndate: 2016-03-30 19:55:31\ntags: [java, math, round]\ncategories: java\n\n---\n# Java中Math类的一些常用方法\n\n<!-- more -->\n```\npublic class MathTest{\n  public static void main(String args[]){\n\n            /** \n             * abs求绝对值 \n             */  \n            System.out.println(Math.abs(-10.4));    //10.4  \n            System.out.println(Math.abs(10.1));     //10.1  \n              \n            /** \n             * ceil天花板的意思，就是返回大的值，注意一些特殊值 \n             */  \n            System.out.println(Math.ceil(-10.1));   //-10.0  \n            System.out.println(Math.ceil(10.7));    //11.0  \n            System.out.println(Math.ceil(-0.7));    //-0.0  \n            System.out.println(Math.ceil(0.0));     //0.0  \n            System.out.println(Math.ceil(-0.0));    //-0.0  \n              \n            /** \n             * floor地板的意思，就是返回小的值 \n             */  \n            System.out.println(Math.floor(-10.1));  //-11.0  \n            System.out.println(Math.floor(10.7));   //10.0  \n            System.out.println(Math.floor(-0.7));   //-1.0  \n            System.out.println(Math.floor(0.0));    //0.0  \n            System.out.println(Math.floor(-0.0));   //-0.0  \n              \n            /** \n             * max 两个中返回大的值,min和它相反，就不举例了 \n             */  \n            System.out.println(Math.max(-10.1, -10));   //-10.0  \n            System.out.println(Math.max(10.7, 10));     //10.7  \n            System.out.println(Math.max(0.0, -0.0));    //0.0  \n              \n            /** \n             * random 取得一个大于或者等于0.0小于不等于1.0的随机数 \n             */  \n            System.out.println(Math.random());  //0.08417657924317234  \n            System.out.println(Math.random());  //0.43527904004403717  \n              \n            /** \n             * rint 四舍五入，返回double值 \n             * 注意.5的时候会取偶数 \n             */  \n            System.out.println(Math.rint(10.1));    //10.0  \n            System.out.println(Math.rint(10.7));    //11.0  \n            System.out.println(Math.rint(11.5));    //12.0  \n            System.out.println(Math.rint(10.5));    //10.0  \n            System.out.println(Math.rint(10.51));   //11.0  \n            System.out.println(Math.rint(-10.5));   //-10.0  \n            System.out.println(Math.rint(-11.5));   //-12.0  \n            System.out.println(Math.rint(-10.51));  //-11.0  \n            System.out.println(Math.rint(-10.6));   //-11.0  \n            System.out.println(Math.rint(-10.2));   //-10.0  \n              \n            /** \n             * round 四舍五入，float时返回int值，double时返回long值 \n             */  \n            System.out.println(Math.round(10.1));   //10  \n            System.out.println(Math.round(10.7));   //11  \n            System.out.println(Math.round(10.5));   //11  \n            System.out.println(Math.round(10.51));  //11  \n            System.out.println(Math.round(-10.5));  //-10  \n            System.out.println(Math.round(-10.51)); //-11  \n            System.out.println(Math.round(-10.6));  //-11  \n            System.out.println(Math.round(-10.2));  //-10  \n  }\n\n}\n\n```","slug":"Java中Math类的一些常用方法","published":1,"updated":"2016-03-30T11:57:43.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5k0006pzv26z2tvqaj","content":"<h1 id=\"Java中Math类的一些常用方法\"><a href=\"#Java中Math类的一些常用方法\" class=\"headerlink\" title=\"Java中Math类的一些常用方法\"></a>Java中Math类的一些常用方法</h1><a id=\"more\"></a>\n<figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> class MathTest&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span> args[])&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * abs求绝对值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">abs</span>(<span class=\"number\">-10.4</span>));    <span class=\"comment\">//10.4  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">abs</span>(<span class=\"number\">10.1</span>));     <span class=\"comment\">//10.1  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * ceil天花板的意思，就是返回大的值，注意一些特殊值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-10.1</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">10.7</span>));    <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-0.7</span>));    <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">0.0</span>));     <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-0.0</span>));    <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * floor地板的意思，就是返回小的值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-10.1</span>));  <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">10.7</span>));   <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-0.7</span>));   <span class=\"comment\">//-1.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">0.0</span>));    <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-0.0</span>));   <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * max 两个中返回大的值,min和它相反，就不举例了 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">-10.1</span>, <span class=\"number\">-10</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">10.7</span>, <span class=\"number\">10</span>));     <span class=\"comment\">//10.7  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">0.0</span>, <span class=\"number\">-0.0</span>));    <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * random 取得一个大于或者等于0.0小于不等于1.0的随机数 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">random</span>());  <span class=\"comment\">//0.08417657924317234  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">random</span>());  <span class=\"comment\">//0.43527904004403717  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * rint 四舍五入，返回double值 </span><br><span class=\"line\">             * 注意.5的时候会取偶数 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.1</span>));    <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.7</span>));    <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">11.5</span>));    <span class=\"comment\">//12.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.5</span>));    <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.51</span>));   <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.5</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-11.5</span>));   <span class=\"comment\">//-12.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.51</span>));  <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.6</span>));   <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.2</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * round 四舍五入，float时返回int值，double时返回long值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.1</span>));   <span class=\"comment\">//10  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.7</span>));   <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.5</span>));   <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.51</span>));  <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.5</span>));  <span class=\"comment\">//-10  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.51</span>)); <span class=\"comment\">//-11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.6</span>));  <span class=\"comment\">//-11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.2</span>));  <span class=\"comment\">//-10  </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>","excerpt":"<h1 id=\"Java中Math类的一些常用方法\"><a href=\"#Java中Math类的一些常用方法\" class=\"headerlink\" title=\"Java中Math类的一些常用方法\"></a>Java中Math类的一些常用方法</h1>","more":"<figure class=\"highlight processing\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> class MathTest&#123;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> main(<span class=\"keyword\">String</span> args[])&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * abs求绝对值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">abs</span>(<span class=\"number\">-10.4</span>));    <span class=\"comment\">//10.4  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">abs</span>(<span class=\"number\">10.1</span>));     <span class=\"comment\">//10.1  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * ceil天花板的意思，就是返回大的值，注意一些特殊值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-10.1</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">10.7</span>));    <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-0.7</span>));    <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">0.0</span>));     <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">ceil</span>(<span class=\"number\">-0.0</span>));    <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * floor地板的意思，就是返回小的值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-10.1</span>));  <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">10.7</span>));   <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-0.7</span>));   <span class=\"comment\">//-1.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">0.0</span>));    <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">floor</span>(<span class=\"number\">-0.0</span>));   <span class=\"comment\">//-0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * max 两个中返回大的值,min和它相反，就不举例了 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">-10.1</span>, <span class=\"number\">-10</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">10.7</span>, <span class=\"number\">10</span>));     <span class=\"comment\">//10.7  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">max</span>(<span class=\"number\">0.0</span>, <span class=\"number\">-0.0</span>));    <span class=\"comment\">//0.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * random 取得一个大于或者等于0.0小于不等于1.0的随机数 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">random</span>());  <span class=\"comment\">//0.08417657924317234  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">random</span>());  <span class=\"comment\">//0.43527904004403717  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * rint 四舍五入，返回double值 </span><br><span class=\"line\">             * 注意.5的时候会取偶数 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.1</span>));    <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.7</span>));    <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">11.5</span>));    <span class=\"comment\">//12.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.5</span>));    <span class=\"comment\">//10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">10.51</span>));   <span class=\"comment\">//11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.5</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-11.5</span>));   <span class=\"comment\">//-12.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.51</span>));  <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.6</span>));   <span class=\"comment\">//-11.0  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.rint(<span class=\"number\">-10.2</span>));   <span class=\"comment\">//-10.0  </span></span><br><span class=\"line\">              </span><br><span class=\"line\">            <span class=\"comment\">/** </span><br><span class=\"line\">             * round 四舍五入，float时返回int值，double时返回long值 </span><br><span class=\"line\">             */</span>  </span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.1</span>));   <span class=\"comment\">//10  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.7</span>));   <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.5</span>));   <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">10.51</span>));  <span class=\"comment\">//11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.5</span>));  <span class=\"comment\">//-10  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.51</span>)); <span class=\"comment\">//-11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.6</span>));  <span class=\"comment\">//-11  </span></span><br><span class=\"line\">            System.out.<span class=\"built_in\">println</span>(Math.<span class=\"built_in\">round</span>(<span class=\"number\">-10.2</span>));  <span class=\"comment\">//-10  </span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>"},{"title":"Mac 清除 DNS 缓存","date":"2016-03-18T11:28:30.000Z","_content":"\n# Mac 清除 DNS 缓存\n\n<!-- more -->\n打开 Terminal，根据你的系统版本运行对应的命令：\n\nMac OSX 10.11\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.10.4以上\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.10.0 - 10.10.3\n> sudo discoveryutil mdnsflushcache\n\nMac OSX 10.7 & 10.8 & 10.9\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.6\n> dscacheutil -flushcache\n\n\n","source":"_posts/Mac-清除-DNS-缓存.md","raw":"---\ntitle: Mac 清除 DNS 缓存\ndate: 2016-03-18 19:28:30\ntags: [mac, dns, 缓存]\ncategories: mac\n---\n\n# Mac 清除 DNS 缓存\n\n<!-- more -->\n打开 Terminal，根据你的系统版本运行对应的命令：\n\nMac OSX 10.11\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.10.4以上\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.10.0 - 10.10.3\n> sudo discoveryutil mdnsflushcache\n\nMac OSX 10.7 & 10.8 & 10.9\n> sudo killall -HUP mDNSResponder\n\nMac OSX 10.6\n> dscacheutil -flushcache\n\n\n","slug":"Mac-清除-DNS-缓存","published":1,"updated":"2016-03-18T11:33:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5n0008pzv2dx8zfuxx","content":"<h1 id=\"Mac-清除-DNS-缓存\"><a href=\"#Mac-清除-DNS-缓存\" class=\"headerlink\" title=\"Mac 清除 DNS 缓存\"></a>Mac 清除 DNS 缓存</h1><a id=\"more\"></a>\n<p>打开 Terminal，根据你的系统版本运行对应的命令：</p>\n<p>Mac OSX 10.11</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.10.4以上</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.10.0 - 10.10.3</p>\n<blockquote>\n<p>sudo discoveryutil mdnsflushcache</p>\n</blockquote>\n<p>Mac OSX 10.7 &amp; 10.8 &amp; 10.9</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.6</p>\n<blockquote>\n<p>dscacheutil -flushcache</p>\n</blockquote>\n","excerpt":"<h1 id=\"Mac-清除-DNS-缓存\"><a href=\"#Mac-清除-DNS-缓存\" class=\"headerlink\" title=\"Mac 清除 DNS 缓存\"></a>Mac 清除 DNS 缓存</h1>","more":"<p>打开 Terminal，根据你的系统版本运行对应的命令：</p>\n<p>Mac OSX 10.11</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.10.4以上</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.10.0 - 10.10.3</p>\n<blockquote>\n<p>sudo discoveryutil mdnsflushcache</p>\n</blockquote>\n<p>Mac OSX 10.7 &amp; 10.8 &amp; 10.9</p>\n<blockquote>\n<p>sudo killall -HUP mDNSResponder</p>\n</blockquote>\n<p>Mac OSX 10.6</p>\n<blockquote>\n<p>dscacheutil -flushcache</p>\n</blockquote>"},{"title":"mac系统如何显示和隐藏文件","date":"2016-03-09T15:49:21.000Z","_content":"\n### 显示Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles -bool true\n\n### 隐藏Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles -bool false\n\n<!-- more -->\n## 或者 : ##\n\n### 显示Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles YES\n\n### 隐藏Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles NO \n\n输完单击Enter键，退出终端，重新启动Finder就可以了 \n#### 重启Finder：\n>鼠标单击窗口左上角的苹果标志-->强制退出-->Finder-->重新启动\n\n\n","source":"_posts/mac系统如何显示和隐藏文件.md","raw":"---\ntitle: mac系统如何显示和隐藏文件\ndate: 2016-03-09 23:49:21\ntags: [mac]\ncategories: mac\n---\n\n### 显示Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles -bool true\n\n### 隐藏Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles -bool false\n\n<!-- more -->\n## 或者 : ##\n\n### 显示Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles YES\n\n### 隐藏Mac隐藏文件的命令：\n>defaults write com.apple.finder AppleShowAllFiles NO \n\n输完单击Enter键，退出终端，重新启动Finder就可以了 \n#### 重启Finder：\n>鼠标单击窗口左上角的苹果标志-->强制退出-->Finder-->重新启动\n\n\n","slug":"mac系统如何显示和隐藏文件","published":1,"updated":"2016-03-12T03:24:56.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5q000bpzv2pvoirxrv","content":"<h3 id=\"显示Mac隐藏文件的命令：\"><a href=\"#显示Mac隐藏文件的命令：\" class=\"headerlink\" title=\"显示Mac隐藏文件的命令：\"></a>显示Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles -bool true</p>\n</blockquote>\n<h3 id=\"隐藏Mac隐藏文件的命令：\"><a href=\"#隐藏Mac隐藏文件的命令：\" class=\"headerlink\" title=\"隐藏Mac隐藏文件的命令：\"></a>隐藏Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles -bool false</p>\n</blockquote>\n<a id=\"more\"></a>\n<h2 id=\"或者\"><a href=\"#或者\" class=\"headerlink\" title=\"或者 :\"></a>或者 :</h2><h3 id=\"显示Mac隐藏文件的命令：-1\"><a href=\"#显示Mac隐藏文件的命令：-1\" class=\"headerlink\" title=\"显示Mac隐藏文件的命令：\"></a>显示Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles YES</p>\n</blockquote>\n<h3 id=\"隐藏Mac隐藏文件的命令：-1\"><a href=\"#隐藏Mac隐藏文件的命令：-1\" class=\"headerlink\" title=\"隐藏Mac隐藏文件的命令：\"></a>隐藏Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles NO </p>\n</blockquote>\n<p>输完单击Enter键，退出终端，重新启动Finder就可以了 </p>\n<h4 id=\"重启Finder：\"><a href=\"#重启Finder：\" class=\"headerlink\" title=\"重启Finder：\"></a>重启Finder：</h4><blockquote>\n<p>鼠标单击窗口左上角的苹果标志–&gt;强制退出–&gt;Finder–&gt;重新启动</p>\n</blockquote>\n","excerpt":"<h3 id=\"显示Mac隐藏文件的命令：\"><a href=\"#显示Mac隐藏文件的命令：\" class=\"headerlink\" title=\"显示Mac隐藏文件的命令：\"></a>显示Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles -bool true</p>\n</blockquote>\n<h3 id=\"隐藏Mac隐藏文件的命令：\"><a href=\"#隐藏Mac隐藏文件的命令：\" class=\"headerlink\" title=\"隐藏Mac隐藏文件的命令：\"></a>隐藏Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles -bool false</p>\n</blockquote>","more":"<h2 id=\"或者\"><a href=\"#或者\" class=\"headerlink\" title=\"或者 :\"></a>或者 :</h2><h3 id=\"显示Mac隐藏文件的命令：-1\"><a href=\"#显示Mac隐藏文件的命令：-1\" class=\"headerlink\" title=\"显示Mac隐藏文件的命令：\"></a>显示Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles YES</p>\n</blockquote>\n<h3 id=\"隐藏Mac隐藏文件的命令：-1\"><a href=\"#隐藏Mac隐藏文件的命令：-1\" class=\"headerlink\" title=\"隐藏Mac隐藏文件的命令：\"></a>隐藏Mac隐藏文件的命令：</h3><blockquote>\n<p>defaults write com.apple.finder AppleShowAllFiles NO </p>\n</blockquote>\n<p>输完单击Enter键，退出终端，重新启动Finder就可以了 </p>\n<h4 id=\"重启Finder：\"><a href=\"#重启Finder：\" class=\"headerlink\" title=\"重启Finder：\"></a>重启Finder：</h4><blockquote>\n<p>鼠标单击窗口左上角的苹果标志–&gt;强制退出–&gt;Finder–&gt;重新启动</p>\n</blockquote>"},{"title":"Mac下，添加Android adb命令","date":"2016-03-09T15:58:48.000Z","_content":"\n1 在用户目录下 ~/.bash_profile 如果存在打开，不存在则创建\n\n``` \nvim ~/.bash_profile\n```\n2 加入我们需要的添加的环境变量，例如：Android需要添加platform-tools 和 tools\n\n<!--more-->\n``` \nexport PATH=${PATH}:/Users/user/android-sdks/platform-tools:/Users/user/android-sdks/tools \n\n或者\nexport PATH=/Users/user/android-sdks/platform-tools:$PATH \nexport PATH=/Users/user/android-sdks/tools:$PATH \n\n其中 :$PATH 不能少，表示加入系统的环境变量\n```\n\n3 进行验证 \n\n> 重新打开一个终端：输入adb,即可验证。\n\n\n\n","source":"_posts/Mac下，添加Android-adb命令.md","raw":"---\ntitle: Mac下，添加Android adb命令\ndate: 2016-03-09 23:58:48\ntags: [mac]\ncategories: mac\n---\n\n1 在用户目录下 ~/.bash_profile 如果存在打开，不存在则创建\n\n``` \nvim ~/.bash_profile\n```\n2 加入我们需要的添加的环境变量，例如：Android需要添加platform-tools 和 tools\n\n<!--more-->\n``` \nexport PATH=${PATH}:/Users/user/android-sdks/platform-tools:/Users/user/android-sdks/tools \n\n或者\nexport PATH=/Users/user/android-sdks/platform-tools:$PATH \nexport PATH=/Users/user/android-sdks/tools:$PATH \n\n其中 :$PATH 不能少，表示加入系统的环境变量\n```\n\n3 进行验证 \n\n> 重新打开一个终端：输入adb,即可验证。\n\n\n\n","slug":"Mac下，添加Android-adb命令","published":1,"updated":"2016-03-12T03:24:10.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5u000dpzv2huo4yjr6","content":"<p>1 在用户目录下 ~/.bash_profile 如果存在打开，不存在则创建</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">vim</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p>2 加入我们需要的添加的环境变量，例如：Android需要添加platform-tools 和 tools</p>\n<a id=\"more\"></a>\n<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=<span class=\"variable\">$&#123;</span>PATH&#125;<span class=\"symbol\">:/Users/user/android-sdks/platform-tools</span><span class=\"symbol\">:/Users/user/android-sdks/tools</span> </span><br><span class=\"line\"></span><br><span class=\"line\">或者</span><br><span class=\"line\">export PATH=<span class=\"regexp\">/Users/user</span><span class=\"regexp\">/android-sdks/platform</span>-<span class=\"symbol\">tools:</span><span class=\"variable\">$PATH</span> </span><br><span class=\"line\">export PATH=<span class=\"regexp\">/Users/user</span><span class=\"regexp\">/android-sdks/tools</span><span class=\"symbol\">:</span><span class=\"variable\">$PATH</span> </span><br><span class=\"line\"></span><br><span class=\"line\">其中 <span class=\"symbol\">:</span><span class=\"variable\">$PATH</span> 不能少，表示加入系统的环境变量</span><br></pre></td></tr></table></figure>\n<p>3 进行验证 </p>\n<blockquote>\n<p>重新打开一个终端：输入adb,即可验证。</p>\n</blockquote>\n","excerpt":"<p>1 在用户目录下 ~/.bash_profile 如果存在打开，不存在则创建</p>\n<figure class=\"highlight nginx\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attribute\">vim</span> ~/.bash_profile</span><br></pre></td></tr></table></figure>\n<p>2 加入我们需要的添加的环境变量，例如：Android需要添加platform-tools 和 tools</p>","more":"<figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">export PATH=<span class=\"variable\">$&#123;</span>PATH&#125;<span class=\"symbol\">:/Users/user/android-sdks/platform-tools</span><span class=\"symbol\">:/Users/user/android-sdks/tools</span> </span><br><span class=\"line\"></span><br><span class=\"line\">或者</span><br><span class=\"line\">export PATH=<span class=\"regexp\">/Users/user</span><span class=\"regexp\">/android-sdks/platform</span>-<span class=\"symbol\">tools:</span><span class=\"variable\">$PATH</span> </span><br><span class=\"line\">export PATH=<span class=\"regexp\">/Users/user</span><span class=\"regexp\">/android-sdks/tools</span><span class=\"symbol\">:</span><span class=\"variable\">$PATH</span> </span><br><span class=\"line\"></span><br><span class=\"line\">其中 <span class=\"symbol\">:</span><span class=\"variable\">$PATH</span> 不能少，表示加入系统的环境变量</span><br></pre></td></tr></table></figure>\n<p>3 进行验证 </p>\n<blockquote>\n<p>重新打开一个终端：输入adb,即可验证。</p>\n</blockquote>"},{"title":"查看被删的微信好友","date":"2016-04-01T06:33:06.000Z","_content":"## 查看被删的微信好友\n\n<!-- more -->\n\n[来自这里](https://github.com/0x5e/wechat-deleted-friends)\n\n> 原理：\n\n查看被删的微信好友\n原理就是新建群组,如果加不进来就是被删好友了(不要在群组里讲话,别人是看不见的)\n用的是微信网页版的接口\n查询结果可能会引起一些心理上的不适,请小心使用.\nMac OS用法: 启动Terminal\n\n```\n\t$ python wechat.py\n\n```\n下面是wechat.py的代码\n\n```\n#!/usr/bin/env python\n# coding=utf-8\nfrom __future__ import print_function\n\nimport os\ntry:\n    from urllib import urlencode, quote_plus\nexcept ImportError:\n    from urllib.parse import urlencode, quote_plus\n\ntry:\n    import urllib2 as wdf_urllib\n    from cookielib import CookieJar\nexcept ImportError:\n    import urllib.request as wdf_urllib\n    from http.cookiejar import CookieJar\n\nimport re\nimport time\nimport xml.dom.minidom\nimport json\nimport sys\nimport math\nimport subprocess\nimport ssl\nimport thread\n\nDEBUG = False\n\nMAX_GROUP_NUM = 35  # 每组人数\nINTERFACE_CALLING_INTERVAL = 20  # 接口调用时间间隔, 间隔太短容易出现\"操作太频繁\", 会被限制操作半小时左右\nMAX_PROGRESS_LEN = 50\n\nQRImagePath = os.path.join(os.getcwd(), 'qrcode.jpg')\n\ntip = 0\nuuid = ''\n\nbase_uri = ''\nredirect_uri = ''\npush_uri = ''\n\nskey = ''\nwxsid = ''\nwxuin = ''\npass_ticket = ''\ndeviceId = 'e000000000000000'\n\nBaseRequest = {}\n\nContactList = []\nMy = []\nSyncKey = []\n\ntry:\n    xrange\n    range = xrange\nexcept:\n    # python 3\n    pass\n\n\ndef responseState(func, BaseResponse):\n    ErrMsg = BaseResponse['ErrMsg']\n    Ret = BaseResponse['Ret']\n    if DEBUG or Ret != 0:\n        print('func: %s, Ret: %d, ErrMsg: %s' % (func, Ret, ErrMsg))\n\n    if Ret != 0:\n        return False\n\n    return True\n\n\ndef getRequest(url, data=None):\n    try:\n        data = data.encode('utf-8')\n    except:\n        pass\n    finally:\n        return wdf_urllib.Request(url=url, data=data)\n\n\ndef getUUID():\n    global uuid\n\n    url = 'https://login.weixin.qq.com/jslogin'\n    params = {\n        'appid': 'wx782c26e4c19acffb',\n        'fun': 'new',\n        'lang': 'zh_CN',\n        '_': int(time.time()),\n    }\n\n    request = getRequest(url=url, data=urlencode(params))\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.QRLogin.code = 200; window.QRLogin.uuid = \"oZwt_bFfRg==\";\n    regx = r'window.QRLogin.code = (\\d+); window.QRLogin.uuid = \"(\\S+?)\"'\n    pm = re.search(regx, data)\n\n    code = pm.group(1)\n    uuid = pm.group(2)\n\n    if code == '200':\n        return True\n\n    return False\n\n\ndef showQRImage():\n    global tip\n\n    url = 'https://login.weixin.qq.com/qrcode/' + uuid\n    params = {\n        't': 'webwx',\n        '_': int(time.time()),\n    }\n\n    request = getRequest(url=url, data=urlencode(params))\n    response = wdf_urllib.urlopen(request)\n\n    tip = 1\n\n    f = open(QRImagePath, 'wb')\n    f.write(response.read())\n    f.close()\n\n    if sys.platform.find('darwin') >= 0:\n        subprocess.call(['open', QRImagePath])\n    elif sys.platform.find('linux') >= 0:\n        subprocess.call(['xdg-open', QRImagePath])\n    else:\n        os.startfile(QRImagePath)\n\n    print('请使用微信扫描二维码以登录')\n\n\ndef waitForLogin():\n    global tip, base_uri, redirect_uri, push_uri\n\n    url = 'https://login.weixin.qq.com/cgi-bin/mmwebwx-bin/login?tip=%s&uuid=%s&_=%s' % (\n        tip, uuid, int(time.time()))\n\n    request = getRequest(url=url)\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.code=500;\n    regx = r'window.code=(\\d+);'\n    pm = re.search(regx, data)\n\n    code = pm.group(1)\n\n    if code == '201':  # 已扫描\n        print('成功扫描,请在手机上点击确认以登录')\n        tip = 0\n    elif code == '200':  # 已登录\n        print('正在登录...')\n        regx = r'window.redirect_uri=\"(\\S+?)\";'\n        pm = re.search(regx, data)\n        redirect_uri = pm.group(1) + '&fun=new'\n        base_uri = redirect_uri[:redirect_uri.rfind('/')]\n\n        # push_uri与base_uri对应关系(排名分先后)(就是这么奇葩..)\n        services = [\n            ('wx2.qq.com', 'webpush2.weixin.qq.com'),\n            ('qq.com', 'webpush.weixin.qq.com'),\n            ('web1.wechat.com', 'webpush1.wechat.com'),\n            ('web2.wechat.com', 'webpush2.wechat.com'),\n            ('wechat.com', 'webpush.wechat.com'),\n            ('web1.wechatapp.com', 'webpush1.wechatapp.com'),\n        ]\n        push_uri = base_uri\n        for (searchUrl, pushUrl) in services:\n            if base_uri.find(searchUrl) >= 0:\n                push_uri = 'https://%s/cgi-bin/mmwebwx-bin' % pushUrl\n                break\n\n        # closeQRImage\n        if sys.platform.find('darwin') >= 0:  # for OSX with Preview\n            os.system(\"osascript -e 'quit app \\\"Preview\\\"'\")\n    elif code == '408':  # 超时\n        pass\n    # elif code == '400' or code == '500':\n\n    return code\n\n\ndef login():\n    global skey, wxsid, wxuin, pass_ticket, BaseRequest\n\n    request = getRequest(url=redirect_uri)\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    doc = xml.dom.minidom.parseString(data)\n    root = doc.documentElement\n\n    for node in root.childNodes:\n        if node.nodeName == 'skey':\n            skey = node.childNodes[0].data\n        elif node.nodeName == 'wxsid':\n            wxsid = node.childNodes[0].data\n        elif node.nodeName == 'wxuin':\n            wxuin = node.childNodes[0].data\n        elif node.nodeName == 'pass_ticket':\n            pass_ticket = node.childNodes[0].data\n\n    # print('skey: %s, wxsid: %s, wxuin: %s, pass_ticket: %s' % (skey, wxsid,\n    # wxuin, pass_ticket))\n\n    if not all((skey, wxsid, wxuin, pass_ticket)):\n        return False\n\n    BaseRequest = {\n        'Uin': int(wxuin),\n        'Sid': wxsid,\n        'Skey': skey,\n        'DeviceID': deviceId,\n    }\n\n    return True\n\n\ndef webwxinit():\n\n    url = base_uri + \\\n        '/webwxinit?pass_ticket=%s&skey=%s&r=%s' % (\n            pass_ticket, skey, int(time.time()))\n    params = {\n        'BaseRequest': BaseRequest\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read()\n\n    if DEBUG:\n        f = open(os.path.join(os.getcwd(), 'webwxinit.json'), 'wb')\n        f.write(data)\n        f.close()\n\n    data = data.decode('utf-8', 'replace')\n\n    # print(data)\n\n    global ContactList, My, SyncKey\n    dic = json.loads(data)\n    ContactList = dic['ContactList']\n    My = dic['User']\n    SyncKey = dic['SyncKey']\n\n    state = responseState('webwxinit', dic['BaseResponse'])\n    return state\n\n\ndef webwxgetcontact():\n\n    url = base_uri + \\\n        '/webwxgetcontact?pass_ticket=%s&skey=%s&r=%s' % (\n            pass_ticket, skey, int(time.time()))\n\n    request = getRequest(url=url)\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read()\n\n    if DEBUG:\n        f = open(os.path.join(os.getcwd(), 'webwxgetcontact.json'), 'wb')\n        f.write(data)\n        f.close()\n\n    # print(data)\n    data = data.decode('utf-8', 'replace')\n\n    dic = json.loads(data)\n    MemberList = dic['MemberList']\n\n    # 倒序遍历,不然删除的时候出问题..\n    SpecialUsers = [\"newsapp\", \"fmessage\", \"filehelper\", \"weibo\", \"qqmail\", \"tmessage\", \"qmessage\", \"qqsync\", \"floatbottle\", \"lbsapp\", \"shakeapp\", \"medianote\", \"qqfriend\", \"readerapp\", \"blogapp\", \"facebookapp\", \"masssendapp\",\n                    \"meishiapp\", \"feedsapp\", \"voip\", \"blogappweixin\", \"weixin\", \"brandsessionholder\", \"weixinreminder\", \"wxid_novlwrv3lqwv11\", \"gh_22b87fa7cb3c\", \"officialaccounts\", \"notification_messages\", \"wxitil\", \"userexperience_alarm\"]\n    for i in range(len(MemberList) - 1, -1, -1):\n        Member = MemberList[i]\n        if Member['VerifyFlag'] & 8 != 0:  # 公众号/服务号\n            MemberList.remove(Member)\n        elif Member['UserName'] in SpecialUsers:  # 特殊账号\n            MemberList.remove(Member)\n        elif Member['UserName'].find('@@') != -1:  # 群聊\n            MemberList.remove(Member)\n        elif Member['UserName'] == My['UserName']:  # 自己\n            MemberList.remove(Member)\n\n    return MemberList\n\n\ndef createChatroom(UserNames):\n    MemberList = [{'UserName': UserName} for UserName in UserNames]\n\n    url = base_uri + \\\n        '/webwxcreatechatroom?pass_ticket=%s&r=%s' % (\n            pass_ticket, int(time.time()))\n    params = {\n        'BaseRequest': BaseRequest,\n        'MemberCount': len(MemberList),\n        'MemberList': MemberList,\n        'Topic': '',\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    ChatRoomName = dic['ChatRoomName']\n    MemberList = dic['MemberList']\n    DeletedList = []\n    BlockedList = []\n    for Member in MemberList:\n        if Member['MemberStatus'] == 4:  # 被对方删除了\n            DeletedList.append(Member['UserName'])\n        elif Member['MemberStatus'] == 3:  # 被加入黑名单\n            BlockedList.append(Member['UserName'])\n\n    state = responseState('createChatroom', dic['BaseResponse'])\n\n    return ChatRoomName, DeletedList, BlockedList\n\n\ndef deleteMember(ChatRoomName, UserNames):\n    url = base_uri + \\\n        '/webwxupdatechatroom?fun=delmember&pass_ticket=%s' % (pass_ticket)\n    params = {\n        'BaseRequest': BaseRequest,\n        'ChatRoomName': ChatRoomName,\n        'DelMemberList': ','.join(UserNames),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n\n    state = responseState('deleteMember', dic['BaseResponse'])\n    return state\n\n\ndef addMember(ChatRoomName, UserNames):\n    url = base_uri + \\\n        '/webwxupdatechatroom?fun=addmember&pass_ticket=%s' % (pass_ticket)\n    params = {\n        'BaseRequest': BaseRequest,\n        'ChatRoomName': ChatRoomName,\n        'AddMemberList': ','.join(UserNames),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    MemberList = dic['MemberList']\n    DeletedList = []\n    BlockedList = []\n    for Member in MemberList:\n        if Member['MemberStatus'] == 4:  # 被对方删除了\n            DeletedList.append(Member['UserName'])\n        elif Member['MemberStatus'] == 3:  # 被加入黑名单\n            BlockedList.append(Member['UserName'])\n\n    state = responseState('addMember', dic['BaseResponse'])\n\n    return DeletedList, BlockedList\n\n\ndef syncKey():\n    SyncKeyItems = ['%s_%s' % (item['Key'], item['Val'])\n                    for item in SyncKey['List']]\n    SyncKeyStr = '|'.join(SyncKeyItems)\n    return SyncKeyStr\n\n\ndef syncCheck():\n    url = push_uri + '/synccheck?'\n    params = {\n        'skey': BaseRequest['Skey'],\n        'sid': BaseRequest['Sid'],\n        'uin': BaseRequest['Uin'],\n        'deviceId': BaseRequest['DeviceID'],\n        'synckey': syncKey(),\n        'r': int(time.time()),\n    }\n\n    request = getRequest(url=url + urlencode(params))\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.synccheck={retcode:\"0\",selector:\"2\"}\n    regx = r'window.synccheck={retcode:\"(\\d+)\",selector:\"(\\d+)\"}'\n    pm = re.search(regx, data)\n\n    retcode = pm.group(1)\n    selector = pm.group(2)\n\n    return selector\n\n\ndef webwxsync():\n    global SyncKey\n\n    url = base_uri + '/webwxsync?lang=zh_CN&skey=%s&sid=%s&pass_ticket=%s' % (\n        BaseRequest['Skey'], BaseRequest['Sid'], quote_plus(pass_ticket))\n    params = {\n        'BaseRequest': BaseRequest,\n        'SyncKey': SyncKey,\n        'rr': ~int(time.time()),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    SyncKey = dic['SyncKey']\n\n    state = responseState('webwxsync', dic['BaseResponse'])\n    return state\n\n\ndef heartBeatLoop():\n    while True:\n        selector = syncCheck()\n        if selector != '0':\n            webwxsync()\n        time.sleep(1)\n\n\ndef main():\n\n    try:\n        ssl._create_default_https_context = ssl._create_unverified_context\n\n        opener = wdf_urllib.build_opener(\n            wdf_urllib.HTTPCookieProcessor(CookieJar()))\n        opener.addheaders = [\n            ('User-agent', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36')]\n        wdf_urllib.install_opener(opener)\n    except:\n        pass\n\n    if not getUUID():\n        print('获取uuid失败')\n        return\n\n    print('正在获取二维码图片...')\n    showQRImage()\n    time.sleep(1)\n\n    while waitForLogin() != '200':\n        pass\n\n    os.remove(QRImagePath)\n\n    if not login():\n        print('登录失败')\n        return\n\n    if not webwxinit():\n        print('初始化失败')\n        return\n\n    MemberList = webwxgetcontact()\n\n    print('开启心跳线程')\n    thread.start_new_thread(heartBeatLoop, ())\n\n    MemberCount = len(MemberList)\n    print('通讯录共%s位好友' % MemberCount)\n\n    ChatRoomName = ''\n    result = []\n    d = {}\n    for Member in MemberList:\n        d[Member['UserName']] = (Member['NickName'].encode(\n            'utf-8'), Member['RemarkName'].encode('utf-8'))\n    print('开始查找...')\n    group_num = int(math.ceil(MemberCount / float(MAX_GROUP_NUM)))\n    for i in range(0, group_num):\n        UserNames = []\n        for j in range(0, MAX_GROUP_NUM):\n            if i * MAX_GROUP_NUM + j >= MemberCount:\n                break\n            Member = MemberList[i * MAX_GROUP_NUM + j]\n            UserNames.append(Member['UserName'])\n\n        # 新建群组/添加成员\n        if ChatRoomName == '':\n            (ChatRoomName, DeletedList, BlockedList) = createChatroom(\n                UserNames)\n        else:\n            (DeletedList, BlockedList) = addMember(ChatRoomName, UserNames)\n\n        # todo BlockedList 被拉黑列表\n\n        DeletedCount = len(DeletedList)\n        if DeletedCount > 0:\n            result += DeletedList\n\n        # 删除成员\n        deleteMember(ChatRoomName, UserNames)\n\n        # 进度条\n        progress = MAX_PROGRESS_LEN * (i + 1) / group_num\n        print('[', '#' * progress, '-' * (MAX_PROGRESS_LEN - progress), ']', end=' ')\n        print('新发现你被%d人删除' % DeletedCount)\n        for i in range(DeletedCount):\n            if d[DeletedList[i]][1] != '':\n                print(d[DeletedList[i]][0] + '(%s)' % d[DeletedList[i]][1])\n            else:\n                print(d[DeletedList[i]][0])\n\n        if i != group_num - 1:\n            print('正在继续查找,请耐心等待...')\n            # 下一次进行接口调用需要等待的时间\n            time.sleep(INTERFACE_CALLING_INTERVAL)\n    # todo 删除群组\n\n    print('\\n结果汇总完毕,20s后可重试...')\n    resultNames = []\n    for r in result:\n        if d[r][1] != '':\n            resultNames.append(d[r][0] + '(%s)' % d[r][1])\n        else:\n            resultNames.append(d[r][0])\n\n    print('---------- 被删除的好友列表(共%d人) ----------' % len(result))\n    # 过滤emoji\n    resultNames = map(lambda x: re.sub(r'<span.+/span>', '', x), resultNames)\n    if len(resultNames):\n        print('\\n'.join(resultNames))\n    else:\n        print(\"无\")\n    print('---------------------------------------------')\n\n\n# windows下编码问题修复\n# http://blog.csdn.net/heyuxuanzee/article/details/8442718\n\n\nclass UnicodeStreamFilter:\n\n    def __init__(self, target):\n        self.target = target\n        self.encoding = 'utf-8'\n        self.errors = 'replace'\n        self.encode_to = self.target.encoding\n\n    def write(self, s):\n        if type(s) == str:\n            s = s.decode('utf-8')\n        s = s.encode(self.encode_to, self.errors).decode(self.encode_to)\n        self.target.write(s)\n\nif sys.stdout.encoding == 'cp936':\n    sys.stdout = UnicodeStreamFilter(sys.stdout)\n\nif __name__ == '__main__':\n\n    print('本程序的查询结果可能会引起一些心理上的不适,请小心使用...')\n    main()\n    print('回车键退出...')\n```\n\n按照指示做即可。","source":"_posts/查看被删的微信好友.md","raw":"---\ntitle: 查看被删的微信好友\ndate: 2016-04-01 14:33:06\ntags: [wechat, 微信, python]\ncategories: python\n---\n## 查看被删的微信好友\n\n<!-- more -->\n\n[来自这里](https://github.com/0x5e/wechat-deleted-friends)\n\n> 原理：\n\n查看被删的微信好友\n原理就是新建群组,如果加不进来就是被删好友了(不要在群组里讲话,别人是看不见的)\n用的是微信网页版的接口\n查询结果可能会引起一些心理上的不适,请小心使用.\nMac OS用法: 启动Terminal\n\n```\n\t$ python wechat.py\n\n```\n下面是wechat.py的代码\n\n```\n#!/usr/bin/env python\n# coding=utf-8\nfrom __future__ import print_function\n\nimport os\ntry:\n    from urllib import urlencode, quote_plus\nexcept ImportError:\n    from urllib.parse import urlencode, quote_plus\n\ntry:\n    import urllib2 as wdf_urllib\n    from cookielib import CookieJar\nexcept ImportError:\n    import urllib.request as wdf_urllib\n    from http.cookiejar import CookieJar\n\nimport re\nimport time\nimport xml.dom.minidom\nimport json\nimport sys\nimport math\nimport subprocess\nimport ssl\nimport thread\n\nDEBUG = False\n\nMAX_GROUP_NUM = 35  # 每组人数\nINTERFACE_CALLING_INTERVAL = 20  # 接口调用时间间隔, 间隔太短容易出现\"操作太频繁\", 会被限制操作半小时左右\nMAX_PROGRESS_LEN = 50\n\nQRImagePath = os.path.join(os.getcwd(), 'qrcode.jpg')\n\ntip = 0\nuuid = ''\n\nbase_uri = ''\nredirect_uri = ''\npush_uri = ''\n\nskey = ''\nwxsid = ''\nwxuin = ''\npass_ticket = ''\ndeviceId = 'e000000000000000'\n\nBaseRequest = {}\n\nContactList = []\nMy = []\nSyncKey = []\n\ntry:\n    xrange\n    range = xrange\nexcept:\n    # python 3\n    pass\n\n\ndef responseState(func, BaseResponse):\n    ErrMsg = BaseResponse['ErrMsg']\n    Ret = BaseResponse['Ret']\n    if DEBUG or Ret != 0:\n        print('func: %s, Ret: %d, ErrMsg: %s' % (func, Ret, ErrMsg))\n\n    if Ret != 0:\n        return False\n\n    return True\n\n\ndef getRequest(url, data=None):\n    try:\n        data = data.encode('utf-8')\n    except:\n        pass\n    finally:\n        return wdf_urllib.Request(url=url, data=data)\n\n\ndef getUUID():\n    global uuid\n\n    url = 'https://login.weixin.qq.com/jslogin'\n    params = {\n        'appid': 'wx782c26e4c19acffb',\n        'fun': 'new',\n        'lang': 'zh_CN',\n        '_': int(time.time()),\n    }\n\n    request = getRequest(url=url, data=urlencode(params))\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.QRLogin.code = 200; window.QRLogin.uuid = \"oZwt_bFfRg==\";\n    regx = r'window.QRLogin.code = (\\d+); window.QRLogin.uuid = \"(\\S+?)\"'\n    pm = re.search(regx, data)\n\n    code = pm.group(1)\n    uuid = pm.group(2)\n\n    if code == '200':\n        return True\n\n    return False\n\n\ndef showQRImage():\n    global tip\n\n    url = 'https://login.weixin.qq.com/qrcode/' + uuid\n    params = {\n        't': 'webwx',\n        '_': int(time.time()),\n    }\n\n    request = getRequest(url=url, data=urlencode(params))\n    response = wdf_urllib.urlopen(request)\n\n    tip = 1\n\n    f = open(QRImagePath, 'wb')\n    f.write(response.read())\n    f.close()\n\n    if sys.platform.find('darwin') >= 0:\n        subprocess.call(['open', QRImagePath])\n    elif sys.platform.find('linux') >= 0:\n        subprocess.call(['xdg-open', QRImagePath])\n    else:\n        os.startfile(QRImagePath)\n\n    print('请使用微信扫描二维码以登录')\n\n\ndef waitForLogin():\n    global tip, base_uri, redirect_uri, push_uri\n\n    url = 'https://login.weixin.qq.com/cgi-bin/mmwebwx-bin/login?tip=%s&uuid=%s&_=%s' % (\n        tip, uuid, int(time.time()))\n\n    request = getRequest(url=url)\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.code=500;\n    regx = r'window.code=(\\d+);'\n    pm = re.search(regx, data)\n\n    code = pm.group(1)\n\n    if code == '201':  # 已扫描\n        print('成功扫描,请在手机上点击确认以登录')\n        tip = 0\n    elif code == '200':  # 已登录\n        print('正在登录...')\n        regx = r'window.redirect_uri=\"(\\S+?)\";'\n        pm = re.search(regx, data)\n        redirect_uri = pm.group(1) + '&fun=new'\n        base_uri = redirect_uri[:redirect_uri.rfind('/')]\n\n        # push_uri与base_uri对应关系(排名分先后)(就是这么奇葩..)\n        services = [\n            ('wx2.qq.com', 'webpush2.weixin.qq.com'),\n            ('qq.com', 'webpush.weixin.qq.com'),\n            ('web1.wechat.com', 'webpush1.wechat.com'),\n            ('web2.wechat.com', 'webpush2.wechat.com'),\n            ('wechat.com', 'webpush.wechat.com'),\n            ('web1.wechatapp.com', 'webpush1.wechatapp.com'),\n        ]\n        push_uri = base_uri\n        for (searchUrl, pushUrl) in services:\n            if base_uri.find(searchUrl) >= 0:\n                push_uri = 'https://%s/cgi-bin/mmwebwx-bin' % pushUrl\n                break\n\n        # closeQRImage\n        if sys.platform.find('darwin') >= 0:  # for OSX with Preview\n            os.system(\"osascript -e 'quit app \\\"Preview\\\"'\")\n    elif code == '408':  # 超时\n        pass\n    # elif code == '400' or code == '500':\n\n    return code\n\n\ndef login():\n    global skey, wxsid, wxuin, pass_ticket, BaseRequest\n\n    request = getRequest(url=redirect_uri)\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    doc = xml.dom.minidom.parseString(data)\n    root = doc.documentElement\n\n    for node in root.childNodes:\n        if node.nodeName == 'skey':\n            skey = node.childNodes[0].data\n        elif node.nodeName == 'wxsid':\n            wxsid = node.childNodes[0].data\n        elif node.nodeName == 'wxuin':\n            wxuin = node.childNodes[0].data\n        elif node.nodeName == 'pass_ticket':\n            pass_ticket = node.childNodes[0].data\n\n    # print('skey: %s, wxsid: %s, wxuin: %s, pass_ticket: %s' % (skey, wxsid,\n    # wxuin, pass_ticket))\n\n    if not all((skey, wxsid, wxuin, pass_ticket)):\n        return False\n\n    BaseRequest = {\n        'Uin': int(wxuin),\n        'Sid': wxsid,\n        'Skey': skey,\n        'DeviceID': deviceId,\n    }\n\n    return True\n\n\ndef webwxinit():\n\n    url = base_uri + \\\n        '/webwxinit?pass_ticket=%s&skey=%s&r=%s' % (\n            pass_ticket, skey, int(time.time()))\n    params = {\n        'BaseRequest': BaseRequest\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read()\n\n    if DEBUG:\n        f = open(os.path.join(os.getcwd(), 'webwxinit.json'), 'wb')\n        f.write(data)\n        f.close()\n\n    data = data.decode('utf-8', 'replace')\n\n    # print(data)\n\n    global ContactList, My, SyncKey\n    dic = json.loads(data)\n    ContactList = dic['ContactList']\n    My = dic['User']\n    SyncKey = dic['SyncKey']\n\n    state = responseState('webwxinit', dic['BaseResponse'])\n    return state\n\n\ndef webwxgetcontact():\n\n    url = base_uri + \\\n        '/webwxgetcontact?pass_ticket=%s&skey=%s&r=%s' % (\n            pass_ticket, skey, int(time.time()))\n\n    request = getRequest(url=url)\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read()\n\n    if DEBUG:\n        f = open(os.path.join(os.getcwd(), 'webwxgetcontact.json'), 'wb')\n        f.write(data)\n        f.close()\n\n    # print(data)\n    data = data.decode('utf-8', 'replace')\n\n    dic = json.loads(data)\n    MemberList = dic['MemberList']\n\n    # 倒序遍历,不然删除的时候出问题..\n    SpecialUsers = [\"newsapp\", \"fmessage\", \"filehelper\", \"weibo\", \"qqmail\", \"tmessage\", \"qmessage\", \"qqsync\", \"floatbottle\", \"lbsapp\", \"shakeapp\", \"medianote\", \"qqfriend\", \"readerapp\", \"blogapp\", \"facebookapp\", \"masssendapp\",\n                    \"meishiapp\", \"feedsapp\", \"voip\", \"blogappweixin\", \"weixin\", \"brandsessionholder\", \"weixinreminder\", \"wxid_novlwrv3lqwv11\", \"gh_22b87fa7cb3c\", \"officialaccounts\", \"notification_messages\", \"wxitil\", \"userexperience_alarm\"]\n    for i in range(len(MemberList) - 1, -1, -1):\n        Member = MemberList[i]\n        if Member['VerifyFlag'] & 8 != 0:  # 公众号/服务号\n            MemberList.remove(Member)\n        elif Member['UserName'] in SpecialUsers:  # 特殊账号\n            MemberList.remove(Member)\n        elif Member['UserName'].find('@@') != -1:  # 群聊\n            MemberList.remove(Member)\n        elif Member['UserName'] == My['UserName']:  # 自己\n            MemberList.remove(Member)\n\n    return MemberList\n\n\ndef createChatroom(UserNames):\n    MemberList = [{'UserName': UserName} for UserName in UserNames]\n\n    url = base_uri + \\\n        '/webwxcreatechatroom?pass_ticket=%s&r=%s' % (\n            pass_ticket, int(time.time()))\n    params = {\n        'BaseRequest': BaseRequest,\n        'MemberCount': len(MemberList),\n        'MemberList': MemberList,\n        'Topic': '',\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    ChatRoomName = dic['ChatRoomName']\n    MemberList = dic['MemberList']\n    DeletedList = []\n    BlockedList = []\n    for Member in MemberList:\n        if Member['MemberStatus'] == 4:  # 被对方删除了\n            DeletedList.append(Member['UserName'])\n        elif Member['MemberStatus'] == 3:  # 被加入黑名单\n            BlockedList.append(Member['UserName'])\n\n    state = responseState('createChatroom', dic['BaseResponse'])\n\n    return ChatRoomName, DeletedList, BlockedList\n\n\ndef deleteMember(ChatRoomName, UserNames):\n    url = base_uri + \\\n        '/webwxupdatechatroom?fun=delmember&pass_ticket=%s' % (pass_ticket)\n    params = {\n        'BaseRequest': BaseRequest,\n        'ChatRoomName': ChatRoomName,\n        'DelMemberList': ','.join(UserNames),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n\n    state = responseState('deleteMember', dic['BaseResponse'])\n    return state\n\n\ndef addMember(ChatRoomName, UserNames):\n    url = base_uri + \\\n        '/webwxupdatechatroom?fun=addmember&pass_ticket=%s' % (pass_ticket)\n    params = {\n        'BaseRequest': BaseRequest,\n        'ChatRoomName': ChatRoomName,\n        'AddMemberList': ','.join(UserNames),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    MemberList = dic['MemberList']\n    DeletedList = []\n    BlockedList = []\n    for Member in MemberList:\n        if Member['MemberStatus'] == 4:  # 被对方删除了\n            DeletedList.append(Member['UserName'])\n        elif Member['MemberStatus'] == 3:  # 被加入黑名单\n            BlockedList.append(Member['UserName'])\n\n    state = responseState('addMember', dic['BaseResponse'])\n\n    return DeletedList, BlockedList\n\n\ndef syncKey():\n    SyncKeyItems = ['%s_%s' % (item['Key'], item['Val'])\n                    for item in SyncKey['List']]\n    SyncKeyStr = '|'.join(SyncKeyItems)\n    return SyncKeyStr\n\n\ndef syncCheck():\n    url = push_uri + '/synccheck?'\n    params = {\n        'skey': BaseRequest['Skey'],\n        'sid': BaseRequest['Sid'],\n        'uin': BaseRequest['Uin'],\n        'deviceId': BaseRequest['DeviceID'],\n        'synckey': syncKey(),\n        'r': int(time.time()),\n    }\n\n    request = getRequest(url=url + urlencode(params))\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    # window.synccheck={retcode:\"0\",selector:\"2\"}\n    regx = r'window.synccheck={retcode:\"(\\d+)\",selector:\"(\\d+)\"}'\n    pm = re.search(regx, data)\n\n    retcode = pm.group(1)\n    selector = pm.group(2)\n\n    return selector\n\n\ndef webwxsync():\n    global SyncKey\n\n    url = base_uri + '/webwxsync?lang=zh_CN&skey=%s&sid=%s&pass_ticket=%s' % (\n        BaseRequest['Skey'], BaseRequest['Sid'], quote_plus(pass_ticket))\n    params = {\n        'BaseRequest': BaseRequest,\n        'SyncKey': SyncKey,\n        'rr': ~int(time.time()),\n    }\n\n    request = getRequest(url=url, data=json.dumps(params))\n    request.add_header('ContentType', 'application/json; charset=UTF-8')\n    response = wdf_urllib.urlopen(request)\n    data = response.read().decode('utf-8', 'replace')\n\n    # print(data)\n\n    dic = json.loads(data)\n    SyncKey = dic['SyncKey']\n\n    state = responseState('webwxsync', dic['BaseResponse'])\n    return state\n\n\ndef heartBeatLoop():\n    while True:\n        selector = syncCheck()\n        if selector != '0':\n            webwxsync()\n        time.sleep(1)\n\n\ndef main():\n\n    try:\n        ssl._create_default_https_context = ssl._create_unverified_context\n\n        opener = wdf_urllib.build_opener(\n            wdf_urllib.HTTPCookieProcessor(CookieJar()))\n        opener.addheaders = [\n            ('User-agent', 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36')]\n        wdf_urllib.install_opener(opener)\n    except:\n        pass\n\n    if not getUUID():\n        print('获取uuid失败')\n        return\n\n    print('正在获取二维码图片...')\n    showQRImage()\n    time.sleep(1)\n\n    while waitForLogin() != '200':\n        pass\n\n    os.remove(QRImagePath)\n\n    if not login():\n        print('登录失败')\n        return\n\n    if not webwxinit():\n        print('初始化失败')\n        return\n\n    MemberList = webwxgetcontact()\n\n    print('开启心跳线程')\n    thread.start_new_thread(heartBeatLoop, ())\n\n    MemberCount = len(MemberList)\n    print('通讯录共%s位好友' % MemberCount)\n\n    ChatRoomName = ''\n    result = []\n    d = {}\n    for Member in MemberList:\n        d[Member['UserName']] = (Member['NickName'].encode(\n            'utf-8'), Member['RemarkName'].encode('utf-8'))\n    print('开始查找...')\n    group_num = int(math.ceil(MemberCount / float(MAX_GROUP_NUM)))\n    for i in range(0, group_num):\n        UserNames = []\n        for j in range(0, MAX_GROUP_NUM):\n            if i * MAX_GROUP_NUM + j >= MemberCount:\n                break\n            Member = MemberList[i * MAX_GROUP_NUM + j]\n            UserNames.append(Member['UserName'])\n\n        # 新建群组/添加成员\n        if ChatRoomName == '':\n            (ChatRoomName, DeletedList, BlockedList) = createChatroom(\n                UserNames)\n        else:\n            (DeletedList, BlockedList) = addMember(ChatRoomName, UserNames)\n\n        # todo BlockedList 被拉黑列表\n\n        DeletedCount = len(DeletedList)\n        if DeletedCount > 0:\n            result += DeletedList\n\n        # 删除成员\n        deleteMember(ChatRoomName, UserNames)\n\n        # 进度条\n        progress = MAX_PROGRESS_LEN * (i + 1) / group_num\n        print('[', '#' * progress, '-' * (MAX_PROGRESS_LEN - progress), ']', end=' ')\n        print('新发现你被%d人删除' % DeletedCount)\n        for i in range(DeletedCount):\n            if d[DeletedList[i]][1] != '':\n                print(d[DeletedList[i]][0] + '(%s)' % d[DeletedList[i]][1])\n            else:\n                print(d[DeletedList[i]][0])\n\n        if i != group_num - 1:\n            print('正在继续查找,请耐心等待...')\n            # 下一次进行接口调用需要等待的时间\n            time.sleep(INTERFACE_CALLING_INTERVAL)\n    # todo 删除群组\n\n    print('\\n结果汇总完毕,20s后可重试...')\n    resultNames = []\n    for r in result:\n        if d[r][1] != '':\n            resultNames.append(d[r][0] + '(%s)' % d[r][1])\n        else:\n            resultNames.append(d[r][0])\n\n    print('---------- 被删除的好友列表(共%d人) ----------' % len(result))\n    # 过滤emoji\n    resultNames = map(lambda x: re.sub(r'<span.+/span>', '', x), resultNames)\n    if len(resultNames):\n        print('\\n'.join(resultNames))\n    else:\n        print(\"无\")\n    print('---------------------------------------------')\n\n\n# windows下编码问题修复\n# http://blog.csdn.net/heyuxuanzee/article/details/8442718\n\n\nclass UnicodeStreamFilter:\n\n    def __init__(self, target):\n        self.target = target\n        self.encoding = 'utf-8'\n        self.errors = 'replace'\n        self.encode_to = self.target.encoding\n\n    def write(self, s):\n        if type(s) == str:\n            s = s.decode('utf-8')\n        s = s.encode(self.encode_to, self.errors).decode(self.encode_to)\n        self.target.write(s)\n\nif sys.stdout.encoding == 'cp936':\n    sys.stdout = UnicodeStreamFilter(sys.stdout)\n\nif __name__ == '__main__':\n\n    print('本程序的查询结果可能会引起一些心理上的不适,请小心使用...')\n    main()\n    print('回车键退出...')\n```\n\n按照指示做即可。","slug":"查看被删的微信好友","published":1,"updated":"2016-04-01T06:37:52.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h5z000hpzv2em1c87jo","content":"<h2 id=\"查看被删的微信好友\"><a href=\"#查看被删的微信好友\" class=\"headerlink\" title=\"查看被删的微信好友\"></a>查看被删的微信好友</h2><a id=\"more\"></a>\n<p><a href=\"https://github.com/0x5e/wechat-deleted-friends\" target=\"_blank\" rel=\"external\">来自这里</a></p>\n<blockquote>\n<p>原理：</p>\n</blockquote>\n<p>查看被删的微信好友<br>原理就是新建群组,如果加不进来就是被删好友了(不要在群组里讲话,别人是看不见的)<br>用的是微信网页版的接口<br>查询结果可能会引起一些心理上的不适,请小心使用.<br>Mac OS用法: 启动Terminal</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"keyword\">python</span> wechat.<span class=\"keyword\">py</span></span><br></pre></td></tr></table></figure>\n<p>下面是wechat.py的代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\"># coding=utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> __future__ <span class=\"keyword\">import</span> print_function</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">from</span> urllib <span class=\"keyword\">import</span> urlencode, quote_plus</span><br><span class=\"line\"><span class=\"keyword\">except</span> ImportError:</span><br><span class=\"line\">    <span class=\"keyword\">from</span> urllib.parse <span class=\"keyword\">import</span> urlencode, quote_plus</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">import</span> urllib2 <span class=\"keyword\">as</span> wdf_urllib</span><br><span class=\"line\">    <span class=\"keyword\">from</span> cookielib <span class=\"keyword\">import</span> CookieJar</span><br><span class=\"line\"><span class=\"keyword\">except</span> ImportError:</span><br><span class=\"line\">    <span class=\"keyword\">import</span> urllib.request <span class=\"keyword\">as</span> wdf_urllib</span><br><span class=\"line\">    <span class=\"keyword\">from</span> http.cookiejar <span class=\"keyword\">import</span> CookieJar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> xml.dom.minidom</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> math</span><br><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"><span class=\"keyword\">import</span> ssl</span><br><span class=\"line\"><span class=\"keyword\">import</span> thread</span><br><span class=\"line\"></span><br><span class=\"line\">DEBUG = <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">MAX_GROUP_NUM = <span class=\"number\">35</span>  <span class=\"comment\"># 每组人数</span></span><br><span class=\"line\">INTERFACE_CALLING_INTERVAL = <span class=\"number\">20</span>  <span class=\"comment\"># 接口调用时间间隔, 间隔太短容易出现\"操作太频繁\", 会被限制操作半小时左右</span></span><br><span class=\"line\">MAX_PROGRESS_LEN = <span class=\"number\">50</span></span><br><span class=\"line\"></span><br><span class=\"line\">QRImagePath = os.path.join(os.getcwd(), <span class=\"string\">'qrcode.jpg'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">tip = <span class=\"number\">0</span></span><br><span class=\"line\">uuid = <span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">base_uri = <span class=\"string\">''</span></span><br><span class=\"line\">redirect_uri = <span class=\"string\">''</span></span><br><span class=\"line\">push_uri = <span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">skey = <span class=\"string\">''</span></span><br><span class=\"line\">wxsid = <span class=\"string\">''</span></span><br><span class=\"line\">wxuin = <span class=\"string\">''</span></span><br><span class=\"line\">pass_ticket = <span class=\"string\">''</span></span><br><span class=\"line\">deviceId = <span class=\"string\">'e000000000000000'</span></span><br><span class=\"line\"></span><br><span class=\"line\">BaseRequest = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ContactList = []</span><br><span class=\"line\">My = []</span><br><span class=\"line\">SyncKey = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    xrange</span><br><span class=\"line\">    range = xrange</span><br><span class=\"line\"><span class=\"keyword\">except</span>:</span><br><span class=\"line\">    <span class=\"comment\"># python 3</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">responseState</span><span class=\"params\">(func, BaseResponse)</span>:</span></span><br><span class=\"line\">    ErrMsg = BaseResponse[<span class=\"string\">'ErrMsg'</span>]</span><br><span class=\"line\">    Ret = BaseResponse[<span class=\"string\">'Ret'</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG <span class=\"keyword\">or</span> Ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">        print(<span class=\"string\">'func: %s, Ret: %d, ErrMsg: %s'</span> % (func, Ret, ErrMsg))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> Ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getRequest</span><span class=\"params\">(url, data=None)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        data = data.encode(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"keyword\">finally</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wdf_urllib.Request(url=url, data=data)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getUUID</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> uuid</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/jslogin'</span></span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'appid'</span>: <span class=\"string\">'wx782c26e4c19acffb'</span>,</span><br><span class=\"line\">        <span class=\"string\">'fun'</span>: <span class=\"string\">'new'</span>,</span><br><span class=\"line\">        <span class=\"string\">'lang'</span>: <span class=\"string\">'zh_CN'</span>,</span><br><span class=\"line\">        <span class=\"string\">'_'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.QRLogin.code = 200; window.QRLogin.uuid = \"oZwt_bFfRg==\";</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.QRLogin.code = (\\d+); window.QRLogin.uuid = \"(\\S+?)\"'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    code = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\">    uuid = pm.group(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> code == <span class=\"string\">'200'</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showQRImage</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> tip</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/qrcode/'</span> + uuid</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'t'</span>: <span class=\"string\">'webwx'</span>,</span><br><span class=\"line\">        <span class=\"string\">'_'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\"></span><br><span class=\"line\">    tip = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    f = open(QRImagePath, <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">    f.write(response.read())</span><br><span class=\"line\">    f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> sys.platform.find(<span class=\"string\">'darwin'</span>) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        subprocess.call([<span class=\"string\">'open'</span>, QRImagePath])</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> sys.platform.find(<span class=\"string\">'linux'</span>) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        subprocess.call([<span class=\"string\">'xdg-open'</span>, QRImagePath])</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        os.startfile(QRImagePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'请使用微信扫描二维码以登录'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">waitForLogin</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> tip, base_uri, redirect_uri, push_uri</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/cgi-bin/mmwebwx-bin/login?tip=%s&amp;uuid=%s&amp;_=%s'</span> % (</span><br><span class=\"line\">        tip, uuid, int(time.time()))</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.code=500;</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.code=(\\d+);'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    code = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> code == <span class=\"string\">'201'</span>:  <span class=\"comment\"># 已扫描</span></span><br><span class=\"line\">        print(<span class=\"string\">'成功扫描,请在手机上点击确认以登录'</span>)</span><br><span class=\"line\">        tip = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> code == <span class=\"string\">'200'</span>:  <span class=\"comment\"># 已登录</span></span><br><span class=\"line\">        print(<span class=\"string\">'正在登录...'</span>)</span><br><span class=\"line\">        regx = <span class=\"string\">r'window.redirect_uri=\"(\\S+?)\";'</span></span><br><span class=\"line\">        pm = re.search(regx, data)</span><br><span class=\"line\">        redirect_uri = pm.group(<span class=\"number\">1</span>) + <span class=\"string\">'&amp;fun=new'</span></span><br><span class=\"line\">        base_uri = redirect_uri[:redirect_uri.rfind(<span class=\"string\">'/'</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># push_uri与base_uri对应关系(排名分先后)(就是这么奇葩..)</span></span><br><span class=\"line\">        services = [</span><br><span class=\"line\">            (<span class=\"string\">'wx2.qq.com'</span>, <span class=\"string\">'webpush2.weixin.qq.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'qq.com'</span>, <span class=\"string\">'webpush.weixin.qq.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web1.wechat.com'</span>, <span class=\"string\">'webpush1.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web2.wechat.com'</span>, <span class=\"string\">'webpush2.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'wechat.com'</span>, <span class=\"string\">'webpush.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web1.wechatapp.com'</span>, <span class=\"string\">'webpush1.wechatapp.com'</span>),</span><br><span class=\"line\">        ]</span><br><span class=\"line\">        push_uri = base_uri</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (searchUrl, pushUrl) <span class=\"keyword\">in</span> services:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> base_uri.find(searchUrl) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                push_uri = <span class=\"string\">'https://%s/cgi-bin/mmwebwx-bin'</span> % pushUrl</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># closeQRImage</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sys.platform.find(<span class=\"string\">'darwin'</span>) &gt;= <span class=\"number\">0</span>:  <span class=\"comment\"># for OSX with Preview</span></span><br><span class=\"line\">            os.system(<span class=\"string\">\"osascript -e 'quit app \\\"Preview\\\"'\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> code == <span class=\"string\">'408'</span>:  <span class=\"comment\"># 超时</span></span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"comment\"># elif code == '400' or code == '500':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> code</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">login</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> skey, wxsid, wxuin, pass_ticket, BaseRequest</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=redirect_uri)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    doc = xml.dom.minidom.parseString(data)</span><br><span class=\"line\">    root = doc.documentElement</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> root.childNodes:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.nodeName == <span class=\"string\">'skey'</span>:</span><br><span class=\"line\">            skey = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'wxsid'</span>:</span><br><span class=\"line\">            wxsid = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'wxuin'</span>:</span><br><span class=\"line\">            wxuin = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'pass_ticket'</span>:</span><br><span class=\"line\">            pass_ticket = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print('skey: %s, wxsid: %s, wxuin: %s, pass_ticket: %s' % (skey, wxsid,</span></span><br><span class=\"line\">    <span class=\"comment\"># wxuin, pass_ticket))</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> all((skey, wxsid, wxuin, pass_ticket)):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    BaseRequest = &#123;</span><br><span class=\"line\">        <span class=\"string\">'Uin'</span>: int(wxuin),</span><br><span class=\"line\">        <span class=\"string\">'Sid'</span>: wxsid,</span><br><span class=\"line\">        <span class=\"string\">'Skey'</span>: skey,</span><br><span class=\"line\">        <span class=\"string\">'DeviceID'</span>: deviceId,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxinit</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxinit?pass_ticket=%s&amp;skey=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, skey, int(time.time()))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG:</span><br><span class=\"line\">        f = open(os.path.join(os.getcwd(), <span class=\"string\">'webwxinit.json'</span>), <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">        f.write(data)</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    data = data.decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">global</span> ContactList, My, SyncKey</span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    ContactList = dic[<span class=\"string\">'ContactList'</span>]</span><br><span class=\"line\">    My = dic[<span class=\"string\">'User'</span>]</span><br><span class=\"line\">    SyncKey = dic[<span class=\"string\">'SyncKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'webwxinit'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxgetcontact</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxgetcontact?pass_ticket=%s&amp;skey=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, skey, int(time.time()))</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url)</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG:</span><br><span class=\"line\">        f = open(os.path.join(os.getcwd(), <span class=\"string\">'webwxgetcontact.json'</span>), <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">        f.write(data)</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\">    data = data.decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 倒序遍历,不然删除的时候出问题..</span></span><br><span class=\"line\">    SpecialUsers = [<span class=\"string\">\"newsapp\"</span>, <span class=\"string\">\"fmessage\"</span>, <span class=\"string\">\"filehelper\"</span>, <span class=\"string\">\"weibo\"</span>, <span class=\"string\">\"qqmail\"</span>, <span class=\"string\">\"tmessage\"</span>, <span class=\"string\">\"qmessage\"</span>, <span class=\"string\">\"qqsync\"</span>, <span class=\"string\">\"floatbottle\"</span>, <span class=\"string\">\"lbsapp\"</span>, <span class=\"string\">\"shakeapp\"</span>, <span class=\"string\">\"medianote\"</span>, <span class=\"string\">\"qqfriend\"</span>, <span class=\"string\">\"readerapp\"</span>, <span class=\"string\">\"blogapp\"</span>, <span class=\"string\">\"facebookapp\"</span>, <span class=\"string\">\"masssendapp\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"meishiapp\"</span>, <span class=\"string\">\"feedsapp\"</span>, <span class=\"string\">\"voip\"</span>, <span class=\"string\">\"blogappweixin\"</span>, <span class=\"string\">\"weixin\"</span>, <span class=\"string\">\"brandsessionholder\"</span>, <span class=\"string\">\"weixinreminder\"</span>, <span class=\"string\">\"wxid_novlwrv3lqwv11\"</span>, <span class=\"string\">\"gh_22b87fa7cb3c\"</span>, <span class=\"string\">\"officialaccounts\"</span>, <span class=\"string\">\"notification_messages\"</span>, <span class=\"string\">\"wxitil\"</span>, <span class=\"string\">\"userexperience_alarm\"</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(MemberList) - <span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        Member = MemberList[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'VerifyFlag'</span>] &amp; <span class=\"number\">8</span> != <span class=\"number\">0</span>:  <span class=\"comment\"># 公众号/服务号</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>] <span class=\"keyword\">in</span> SpecialUsers:  <span class=\"comment\"># 特殊账号</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>].find(<span class=\"string\">'@@'</span>) != <span class=\"number\">-1</span>:  <span class=\"comment\"># 群聊</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>] == My[<span class=\"string\">'UserName'</span>]:  <span class=\"comment\"># 自己</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> MemberList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">createChatroom</span><span class=\"params\">(UserNames)</span>:</span></span><br><span class=\"line\">    MemberList = [&#123;<span class=\"string\">'UserName'</span>: UserName&#125; <span class=\"keyword\">for</span> UserName <span class=\"keyword\">in</span> UserNames]</span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxcreatechatroom?pass_ticket=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, int(time.time()))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'MemberCount'</span>: len(MemberList),</span><br><span class=\"line\">        <span class=\"string\">'MemberList'</span>: MemberList,</span><br><span class=\"line\">        <span class=\"string\">'Topic'</span>: <span class=\"string\">''</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    ChatRoomName = dic[<span class=\"string\">'ChatRoomName'</span>]</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\">    DeletedList = []</span><br><span class=\"line\">    BlockedList = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">4</span>:  <span class=\"comment\"># 被对方删除了</span></span><br><span class=\"line\">            DeletedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">3</span>:  <span class=\"comment\"># 被加入黑名单</span></span><br><span class=\"line\">            BlockedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'createChatroom'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ChatRoomName, DeletedList, BlockedList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteMember</span><span class=\"params\">(ChatRoomName, UserNames)</span>:</span></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxupdatechatroom?fun=delmember&amp;pass_ticket=%s'</span> % (pass_ticket)</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'ChatRoomName'</span>: ChatRoomName,</span><br><span class=\"line\">        <span class=\"string\">'DelMemberList'</span>: <span class=\"string\">','</span>.join(UserNames),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'deleteMember'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addMember</span><span class=\"params\">(ChatRoomName, UserNames)</span>:</span></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxupdatechatroom?fun=addmember&amp;pass_ticket=%s'</span> % (pass_ticket)</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'ChatRoomName'</span>: ChatRoomName,</span><br><span class=\"line\">        <span class=\"string\">'AddMemberList'</span>: <span class=\"string\">','</span>.join(UserNames),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\">    DeletedList = []</span><br><span class=\"line\">    BlockedList = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">4</span>:  <span class=\"comment\"># 被对方删除了</span></span><br><span class=\"line\">            DeletedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">3</span>:  <span class=\"comment\"># 被加入黑名单</span></span><br><span class=\"line\">            BlockedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'addMember'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> DeletedList, BlockedList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">syncKey</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    SyncKeyItems = [<span class=\"string\">'%s_%s'</span> % (item[<span class=\"string\">'Key'</span>], item[<span class=\"string\">'Val'</span>])</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> SyncKey[<span class=\"string\">'List'</span>]]</span><br><span class=\"line\">    SyncKeyStr = <span class=\"string\">'|'</span>.join(SyncKeyItems)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> SyncKeyStr</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">syncCheck</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    url = push_uri + <span class=\"string\">'/synccheck?'</span></span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'skey'</span>: BaseRequest[<span class=\"string\">'Skey'</span>],</span><br><span class=\"line\">        <span class=\"string\">'sid'</span>: BaseRequest[<span class=\"string\">'Sid'</span>],</span><br><span class=\"line\">        <span class=\"string\">'uin'</span>: BaseRequest[<span class=\"string\">'Uin'</span>],</span><br><span class=\"line\">        <span class=\"string\">'deviceId'</span>: BaseRequest[<span class=\"string\">'DeviceID'</span>],</span><br><span class=\"line\">        <span class=\"string\">'synckey'</span>: syncKey(),</span><br><span class=\"line\">        <span class=\"string\">'r'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url + urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.synccheck=&#123;retcode:\"0\",selector:\"2\"&#125;</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.synccheck=&#123;retcode:\"(\\d+)\",selector:\"(\\d+)\"&#125;'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    retcode = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\">    selector = pm.group(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> selector</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxsync</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> SyncKey</span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + <span class=\"string\">'/webwxsync?lang=zh_CN&amp;skey=%s&amp;sid=%s&amp;pass_ticket=%s'</span> % (</span><br><span class=\"line\">        BaseRequest[<span class=\"string\">'Skey'</span>], BaseRequest[<span class=\"string\">'Sid'</span>], quote_plus(pass_ticket))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'SyncKey'</span>: SyncKey,</span><br><span class=\"line\">        <span class=\"string\">'rr'</span>: ~int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    SyncKey = dic[<span class=\"string\">'SyncKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'webwxsync'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">heartBeatLoop</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"keyword\">True</span>:</span><br><span class=\"line\">        selector = syncCheck()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> selector != <span class=\"string\">'0'</span>:</span><br><span class=\"line\">            webwxsync()</span><br><span class=\"line\">        time.sleep(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">main</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class=\"line\"></span><br><span class=\"line\">        opener = wdf_urllib.build_opener(</span><br><span class=\"line\">            wdf_urllib.HTTPCookieProcessor(CookieJar()))</span><br><span class=\"line\">        opener.addheaders = [</span><br><span class=\"line\">            (<span class=\"string\">'User-agent'</span>, <span class=\"string\">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36'</span>)]</span><br><span class=\"line\">        wdf_urllib.install_opener(opener)</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> getUUID():</span><br><span class=\"line\">        print(<span class=\"string\">'获取uuid失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'正在获取二维码图片...'</span>)</span><br><span class=\"line\">    showQRImage()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> waitForLogin() != <span class=\"string\">'200'</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    os.remove(QRImagePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> login():</span><br><span class=\"line\">        print(<span class=\"string\">'登录失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> webwxinit():</span><br><span class=\"line\">        print(<span class=\"string\">'初始化失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    MemberList = webwxgetcontact()</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'开启心跳线程'</span>)</span><br><span class=\"line\">    thread.start_new_thread(heartBeatLoop, ())</span><br><span class=\"line\"></span><br><span class=\"line\">    MemberCount = len(MemberList)</span><br><span class=\"line\">    print(<span class=\"string\">'通讯录共%s位好友'</span> % MemberCount)</span><br><span class=\"line\"></span><br><span class=\"line\">    ChatRoomName = <span class=\"string\">''</span></span><br><span class=\"line\">    result = []</span><br><span class=\"line\">    d = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        d[Member[<span class=\"string\">'UserName'</span>]] = (Member[<span class=\"string\">'NickName'</span>].encode(</span><br><span class=\"line\">            <span class=\"string\">'utf-8'</span>), Member[<span class=\"string\">'RemarkName'</span>].encode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">    print(<span class=\"string\">'开始查找...'</span>)</span><br><span class=\"line\">    group_num = int(math.ceil(MemberCount / float(MAX_GROUP_NUM)))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, group_num):</span><br><span class=\"line\">        UserNames = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, MAX_GROUP_NUM):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i * MAX_GROUP_NUM + j &gt;= MemberCount:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            Member = MemberList[i * MAX_GROUP_NUM + j]</span><br><span class=\"line\">            UserNames.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 新建群组/添加成员</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ChatRoomName == <span class=\"string\">''</span>:</span><br><span class=\"line\">            (ChatRoomName, DeletedList, BlockedList) = createChatroom(</span><br><span class=\"line\">                UserNames)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            (DeletedList, BlockedList) = addMember(ChatRoomName, UserNames)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># todo BlockedList 被拉黑列表</span></span><br><span class=\"line\"></span><br><span class=\"line\">        DeletedCount = len(DeletedList)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> DeletedCount &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            result += DeletedList</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 删除成员</span></span><br><span class=\"line\">        deleteMember(ChatRoomName, UserNames)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 进度条</span></span><br><span class=\"line\">        progress = MAX_PROGRESS_LEN * (i + <span class=\"number\">1</span>) / group_num</span><br><span class=\"line\">        print(<span class=\"string\">'['</span>, <span class=\"string\">'#'</span> * progress, <span class=\"string\">'-'</span> * (MAX_PROGRESS_LEN - progress), <span class=\"string\">']'</span>, end=<span class=\"string\">' '</span>)</span><br><span class=\"line\">        print(<span class=\"string\">'新发现你被%d人删除'</span> % DeletedCount)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(DeletedCount):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> d[DeletedList[i]][<span class=\"number\">1</span>] != <span class=\"string\">''</span>:</span><br><span class=\"line\">                print(d[DeletedList[i]][<span class=\"number\">0</span>] + <span class=\"string\">'(%s)'</span> % d[DeletedList[i]][<span class=\"number\">1</span>])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                print(d[DeletedList[i]][<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i != group_num - <span class=\"number\">1</span>:</span><br><span class=\"line\">            print(<span class=\"string\">'正在继续查找,请耐心等待...'</span>)</span><br><span class=\"line\">            <span class=\"comment\"># 下一次进行接口调用需要等待的时间</span></span><br><span class=\"line\">            time.sleep(INTERFACE_CALLING_INTERVAL)</span><br><span class=\"line\">    <span class=\"comment\"># todo 删除群组</span></span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'\\n结果汇总完毕,20s后可重试...'</span>)</span><br><span class=\"line\">    resultNames = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> result:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d[r][<span class=\"number\">1</span>] != <span class=\"string\">''</span>:</span><br><span class=\"line\">            resultNames.append(d[r][<span class=\"number\">0</span>] + <span class=\"string\">'(%s)'</span> % d[r][<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            resultNames.append(d[r][<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'---------- 被删除的好友列表(共%d人) ----------'</span> % len(result))</span><br><span class=\"line\">    <span class=\"comment\"># 过滤emoji</span></span><br><span class=\"line\">    resultNames = map(<span class=\"keyword\">lambda</span> x: re.sub(<span class=\"string\">r'&lt;span.+/span&gt;'</span>, <span class=\"string\">''</span>, x), resultNames)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(resultNames):</span><br><span class=\"line\">        print(<span class=\"string\">'\\n'</span>.join(resultNames))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">\"无\"</span>)</span><br><span class=\"line\">    print(<span class=\"string\">'---------------------------------------------'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows下编码问题修复</span></span><br><span class=\"line\"><span class=\"comment\"># http://blog.csdn.net/heyuxuanzee/article/details/8442718</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UnicodeStreamFilter</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, target)</span>:</span></span><br><span class=\"line\">        self.target = target</span><br><span class=\"line\">        self.encoding = <span class=\"string\">'utf-8'</span></span><br><span class=\"line\">        self.errors = <span class=\"string\">'replace'</span></span><br><span class=\"line\">        self.encode_to = self.target.encoding</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">write</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> type(s) == str:</span><br><span class=\"line\">            s = s.decode(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">        s = s.encode(self.encode_to, self.errors).decode(self.encode_to)</span><br><span class=\"line\">        self.target.write(s)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> sys.stdout.encoding == <span class=\"string\">'cp936'</span>:</span><br><span class=\"line\">    sys.stdout = UnicodeStreamFilter(sys.stdout)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'本程序的查询结果可能会引起一些心理上的不适,请小心使用...'</span>)</span><br><span class=\"line\">    main()</span><br><span class=\"line\">    print(<span class=\"string\">'回车键退出...'</span>)</span><br></pre></td></tr></table></figure>\n<p>按照指示做即可。</p>\n","excerpt":"<h2 id=\"查看被删的微信好友\"><a href=\"#查看被删的微信好友\" class=\"headerlink\" title=\"查看被删的微信好友\"></a>查看被删的微信好友</h2>","more":"<p><a href=\"https://github.com/0x5e/wechat-deleted-friends\">来自这里</a></p>\n<blockquote>\n<p>原理：</p>\n</blockquote>\n<p>查看被删的微信好友<br>原理就是新建群组,如果加不进来就是被删好友了(不要在群组里讲话,别人是看不见的)<br>用的是微信网页版的接口<br>查询结果可能会引起一些心理上的不适,请小心使用.<br>Mac OS用法: 启动Terminal</p>\n<figure class=\"highlight vim\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$ <span class=\"keyword\">python</span> wechat.<span class=\"keyword\">py</span></span><br></pre></td></tr></table></figure>\n<p>下面是wechat.py的代码</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br><span class=\"line\">70</span><br><span class=\"line\">71</span><br><span class=\"line\">72</span><br><span class=\"line\">73</span><br><span class=\"line\">74</span><br><span class=\"line\">75</span><br><span class=\"line\">76</span><br><span class=\"line\">77</span><br><span class=\"line\">78</span><br><span class=\"line\">79</span><br><span class=\"line\">80</span><br><span class=\"line\">81</span><br><span class=\"line\">82</span><br><span class=\"line\">83</span><br><span class=\"line\">84</span><br><span class=\"line\">85</span><br><span class=\"line\">86</span><br><span class=\"line\">87</span><br><span class=\"line\">88</span><br><span class=\"line\">89</span><br><span class=\"line\">90</span><br><span class=\"line\">91</span><br><span class=\"line\">92</span><br><span class=\"line\">93</span><br><span class=\"line\">94</span><br><span class=\"line\">95</span><br><span class=\"line\">96</span><br><span class=\"line\">97</span><br><span class=\"line\">98</span><br><span class=\"line\">99</span><br><span class=\"line\">100</span><br><span class=\"line\">101</span><br><span class=\"line\">102</span><br><span class=\"line\">103</span><br><span class=\"line\">104</span><br><span class=\"line\">105</span><br><span class=\"line\">106</span><br><span class=\"line\">107</span><br><span class=\"line\">108</span><br><span class=\"line\">109</span><br><span class=\"line\">110</span><br><span class=\"line\">111</span><br><span class=\"line\">112</span><br><span class=\"line\">113</span><br><span class=\"line\">114</span><br><span class=\"line\">115</span><br><span class=\"line\">116</span><br><span class=\"line\">117</span><br><span class=\"line\">118</span><br><span class=\"line\">119</span><br><span class=\"line\">120</span><br><span class=\"line\">121</span><br><span class=\"line\">122</span><br><span class=\"line\">123</span><br><span class=\"line\">124</span><br><span class=\"line\">125</span><br><span class=\"line\">126</span><br><span class=\"line\">127</span><br><span class=\"line\">128</span><br><span class=\"line\">129</span><br><span class=\"line\">130</span><br><span class=\"line\">131</span><br><span class=\"line\">132</span><br><span class=\"line\">133</span><br><span class=\"line\">134</span><br><span class=\"line\">135</span><br><span class=\"line\">136</span><br><span class=\"line\">137</span><br><span class=\"line\">138</span><br><span class=\"line\">139</span><br><span class=\"line\">140</span><br><span class=\"line\">141</span><br><span class=\"line\">142</span><br><span class=\"line\">143</span><br><span class=\"line\">144</span><br><span class=\"line\">145</span><br><span class=\"line\">146</span><br><span class=\"line\">147</span><br><span class=\"line\">148</span><br><span class=\"line\">149</span><br><span class=\"line\">150</span><br><span class=\"line\">151</span><br><span class=\"line\">152</span><br><span class=\"line\">153</span><br><span class=\"line\">154</span><br><span class=\"line\">155</span><br><span class=\"line\">156</span><br><span class=\"line\">157</span><br><span class=\"line\">158</span><br><span class=\"line\">159</span><br><span class=\"line\">160</span><br><span class=\"line\">161</span><br><span class=\"line\">162</span><br><span class=\"line\">163</span><br><span class=\"line\">164</span><br><span class=\"line\">165</span><br><span class=\"line\">166</span><br><span class=\"line\">167</span><br><span class=\"line\">168</span><br><span class=\"line\">169</span><br><span class=\"line\">170</span><br><span class=\"line\">171</span><br><span class=\"line\">172</span><br><span class=\"line\">173</span><br><span class=\"line\">174</span><br><span class=\"line\">175</span><br><span class=\"line\">176</span><br><span class=\"line\">177</span><br><span class=\"line\">178</span><br><span class=\"line\">179</span><br><span class=\"line\">180</span><br><span class=\"line\">181</span><br><span class=\"line\">182</span><br><span class=\"line\">183</span><br><span class=\"line\">184</span><br><span class=\"line\">185</span><br><span class=\"line\">186</span><br><span class=\"line\">187</span><br><span class=\"line\">188</span><br><span class=\"line\">189</span><br><span class=\"line\">190</span><br><span class=\"line\">191</span><br><span class=\"line\">192</span><br><span class=\"line\">193</span><br><span class=\"line\">194</span><br><span class=\"line\">195</span><br><span class=\"line\">196</span><br><span class=\"line\">197</span><br><span class=\"line\">198</span><br><span class=\"line\">199</span><br><span class=\"line\">200</span><br><span class=\"line\">201</span><br><span class=\"line\">202</span><br><span class=\"line\">203</span><br><span class=\"line\">204</span><br><span class=\"line\">205</span><br><span class=\"line\">206</span><br><span class=\"line\">207</span><br><span class=\"line\">208</span><br><span class=\"line\">209</span><br><span class=\"line\">210</span><br><span class=\"line\">211</span><br><span class=\"line\">212</span><br><span class=\"line\">213</span><br><span class=\"line\">214</span><br><span class=\"line\">215</span><br><span class=\"line\">216</span><br><span class=\"line\">217</span><br><span class=\"line\">218</span><br><span class=\"line\">219</span><br><span class=\"line\">220</span><br><span class=\"line\">221</span><br><span class=\"line\">222</span><br><span class=\"line\">223</span><br><span class=\"line\">224</span><br><span class=\"line\">225</span><br><span class=\"line\">226</span><br><span class=\"line\">227</span><br><span class=\"line\">228</span><br><span class=\"line\">229</span><br><span class=\"line\">230</span><br><span class=\"line\">231</span><br><span class=\"line\">232</span><br><span class=\"line\">233</span><br><span class=\"line\">234</span><br><span class=\"line\">235</span><br><span class=\"line\">236</span><br><span class=\"line\">237</span><br><span class=\"line\">238</span><br><span class=\"line\">239</span><br><span class=\"line\">240</span><br><span class=\"line\">241</span><br><span class=\"line\">242</span><br><span class=\"line\">243</span><br><span class=\"line\">244</span><br><span class=\"line\">245</span><br><span class=\"line\">246</span><br><span class=\"line\">247</span><br><span class=\"line\">248</span><br><span class=\"line\">249</span><br><span class=\"line\">250</span><br><span class=\"line\">251</span><br><span class=\"line\">252</span><br><span class=\"line\">253</span><br><span class=\"line\">254</span><br><span class=\"line\">255</span><br><span class=\"line\">256</span><br><span class=\"line\">257</span><br><span class=\"line\">258</span><br><span class=\"line\">259</span><br><span class=\"line\">260</span><br><span class=\"line\">261</span><br><span class=\"line\">262</span><br><span class=\"line\">263</span><br><span class=\"line\">264</span><br><span class=\"line\">265</span><br><span class=\"line\">266</span><br><span class=\"line\">267</span><br><span class=\"line\">268</span><br><span class=\"line\">269</span><br><span class=\"line\">270</span><br><span class=\"line\">271</span><br><span class=\"line\">272</span><br><span class=\"line\">273</span><br><span class=\"line\">274</span><br><span class=\"line\">275</span><br><span class=\"line\">276</span><br><span class=\"line\">277</span><br><span class=\"line\">278</span><br><span class=\"line\">279</span><br><span class=\"line\">280</span><br><span class=\"line\">281</span><br><span class=\"line\">282</span><br><span class=\"line\">283</span><br><span class=\"line\">284</span><br><span class=\"line\">285</span><br><span class=\"line\">286</span><br><span class=\"line\">287</span><br><span class=\"line\">288</span><br><span class=\"line\">289</span><br><span class=\"line\">290</span><br><span class=\"line\">291</span><br><span class=\"line\">292</span><br><span class=\"line\">293</span><br><span class=\"line\">294</span><br><span class=\"line\">295</span><br><span class=\"line\">296</span><br><span class=\"line\">297</span><br><span class=\"line\">298</span><br><span class=\"line\">299</span><br><span class=\"line\">300</span><br><span class=\"line\">301</span><br><span class=\"line\">302</span><br><span class=\"line\">303</span><br><span class=\"line\">304</span><br><span class=\"line\">305</span><br><span class=\"line\">306</span><br><span class=\"line\">307</span><br><span class=\"line\">308</span><br><span class=\"line\">309</span><br><span class=\"line\">310</span><br><span class=\"line\">311</span><br><span class=\"line\">312</span><br><span class=\"line\">313</span><br><span class=\"line\">314</span><br><span class=\"line\">315</span><br><span class=\"line\">316</span><br><span class=\"line\">317</span><br><span class=\"line\">318</span><br><span class=\"line\">319</span><br><span class=\"line\">320</span><br><span class=\"line\">321</span><br><span class=\"line\">322</span><br><span class=\"line\">323</span><br><span class=\"line\">324</span><br><span class=\"line\">325</span><br><span class=\"line\">326</span><br><span class=\"line\">327</span><br><span class=\"line\">328</span><br><span class=\"line\">329</span><br><span class=\"line\">330</span><br><span class=\"line\">331</span><br><span class=\"line\">332</span><br><span class=\"line\">333</span><br><span class=\"line\">334</span><br><span class=\"line\">335</span><br><span class=\"line\">336</span><br><span class=\"line\">337</span><br><span class=\"line\">338</span><br><span class=\"line\">339</span><br><span class=\"line\">340</span><br><span class=\"line\">341</span><br><span class=\"line\">342</span><br><span class=\"line\">343</span><br><span class=\"line\">344</span><br><span class=\"line\">345</span><br><span class=\"line\">346</span><br><span class=\"line\">347</span><br><span class=\"line\">348</span><br><span class=\"line\">349</span><br><span class=\"line\">350</span><br><span class=\"line\">351</span><br><span class=\"line\">352</span><br><span class=\"line\">353</span><br><span class=\"line\">354</span><br><span class=\"line\">355</span><br><span class=\"line\">356</span><br><span class=\"line\">357</span><br><span class=\"line\">358</span><br><span class=\"line\">359</span><br><span class=\"line\">360</span><br><span class=\"line\">361</span><br><span class=\"line\">362</span><br><span class=\"line\">363</span><br><span class=\"line\">364</span><br><span class=\"line\">365</span><br><span class=\"line\">366</span><br><span class=\"line\">367</span><br><span class=\"line\">368</span><br><span class=\"line\">369</span><br><span class=\"line\">370</span><br><span class=\"line\">371</span><br><span class=\"line\">372</span><br><span class=\"line\">373</span><br><span class=\"line\">374</span><br><span class=\"line\">375</span><br><span class=\"line\">376</span><br><span class=\"line\">377</span><br><span class=\"line\">378</span><br><span class=\"line\">379</span><br><span class=\"line\">380</span><br><span class=\"line\">381</span><br><span class=\"line\">382</span><br><span class=\"line\">383</span><br><span class=\"line\">384</span><br><span class=\"line\">385</span><br><span class=\"line\">386</span><br><span class=\"line\">387</span><br><span class=\"line\">388</span><br><span class=\"line\">389</span><br><span class=\"line\">390</span><br><span class=\"line\">391</span><br><span class=\"line\">392</span><br><span class=\"line\">393</span><br><span class=\"line\">394</span><br><span class=\"line\">395</span><br><span class=\"line\">396</span><br><span class=\"line\">397</span><br><span class=\"line\">398</span><br><span class=\"line\">399</span><br><span class=\"line\">400</span><br><span class=\"line\">401</span><br><span class=\"line\">402</span><br><span class=\"line\">403</span><br><span class=\"line\">404</span><br><span class=\"line\">405</span><br><span class=\"line\">406</span><br><span class=\"line\">407</span><br><span class=\"line\">408</span><br><span class=\"line\">409</span><br><span class=\"line\">410</span><br><span class=\"line\">411</span><br><span class=\"line\">412</span><br><span class=\"line\">413</span><br><span class=\"line\">414</span><br><span class=\"line\">415</span><br><span class=\"line\">416</span><br><span class=\"line\">417</span><br><span class=\"line\">418</span><br><span class=\"line\">419</span><br><span class=\"line\">420</span><br><span class=\"line\">421</span><br><span class=\"line\">422</span><br><span class=\"line\">423</span><br><span class=\"line\">424</span><br><span class=\"line\">425</span><br><span class=\"line\">426</span><br><span class=\"line\">427</span><br><span class=\"line\">428</span><br><span class=\"line\">429</span><br><span class=\"line\">430</span><br><span class=\"line\">431</span><br><span class=\"line\">432</span><br><span class=\"line\">433</span><br><span class=\"line\">434</span><br><span class=\"line\">435</span><br><span class=\"line\">436</span><br><span class=\"line\">437</span><br><span class=\"line\">438</span><br><span class=\"line\">439</span><br><span class=\"line\">440</span><br><span class=\"line\">441</span><br><span class=\"line\">442</span><br><span class=\"line\">443</span><br><span class=\"line\">444</span><br><span class=\"line\">445</span><br><span class=\"line\">446</span><br><span class=\"line\">447</span><br><span class=\"line\">448</span><br><span class=\"line\">449</span><br><span class=\"line\">450</span><br><span class=\"line\">451</span><br><span class=\"line\">452</span><br><span class=\"line\">453</span><br><span class=\"line\">454</span><br><span class=\"line\">455</span><br><span class=\"line\">456</span><br><span class=\"line\">457</span><br><span class=\"line\">458</span><br><span class=\"line\">459</span><br><span class=\"line\">460</span><br><span class=\"line\">461</span><br><span class=\"line\">462</span><br><span class=\"line\">463</span><br><span class=\"line\">464</span><br><span class=\"line\">465</span><br><span class=\"line\">466</span><br><span class=\"line\">467</span><br><span class=\"line\">468</span><br><span class=\"line\">469</span><br><span class=\"line\">470</span><br><span class=\"line\">471</span><br><span class=\"line\">472</span><br><span class=\"line\">473</span><br><span class=\"line\">474</span><br><span class=\"line\">475</span><br><span class=\"line\">476</span><br><span class=\"line\">477</span><br><span class=\"line\">478</span><br><span class=\"line\">479</span><br><span class=\"line\">480</span><br><span class=\"line\">481</span><br><span class=\"line\">482</span><br><span class=\"line\">483</span><br><span class=\"line\">484</span><br><span class=\"line\">485</span><br><span class=\"line\">486</span><br><span class=\"line\">487</span><br><span class=\"line\">488</span><br><span class=\"line\">489</span><br><span class=\"line\">490</span><br><span class=\"line\">491</span><br><span class=\"line\">492</span><br><span class=\"line\">493</span><br><span class=\"line\">494</span><br><span class=\"line\">495</span><br><span class=\"line\">496</span><br><span class=\"line\">497</span><br><span class=\"line\">498</span><br><span class=\"line\">499</span><br><span class=\"line\">500</span><br><span class=\"line\">501</span><br><span class=\"line\">502</span><br><span class=\"line\">503</span><br><span class=\"line\">504</span><br><span class=\"line\">505</span><br><span class=\"line\">506</span><br><span class=\"line\">507</span><br><span class=\"line\">508</span><br><span class=\"line\">509</span><br><span class=\"line\">510</span><br><span class=\"line\">511</span><br><span class=\"line\">512</span><br><span class=\"line\">513</span><br><span class=\"line\">514</span><br><span class=\"line\">515</span><br><span class=\"line\">516</span><br><span class=\"line\">517</span><br><span class=\"line\">518</span><br><span class=\"line\">519</span><br><span class=\"line\">520</span><br><span class=\"line\">521</span><br><span class=\"line\">522</span><br><span class=\"line\">523</span><br><span class=\"line\">524</span><br><span class=\"line\">525</span><br><span class=\"line\">526</span><br><span class=\"line\">527</span><br><span class=\"line\">528</span><br><span class=\"line\">529</span><br><span class=\"line\">530</span><br><span class=\"line\">531</span><br><span class=\"line\">532</span><br><span class=\"line\">533</span><br><span class=\"line\">534</span><br><span class=\"line\">535</span><br><span class=\"line\">536</span><br><span class=\"line\">537</span><br><span class=\"line\">538</span><br><span class=\"line\">539</span><br><span class=\"line\">540</span><br><span class=\"line\">541</span><br><span class=\"line\">542</span><br><span class=\"line\">543</span><br><span class=\"line\">544</span><br><span class=\"line\">545</span><br><span class=\"line\">546</span><br><span class=\"line\">547</span><br><span class=\"line\">548</span><br><span class=\"line\">549</span><br><span class=\"line\">550</span><br><span class=\"line\">551</span><br><span class=\"line\">552</span><br><span class=\"line\">553</span><br><span class=\"line\">554</span><br><span class=\"line\">555</span><br><span class=\"line\">556</span><br><span class=\"line\">557</span><br><span class=\"line\">558</span><br><span class=\"line\">559</span><br><span class=\"line\">560</span><br><span class=\"line\">561</span><br><span class=\"line\">562</span><br><span class=\"line\">563</span><br><span class=\"line\">564</span><br><span class=\"line\">565</span><br><span class=\"line\">566</span><br><span class=\"line\">567</span><br><span class=\"line\">568</span><br><span class=\"line\">569</span><br><span class=\"line\">570</span><br><span class=\"line\">571</span><br><span class=\"line\">572</span><br><span class=\"line\">573</span><br><span class=\"line\">574</span><br><span class=\"line\">575</span><br><span class=\"line\">576</span><br><span class=\"line\">577</span><br><span class=\"line\">578</span><br><span class=\"line\">579</span><br><span class=\"line\">580</span><br><span class=\"line\">581</span><br><span class=\"line\">582</span><br><span class=\"line\">583</span><br><span class=\"line\">584</span><br><span class=\"line\">585</span><br><span class=\"line\">586</span><br><span class=\"line\">587</span><br><span class=\"line\">588</span><br><span class=\"line\">589</span><br><span class=\"line\">590</span><br><span class=\"line\">591</span><br><span class=\"line\">592</span><br><span class=\"line\">593</span><br><span class=\"line\">594</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python</span></span><br><span class=\"line\"><span class=\"comment\"># coding=utf-8</span></span><br><span class=\"line\"><span class=\"keyword\">from</span> __future__ <span class=\"keyword\">import</span> print_function</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> os</span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">from</span> urllib <span class=\"keyword\">import</span> urlencode, quote_plus</span><br><span class=\"line\"><span class=\"keyword\">except</span> ImportError:</span><br><span class=\"line\">    <span class=\"keyword\">from</span> urllib.parse <span class=\"keyword\">import</span> urlencode, quote_plus</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"keyword\">import</span> urllib2 <span class=\"keyword\">as</span> wdf_urllib</span><br><span class=\"line\">    <span class=\"keyword\">from</span> cookielib <span class=\"keyword\">import</span> CookieJar</span><br><span class=\"line\"><span class=\"keyword\">except</span> ImportError:</span><br><span class=\"line\">    <span class=\"keyword\">import</span> urllib.request <span class=\"keyword\">as</span> wdf_urllib</span><br><span class=\"line\">    <span class=\"keyword\">from</span> http.cookiejar <span class=\"keyword\">import</span> CookieJar</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> re</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"><span class=\"keyword\">import</span> xml.dom.minidom</span><br><span class=\"line\"><span class=\"keyword\">import</span> json</span><br><span class=\"line\"><span class=\"keyword\">import</span> sys</span><br><span class=\"line\"><span class=\"keyword\">import</span> math</span><br><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"><span class=\"keyword\">import</span> ssl</span><br><span class=\"line\"><span class=\"keyword\">import</span> thread</span><br><span class=\"line\"></span><br><span class=\"line\">DEBUG = <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">MAX_GROUP_NUM = <span class=\"number\">35</span>  <span class=\"comment\"># 每组人数</span></span><br><span class=\"line\">INTERFACE_CALLING_INTERVAL = <span class=\"number\">20</span>  <span class=\"comment\"># 接口调用时间间隔, 间隔太短容易出现\"操作太频繁\", 会被限制操作半小时左右</span></span><br><span class=\"line\">MAX_PROGRESS_LEN = <span class=\"number\">50</span></span><br><span class=\"line\"></span><br><span class=\"line\">QRImagePath = os.path.join(os.getcwd(), <span class=\"string\">'qrcode.jpg'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">tip = <span class=\"number\">0</span></span><br><span class=\"line\">uuid = <span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">base_uri = <span class=\"string\">''</span></span><br><span class=\"line\">redirect_uri = <span class=\"string\">''</span></span><br><span class=\"line\">push_uri = <span class=\"string\">''</span></span><br><span class=\"line\"></span><br><span class=\"line\">skey = <span class=\"string\">''</span></span><br><span class=\"line\">wxsid = <span class=\"string\">''</span></span><br><span class=\"line\">wxuin = <span class=\"string\">''</span></span><br><span class=\"line\">pass_ticket = <span class=\"string\">''</span></span><br><span class=\"line\">deviceId = <span class=\"string\">'e000000000000000'</span></span><br><span class=\"line\"></span><br><span class=\"line\">BaseRequest = &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">ContactList = []</span><br><span class=\"line\">My = []</span><br><span class=\"line\">SyncKey = []</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    xrange</span><br><span class=\"line\">    range = xrange</span><br><span class=\"line\"><span class=\"keyword\">except</span>:</span><br><span class=\"line\">    <span class=\"comment\"># python 3</span></span><br><span class=\"line\">    <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">responseState</span><span class=\"params\">(func, BaseResponse)</span>:</span></span><br><span class=\"line\">    ErrMsg = BaseResponse[<span class=\"string\">'ErrMsg'</span>]</span><br><span class=\"line\">    Ret = BaseResponse[<span class=\"string\">'Ret'</span>]</span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG <span class=\"keyword\">or</span> Ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">        print(<span class=\"string\">'func: %s, Ret: %d, ErrMsg: %s'</span> % (func, Ret, ErrMsg))</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> Ret != <span class=\"number\">0</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getRequest</span><span class=\"params\">(url, data=None)</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        data = data.encode(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"keyword\">finally</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> wdf_urllib.Request(url=url, data=data)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">getUUID</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> uuid</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/jslogin'</span></span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'appid'</span>: <span class=\"string\">'wx782c26e4c19acffb'</span>,</span><br><span class=\"line\">        <span class=\"string\">'fun'</span>: <span class=\"string\">'new'</span>,</span><br><span class=\"line\">        <span class=\"string\">'lang'</span>: <span class=\"string\">'zh_CN'</span>,</span><br><span class=\"line\">        <span class=\"string\">'_'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.QRLogin.code = 200; window.QRLogin.uuid = \"oZwt_bFfRg==\";</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.QRLogin.code = (\\d+); window.QRLogin.uuid = \"(\\S+?)\"'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    code = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\">    uuid = pm.group(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> code == <span class=\"string\">'200'</span>:</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">showQRImage</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> tip</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/qrcode/'</span> + uuid</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'t'</span>: <span class=\"string\">'webwx'</span>,</span><br><span class=\"line\">        <span class=\"string\">'_'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\"></span><br><span class=\"line\">    tip = <span class=\"number\">1</span></span><br><span class=\"line\"></span><br><span class=\"line\">    f = open(QRImagePath, <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">    f.write(response.read())</span><br><span class=\"line\">    f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> sys.platform.find(<span class=\"string\">'darwin'</span>) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        subprocess.call([<span class=\"string\">'open'</span>, QRImagePath])</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> sys.platform.find(<span class=\"string\">'linux'</span>) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">        subprocess.call([<span class=\"string\">'xdg-open'</span>, QRImagePath])</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        os.startfile(QRImagePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'请使用微信扫描二维码以登录'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">waitForLogin</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> tip, base_uri, redirect_uri, push_uri</span><br><span class=\"line\"></span><br><span class=\"line\">    url = <span class=\"string\">'https://login.weixin.qq.com/cgi-bin/mmwebwx-bin/login?tip=%s&amp;uuid=%s&amp;_=%s'</span> % (</span><br><span class=\"line\">        tip, uuid, int(time.time()))</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.code=500;</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.code=(\\d+);'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    code = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> code == <span class=\"string\">'201'</span>:  <span class=\"comment\"># 已扫描</span></span><br><span class=\"line\">        print(<span class=\"string\">'成功扫描,请在手机上点击确认以登录'</span>)</span><br><span class=\"line\">        tip = <span class=\"number\">0</span></span><br><span class=\"line\">    <span class=\"keyword\">elif</span> code == <span class=\"string\">'200'</span>:  <span class=\"comment\"># 已登录</span></span><br><span class=\"line\">        print(<span class=\"string\">'正在登录...'</span>)</span><br><span class=\"line\">        regx = <span class=\"string\">r'window.redirect_uri=\"(\\S+?)\";'</span></span><br><span class=\"line\">        pm = re.search(regx, data)</span><br><span class=\"line\">        redirect_uri = pm.group(<span class=\"number\">1</span>) + <span class=\"string\">'&amp;fun=new'</span></span><br><span class=\"line\">        base_uri = redirect_uri[:redirect_uri.rfind(<span class=\"string\">'/'</span>)]</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># push_uri与base_uri对应关系(排名分先后)(就是这么奇葩..)</span></span><br><span class=\"line\">        services = [</span><br><span class=\"line\">            (<span class=\"string\">'wx2.qq.com'</span>, <span class=\"string\">'webpush2.weixin.qq.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'qq.com'</span>, <span class=\"string\">'webpush.weixin.qq.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web1.wechat.com'</span>, <span class=\"string\">'webpush1.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web2.wechat.com'</span>, <span class=\"string\">'webpush2.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'wechat.com'</span>, <span class=\"string\">'webpush.wechat.com'</span>),</span><br><span class=\"line\">            (<span class=\"string\">'web1.wechatapp.com'</span>, <span class=\"string\">'webpush1.wechatapp.com'</span>),</span><br><span class=\"line\">        ]</span><br><span class=\"line\">        push_uri = base_uri</span><br><span class=\"line\">        <span class=\"keyword\">for</span> (searchUrl, pushUrl) <span class=\"keyword\">in</span> services:</span><br><span class=\"line\">            <span class=\"keyword\">if</span> base_uri.find(searchUrl) &gt;= <span class=\"number\">0</span>:</span><br><span class=\"line\">                push_uri = <span class=\"string\">'https://%s/cgi-bin/mmwebwx-bin'</span> % pushUrl</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># closeQRImage</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> sys.platform.find(<span class=\"string\">'darwin'</span>) &gt;= <span class=\"number\">0</span>:  <span class=\"comment\"># for OSX with Preview</span></span><br><span class=\"line\">            os.system(<span class=\"string\">\"osascript -e 'quit app \\\"Preview\\\"'\"</span>)</span><br><span class=\"line\">    <span class=\"keyword\">elif</span> code == <span class=\"string\">'408'</span>:  <span class=\"comment\"># 超时</span></span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\">    <span class=\"comment\"># elif code == '400' or code == '500':</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> code</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">login</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> skey, wxsid, wxuin, pass_ticket, BaseRequest</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=redirect_uri)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    doc = xml.dom.minidom.parseString(data)</span><br><span class=\"line\">    root = doc.documentElement</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">for</span> node <span class=\"keyword\">in</span> root.childNodes:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> node.nodeName == <span class=\"string\">'skey'</span>:</span><br><span class=\"line\">            skey = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'wxsid'</span>:</span><br><span class=\"line\">            wxsid = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'wxuin'</span>:</span><br><span class=\"line\">            wxuin = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> node.nodeName == <span class=\"string\">'pass_ticket'</span>:</span><br><span class=\"line\">            pass_ticket = node.childNodes[<span class=\"number\">0</span>].data</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print('skey: %s, wxsid: %s, wxuin: %s, pass_ticket: %s' % (skey, wxsid,</span></span><br><span class=\"line\">    <span class=\"comment\"># wxuin, pass_ticket))</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> all((skey, wxsid, wxuin, pass_ticket)):</span><br><span class=\"line\">        <span class=\"keyword\">return</span> <span class=\"keyword\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\">    BaseRequest = &#123;</span><br><span class=\"line\">        <span class=\"string\">'Uin'</span>: int(wxuin),</span><br><span class=\"line\">        <span class=\"string\">'Sid'</span>: wxsid,</span><br><span class=\"line\">        <span class=\"string\">'Skey'</span>: skey,</span><br><span class=\"line\">        <span class=\"string\">'DeviceID'</span>: deviceId,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"keyword\">True</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxinit</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxinit?pass_ticket=%s&amp;skey=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, skey, int(time.time()))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG:</span><br><span class=\"line\">        f = open(os.path.join(os.getcwd(), <span class=\"string\">'webwxinit.json'</span>), <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">        f.write(data)</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    data = data.decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">global</span> ContactList, My, SyncKey</span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    ContactList = dic[<span class=\"string\">'ContactList'</span>]</span><br><span class=\"line\">    My = dic[<span class=\"string\">'User'</span>]</span><br><span class=\"line\">    SyncKey = dic[<span class=\"string\">'SyncKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'webwxinit'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxgetcontact</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxgetcontact?pass_ticket=%s&amp;skey=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, skey, int(time.time()))</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url)</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> DEBUG:</span><br><span class=\"line\">        f = open(os.path.join(os.getcwd(), <span class=\"string\">'webwxgetcontact.json'</span>), <span class=\"string\">'wb'</span>)</span><br><span class=\"line\">        f.write(data)</span><br><span class=\"line\">        f.close()</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\">    data = data.decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># 倒序遍历,不然删除的时候出问题..</span></span><br><span class=\"line\">    SpecialUsers = [<span class=\"string\">\"newsapp\"</span>, <span class=\"string\">\"fmessage\"</span>, <span class=\"string\">\"filehelper\"</span>, <span class=\"string\">\"weibo\"</span>, <span class=\"string\">\"qqmail\"</span>, <span class=\"string\">\"tmessage\"</span>, <span class=\"string\">\"qmessage\"</span>, <span class=\"string\">\"qqsync\"</span>, <span class=\"string\">\"floatbottle\"</span>, <span class=\"string\">\"lbsapp\"</span>, <span class=\"string\">\"shakeapp\"</span>, <span class=\"string\">\"medianote\"</span>, <span class=\"string\">\"qqfriend\"</span>, <span class=\"string\">\"readerapp\"</span>, <span class=\"string\">\"blogapp\"</span>, <span class=\"string\">\"facebookapp\"</span>, <span class=\"string\">\"masssendapp\"</span>,</span><br><span class=\"line\">                    <span class=\"string\">\"meishiapp\"</span>, <span class=\"string\">\"feedsapp\"</span>, <span class=\"string\">\"voip\"</span>, <span class=\"string\">\"blogappweixin\"</span>, <span class=\"string\">\"weixin\"</span>, <span class=\"string\">\"brandsessionholder\"</span>, <span class=\"string\">\"weixinreminder\"</span>, <span class=\"string\">\"wxid_novlwrv3lqwv11\"</span>, <span class=\"string\">\"gh_22b87fa7cb3c\"</span>, <span class=\"string\">\"officialaccounts\"</span>, <span class=\"string\">\"notification_messages\"</span>, <span class=\"string\">\"wxitil\"</span>, <span class=\"string\">\"userexperience_alarm\"</span>]</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(len(MemberList) - <span class=\"number\">1</span>, <span class=\"number\">-1</span>, <span class=\"number\">-1</span>):</span><br><span class=\"line\">        Member = MemberList[i]</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'VerifyFlag'</span>] &amp; <span class=\"number\">8</span> != <span class=\"number\">0</span>:  <span class=\"comment\"># 公众号/服务号</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>] <span class=\"keyword\">in</span> SpecialUsers:  <span class=\"comment\"># 特殊账号</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>].find(<span class=\"string\">'@@'</span>) != <span class=\"number\">-1</span>:  <span class=\"comment\"># 群聊</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'UserName'</span>] == My[<span class=\"string\">'UserName'</span>]:  <span class=\"comment\"># 自己</span></span><br><span class=\"line\">            MemberList.remove(Member)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> MemberList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">createChatroom</span><span class=\"params\">(UserNames)</span>:</span></span><br><span class=\"line\">    MemberList = [&#123;<span class=\"string\">'UserName'</span>: UserName&#125; <span class=\"keyword\">for</span> UserName <span class=\"keyword\">in</span> UserNames]</span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxcreatechatroom?pass_ticket=%s&amp;r=%s'</span> % (</span><br><span class=\"line\">            pass_ticket, int(time.time()))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'MemberCount'</span>: len(MemberList),</span><br><span class=\"line\">        <span class=\"string\">'MemberList'</span>: MemberList,</span><br><span class=\"line\">        <span class=\"string\">'Topic'</span>: <span class=\"string\">''</span>,</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    ChatRoomName = dic[<span class=\"string\">'ChatRoomName'</span>]</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\">    DeletedList = []</span><br><span class=\"line\">    BlockedList = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">4</span>:  <span class=\"comment\"># 被对方删除了</span></span><br><span class=\"line\">            DeletedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">3</span>:  <span class=\"comment\"># 被加入黑名单</span></span><br><span class=\"line\">            BlockedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'createChatroom'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> ChatRoomName, DeletedList, BlockedList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">deleteMember</span><span class=\"params\">(ChatRoomName, UserNames)</span>:</span></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxupdatechatroom?fun=delmember&amp;pass_ticket=%s'</span> % (pass_ticket)</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'ChatRoomName'</span>: ChatRoomName,</span><br><span class=\"line\">        <span class=\"string\">'DelMemberList'</span>: <span class=\"string\">','</span>.join(UserNames),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'deleteMember'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">addMember</span><span class=\"params\">(ChatRoomName, UserNames)</span>:</span></span><br><span class=\"line\">    url = base_uri + \\</span><br><span class=\"line\">        <span class=\"string\">'/webwxupdatechatroom?fun=addmember&amp;pass_ticket=%s'</span> % (pass_ticket)</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'ChatRoomName'</span>: ChatRoomName,</span><br><span class=\"line\">        <span class=\"string\">'AddMemberList'</span>: <span class=\"string\">','</span>.join(UserNames),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    MemberList = dic[<span class=\"string\">'MemberList'</span>]</span><br><span class=\"line\">    DeletedList = []</span><br><span class=\"line\">    BlockedList = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">4</span>:  <span class=\"comment\"># 被对方删除了</span></span><br><span class=\"line\">            DeletedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\">        <span class=\"keyword\">elif</span> Member[<span class=\"string\">'MemberStatus'</span>] == <span class=\"number\">3</span>:  <span class=\"comment\"># 被加入黑名单</span></span><br><span class=\"line\">            BlockedList.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'addMember'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> DeletedList, BlockedList</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">syncKey</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    SyncKeyItems = [<span class=\"string\">'%s_%s'</span> % (item[<span class=\"string\">'Key'</span>], item[<span class=\"string\">'Val'</span>])</span><br><span class=\"line\">                    <span class=\"keyword\">for</span> item <span class=\"keyword\">in</span> SyncKey[<span class=\"string\">'List'</span>]]</span><br><span class=\"line\">    SyncKeyStr = <span class=\"string\">'|'</span>.join(SyncKeyItems)</span><br><span class=\"line\">    <span class=\"keyword\">return</span> SyncKeyStr</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">syncCheck</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    url = push_uri + <span class=\"string\">'/synccheck?'</span></span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'skey'</span>: BaseRequest[<span class=\"string\">'Skey'</span>],</span><br><span class=\"line\">        <span class=\"string\">'sid'</span>: BaseRequest[<span class=\"string\">'Sid'</span>],</span><br><span class=\"line\">        <span class=\"string\">'uin'</span>: BaseRequest[<span class=\"string\">'Uin'</span>],</span><br><span class=\"line\">        <span class=\"string\">'deviceId'</span>: BaseRequest[<span class=\"string\">'DeviceID'</span>],</span><br><span class=\"line\">        <span class=\"string\">'synckey'</span>: syncKey(),</span><br><span class=\"line\">        <span class=\"string\">'r'</span>: int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url + urlencode(params))</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># window.synccheck=&#123;retcode:\"0\",selector:\"2\"&#125;</span></span><br><span class=\"line\">    regx = <span class=\"string\">r'window.synccheck=&#123;retcode:\"(\\d+)\",selector:\"(\\d+)\"&#125;'</span></span><br><span class=\"line\">    pm = re.search(regx, data)</span><br><span class=\"line\"></span><br><span class=\"line\">    retcode = pm.group(<span class=\"number\">1</span>)</span><br><span class=\"line\">    selector = pm.group(<span class=\"number\">2</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">return</span> selector</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">webwxsync</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">global</span> SyncKey</span><br><span class=\"line\"></span><br><span class=\"line\">    url = base_uri + <span class=\"string\">'/webwxsync?lang=zh_CN&amp;skey=%s&amp;sid=%s&amp;pass_ticket=%s'</span> % (</span><br><span class=\"line\">        BaseRequest[<span class=\"string\">'Skey'</span>], BaseRequest[<span class=\"string\">'Sid'</span>], quote_plus(pass_ticket))</span><br><span class=\"line\">    params = &#123;</span><br><span class=\"line\">        <span class=\"string\">'BaseRequest'</span>: BaseRequest,</span><br><span class=\"line\">        <span class=\"string\">'SyncKey'</span>: SyncKey,</span><br><span class=\"line\">        <span class=\"string\">'rr'</span>: ~int(time.time()),</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    request = getRequest(url=url, data=json.dumps(params))</span><br><span class=\"line\">    request.add_header(<span class=\"string\">'ContentType'</span>, <span class=\"string\">'application/json; charset=UTF-8'</span>)</span><br><span class=\"line\">    response = wdf_urllib.urlopen(request)</span><br><span class=\"line\">    data = response.read().decode(<span class=\"string\">'utf-8'</span>, <span class=\"string\">'replace'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\"># print(data)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    dic = json.loads(data)</span><br><span class=\"line\">    SyncKey = dic[<span class=\"string\">'SyncKey'</span>]</span><br><span class=\"line\"></span><br><span class=\"line\">    state = responseState(<span class=\"string\">'webwxsync'</span>, dic[<span class=\"string\">'BaseResponse'</span>])</span><br><span class=\"line\">    <span class=\"keyword\">return</span> state</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">heartBeatLoop</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\">    <span class=\"keyword\">while</span> <span class=\"keyword\">True</span>:</span><br><span class=\"line\">        selector = syncCheck()</span><br><span class=\"line\">        <span class=\"keyword\">if</span> selector != <span class=\"string\">'0'</span>:</span><br><span class=\"line\">            webwxsync()</span><br><span class=\"line\">        time.sleep(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">main</span><span class=\"params\">()</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">try</span>:</span><br><span class=\"line\">        ssl._create_default_https_context = ssl._create_unverified_context</span><br><span class=\"line\"></span><br><span class=\"line\">        opener = wdf_urllib.build_opener(</span><br><span class=\"line\">            wdf_urllib.HTTPCookieProcessor(CookieJar()))</span><br><span class=\"line\">        opener.addheaders = [</span><br><span class=\"line\">            (<span class=\"string\">'User-agent'</span>, <span class=\"string\">'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_2) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/44.0.2403.125 Safari/537.36'</span>)]</span><br><span class=\"line\">        wdf_urllib.install_opener(opener)</span><br><span class=\"line\">    <span class=\"keyword\">except</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> getUUID():</span><br><span class=\"line\">        print(<span class=\"string\">'获取uuid失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'正在获取二维码图片...'</span>)</span><br><span class=\"line\">    showQRImage()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">1</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">while</span> waitForLogin() != <span class=\"string\">'200'</span>:</span><br><span class=\"line\">        <span class=\"keyword\">pass</span></span><br><span class=\"line\"></span><br><span class=\"line\">    os.remove(QRImagePath)</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> login():</span><br><span class=\"line\">        print(<span class=\"string\">'登录失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"keyword\">not</span> webwxinit():</span><br><span class=\"line\">        print(<span class=\"string\">'初始化失败'</span>)</span><br><span class=\"line\">        <span class=\"keyword\">return</span></span><br><span class=\"line\"></span><br><span class=\"line\">    MemberList = webwxgetcontact()</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'开启心跳线程'</span>)</span><br><span class=\"line\">    thread.start_new_thread(heartBeatLoop, ())</span><br><span class=\"line\"></span><br><span class=\"line\">    MemberCount = len(MemberList)</span><br><span class=\"line\">    print(<span class=\"string\">'通讯录共%s位好友'</span> % MemberCount)</span><br><span class=\"line\"></span><br><span class=\"line\">    ChatRoomName = <span class=\"string\">''</span></span><br><span class=\"line\">    result = []</span><br><span class=\"line\">    d = &#123;&#125;</span><br><span class=\"line\">    <span class=\"keyword\">for</span> Member <span class=\"keyword\">in</span> MemberList:</span><br><span class=\"line\">        d[Member[<span class=\"string\">'UserName'</span>]] = (Member[<span class=\"string\">'NickName'</span>].encode(</span><br><span class=\"line\">            <span class=\"string\">'utf-8'</span>), Member[<span class=\"string\">'RemarkName'</span>].encode(<span class=\"string\">'utf-8'</span>))</span><br><span class=\"line\">    print(<span class=\"string\">'开始查找...'</span>)</span><br><span class=\"line\">    group_num = int(math.ceil(MemberCount / float(MAX_GROUP_NUM)))</span><br><span class=\"line\">    <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, group_num):</span><br><span class=\"line\">        UserNames = []</span><br><span class=\"line\">        <span class=\"keyword\">for</span> j <span class=\"keyword\">in</span> range(<span class=\"number\">0</span>, MAX_GROUP_NUM):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> i * MAX_GROUP_NUM + j &gt;= MemberCount:</span><br><span class=\"line\">                <span class=\"keyword\">break</span></span><br><span class=\"line\">            Member = MemberList[i * MAX_GROUP_NUM + j]</span><br><span class=\"line\">            UserNames.append(Member[<span class=\"string\">'UserName'</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 新建群组/添加成员</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> ChatRoomName == <span class=\"string\">''</span>:</span><br><span class=\"line\">            (ChatRoomName, DeletedList, BlockedList) = createChatroom(</span><br><span class=\"line\">                UserNames)</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            (DeletedList, BlockedList) = addMember(ChatRoomName, UserNames)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># todo BlockedList 被拉黑列表</span></span><br><span class=\"line\"></span><br><span class=\"line\">        DeletedCount = len(DeletedList)</span><br><span class=\"line\">        <span class=\"keyword\">if</span> DeletedCount &gt; <span class=\"number\">0</span>:</span><br><span class=\"line\">            result += DeletedList</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 删除成员</span></span><br><span class=\"line\">        deleteMember(ChatRoomName, UserNames)</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\"># 进度条</span></span><br><span class=\"line\">        progress = MAX_PROGRESS_LEN * (i + <span class=\"number\">1</span>) / group_num</span><br><span class=\"line\">        print(<span class=\"string\">'['</span>, <span class=\"string\">'#'</span> * progress, <span class=\"string\">'-'</span> * (MAX_PROGRESS_LEN - progress), <span class=\"string\">']'</span>, end=<span class=\"string\">' '</span>)</span><br><span class=\"line\">        print(<span class=\"string\">'新发现你被%d人删除'</span> % DeletedCount)</span><br><span class=\"line\">        <span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> range(DeletedCount):</span><br><span class=\"line\">            <span class=\"keyword\">if</span> d[DeletedList[i]][<span class=\"number\">1</span>] != <span class=\"string\">''</span>:</span><br><span class=\"line\">                print(d[DeletedList[i]][<span class=\"number\">0</span>] + <span class=\"string\">'(%s)'</span> % d[DeletedList[i]][<span class=\"number\">1</span>])</span><br><span class=\"line\">            <span class=\"keyword\">else</span>:</span><br><span class=\"line\">                print(d[DeletedList[i]][<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">if</span> i != group_num - <span class=\"number\">1</span>:</span><br><span class=\"line\">            print(<span class=\"string\">'正在继续查找,请耐心等待...'</span>)</span><br><span class=\"line\">            <span class=\"comment\"># 下一次进行接口调用需要等待的时间</span></span><br><span class=\"line\">            time.sleep(INTERFACE_CALLING_INTERVAL)</span><br><span class=\"line\">    <span class=\"comment\"># todo 删除群组</span></span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'\\n结果汇总完毕,20s后可重试...'</span>)</span><br><span class=\"line\">    resultNames = []</span><br><span class=\"line\">    <span class=\"keyword\">for</span> r <span class=\"keyword\">in</span> result:</span><br><span class=\"line\">        <span class=\"keyword\">if</span> d[r][<span class=\"number\">1</span>] != <span class=\"string\">''</span>:</span><br><span class=\"line\">            resultNames.append(d[r][<span class=\"number\">0</span>] + <span class=\"string\">'(%s)'</span> % d[r][<span class=\"number\">1</span>])</span><br><span class=\"line\">        <span class=\"keyword\">else</span>:</span><br><span class=\"line\">            resultNames.append(d[r][<span class=\"number\">0</span>])</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'---------- 被删除的好友列表(共%d人) ----------'</span> % len(result))</span><br><span class=\"line\">    <span class=\"comment\"># 过滤emoji</span></span><br><span class=\"line\">    resultNames = map(<span class=\"keyword\">lambda</span> x: re.sub(<span class=\"string\">r'&lt;span.+/span&gt;'</span>, <span class=\"string\">''</span>, x), resultNames)</span><br><span class=\"line\">    <span class=\"keyword\">if</span> len(resultNames):</span><br><span class=\"line\">        print(<span class=\"string\">'\\n'</span>.join(resultNames))</span><br><span class=\"line\">    <span class=\"keyword\">else</span>:</span><br><span class=\"line\">        print(<span class=\"string\">\"无\"</span>)</span><br><span class=\"line\">    print(<span class=\"string\">'---------------------------------------------'</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># windows下编码问题修复</span></span><br><span class=\"line\"><span class=\"comment\"># http://blog.csdn.net/heyuxuanzee/article/details/8442718</span></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"class\"><span class=\"keyword\">class</span> <span class=\"title\">UnicodeStreamFilter</span>:</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">__init__</span><span class=\"params\">(self, target)</span>:</span></span><br><span class=\"line\">        self.target = target</span><br><span class=\"line\">        self.encoding = <span class=\"string\">'utf-8'</span></span><br><span class=\"line\">        self.errors = <span class=\"string\">'replace'</span></span><br><span class=\"line\">        self.encode_to = self.target.encoding</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"function\"><span class=\"keyword\">def</span> <span class=\"title\">write</span><span class=\"params\">(self, s)</span>:</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> type(s) == str:</span><br><span class=\"line\">            s = s.decode(<span class=\"string\">'utf-8'</span>)</span><br><span class=\"line\">        s = s.encode(self.encode_to, self.errors).decode(self.encode_to)</span><br><span class=\"line\">        self.target.write(s)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> sys.stdout.encoding == <span class=\"string\">'cp936'</span>:</span><br><span class=\"line\">    sys.stdout = UnicodeStreamFilter(sys.stdout)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">'__main__'</span>:</span><br><span class=\"line\"></span><br><span class=\"line\">    print(<span class=\"string\">'本程序的查询结果可能会引起一些心理上的不适,请小心使用...'</span>)</span><br><span class=\"line\">    main()</span><br><span class=\"line\">    print(<span class=\"string\">'回车键退出...'</span>)</span><br></pre></td></tr></table></figure>\n<p>按照指示做即可。</p>"},{"title":"英语谚语-每日一句","date":"2016-03-12T02:51:05.000Z","_content":"\n#### 英语谚语-每日一句\n> English proverbs - Sentence of the day\n\n<!-- more -->\n\n##### 2016-03-12\n---\nGreat minds have purpose, others have wishes.\n伟大的人有目标， 平庸的人只有愿望。\n\n##### 2016-03-13\n---\nIf winter comes, can spring be far behind?\n冬天来了， 春天还会远吗？\n\n##### 2016-03-14\n---\nBehind the fear of an ideal you, you create the fear, you can beat him.\n恐惧的背后有一个理想的你，恐惧是你自己创造，你也可以打败他。\n\n##### 2016-03-15\n---\nThe best preparation for tomorrow is doing your best today.\n立足当下，赢在未来。\n\n##### 2016-03-16\n---\nThe more you care, the more you have to lose.\n在意的越多，失去的越多。\n\n##### 2016-03-17\n---\nAll sad people like poetry, happy people like songs.\n悲伤的人喜欢诗，幸福的人喜欢歌。\n\n##### 2016-03-18\n---\nLife's a little bit messy. We all make mistakes, No matter what type of animal you are, change starts with you.\n生活总会有点不顺意，我们都会犯错。天性如何并不重要，重要的是你开始改变。\n\n##### 2016-03-19\n---\nThe first wealth is health.\n健康是人生第一财富。\n\n##### 2016-03-20\n---\nSweat is the lubricant of success.\n汗水是成功的润滑剂。\n\n##### 2016-03-21\n---\nBe confident with yourself and stop worring what other people think. Do what's best for your future happiness.\n对自己要自信，别再管其他人怎么想了，为了未来幸福全力以赴吧！\n\n##### 2016-03-22\n---\nTrue mastery of any skill taskes a lifetime.\n对任何技能的掌握都需要一生的刻苦操练。\n\n##### 2016-03-23\n---\nYou're unique, nothing can replace you.\n你举世无双，无人可以替代。\n\n##### 2016-03-24\n---\nThe less you reveal the more people can wonder.\n越矜持神秘，越令人神往。--人间烟火0000译\n\n##### 2016-03-25\n---\nWe are as indestructible as we believe ourselves to be.\n如我所念，坚不可摧。--悄然翩跹译\n\n##### 2016-03-26\n---\nTo be close to your friend, but closer to your enemy.\n亲近你的朋友，但更要亲近你的敌人。--雪织天医译\n\n##### 2016-03-27\n---\nWhere there is life, there is hope.\n有生命必有希望。\n\n##### 2016-03-28\n---\nEven the smallest person can change the course of the future.\n即使是小人物，也可以改变未来。--清清me(~~)心译文\n\n##### 2016-03-29\n---\nIntelligence without ambition is a bird without wings.\n无志之才，如无翼之鸟。\n\n##### 2016-03-30\n---\nI have no secret of success but hard work.\n除辛勤工作之外，我别无成功的秘诀。\n\n##### 2016-03-31\n---\nThat man is the richest whose pleasures are the cheapest.\n能处处寻求快乐的人才是最富有的人。\n\n##### 2016-04-01\n---\nA smile is a curve that sets everything straight.\n微笑是一道弧线，去能把一切摆平。\n\n##### 2016-04-02\n---\nThink great thoughts and you will be great.\n心怀伟大的理想，你将会变得伟大。\n\n##### 2016-04-03\n---\nWe must hang together, or we'll be hanged separately.\n我们必须团结在一起，否则我们将被一个个绞死。\n\n##### 2016-04-04\n---\nLive well, love lots, and laugh often.\n善待生活，热爱一切，笑口常开。\n\n##### 2016-04-05\n---\nBut all sunshine without shade, all pleasure without pain, is not life at all.\n但只有阳光没有阴影，只有快乐没有痛苦，根本不是真正的生活。\n\n##### 2016-04-06\n---\nNever regret anything because at one time it was exactly what you wanted.\n不要后悔做任何事情，因为曾经有个时候，那正是你想要的。\n\n##### 2016-04-07\n---\nBeauty is an attitude. It has nothing to do with age.\n美，是一种态度，与年龄无关  --也许就这样译\n\n##### 2016-04-08\n---\nThe cloud stood humbly in a corner of the sky. The morning crowned it with splendor.\n白云谦卑地站在天边，晨光给它披上壮丽的光彩。 --泰戈尔","source":"_posts/英语谚语-每日一句.md","raw":"---\ntitle: 英语谚语-每日一句\ndate: 2016-03-12 10:51:05\ntags: [english]\ncategories: english\n---\n\n#### 英语谚语-每日一句\n> English proverbs - Sentence of the day\n\n<!-- more -->\n\n##### 2016-03-12\n---\nGreat minds have purpose, others have wishes.\n伟大的人有目标， 平庸的人只有愿望。\n\n##### 2016-03-13\n---\nIf winter comes, can spring be far behind?\n冬天来了， 春天还会远吗？\n\n##### 2016-03-14\n---\nBehind the fear of an ideal you, you create the fear, you can beat him.\n恐惧的背后有一个理想的你，恐惧是你自己创造，你也可以打败他。\n\n##### 2016-03-15\n---\nThe best preparation for tomorrow is doing your best today.\n立足当下，赢在未来。\n\n##### 2016-03-16\n---\nThe more you care, the more you have to lose.\n在意的越多，失去的越多。\n\n##### 2016-03-17\n---\nAll sad people like poetry, happy people like songs.\n悲伤的人喜欢诗，幸福的人喜欢歌。\n\n##### 2016-03-18\n---\nLife's a little bit messy. We all make mistakes, No matter what type of animal you are, change starts with you.\n生活总会有点不顺意，我们都会犯错。天性如何并不重要，重要的是你开始改变。\n\n##### 2016-03-19\n---\nThe first wealth is health.\n健康是人生第一财富。\n\n##### 2016-03-20\n---\nSweat is the lubricant of success.\n汗水是成功的润滑剂。\n\n##### 2016-03-21\n---\nBe confident with yourself and stop worring what other people think. Do what's best for your future happiness.\n对自己要自信，别再管其他人怎么想了，为了未来幸福全力以赴吧！\n\n##### 2016-03-22\n---\nTrue mastery of any skill taskes a lifetime.\n对任何技能的掌握都需要一生的刻苦操练。\n\n##### 2016-03-23\n---\nYou're unique, nothing can replace you.\n你举世无双，无人可以替代。\n\n##### 2016-03-24\n---\nThe less you reveal the more people can wonder.\n越矜持神秘，越令人神往。--人间烟火0000译\n\n##### 2016-03-25\n---\nWe are as indestructible as we believe ourselves to be.\n如我所念，坚不可摧。--悄然翩跹译\n\n##### 2016-03-26\n---\nTo be close to your friend, but closer to your enemy.\n亲近你的朋友，但更要亲近你的敌人。--雪织天医译\n\n##### 2016-03-27\n---\nWhere there is life, there is hope.\n有生命必有希望。\n\n##### 2016-03-28\n---\nEven the smallest person can change the course of the future.\n即使是小人物，也可以改变未来。--清清me(~~)心译文\n\n##### 2016-03-29\n---\nIntelligence without ambition is a bird without wings.\n无志之才，如无翼之鸟。\n\n##### 2016-03-30\n---\nI have no secret of success but hard work.\n除辛勤工作之外，我别无成功的秘诀。\n\n##### 2016-03-31\n---\nThat man is the richest whose pleasures are the cheapest.\n能处处寻求快乐的人才是最富有的人。\n\n##### 2016-04-01\n---\nA smile is a curve that sets everything straight.\n微笑是一道弧线，去能把一切摆平。\n\n##### 2016-04-02\n---\nThink great thoughts and you will be great.\n心怀伟大的理想，你将会变得伟大。\n\n##### 2016-04-03\n---\nWe must hang together, or we'll be hanged separately.\n我们必须团结在一起，否则我们将被一个个绞死。\n\n##### 2016-04-04\n---\nLive well, love lots, and laugh often.\n善待生活，热爱一切，笑口常开。\n\n##### 2016-04-05\n---\nBut all sunshine without shade, all pleasure without pain, is not life at all.\n但只有阳光没有阴影，只有快乐没有痛苦，根本不是真正的生活。\n\n##### 2016-04-06\n---\nNever regret anything because at one time it was exactly what you wanted.\n不要后悔做任何事情，因为曾经有个时候，那正是你想要的。\n\n##### 2016-04-07\n---\nBeauty is an attitude. It has nothing to do with age.\n美，是一种态度，与年龄无关  --也许就这样译\n\n##### 2016-04-08\n---\nThe cloud stood humbly in a corner of the sky. The morning crowned it with splendor.\n白云谦卑地站在天边，晨光给它披上壮丽的光彩。 --泰戈尔","slug":"英语谚语-每日一句","published":1,"updated":"2016-04-08T06:04:30.000Z","_id":"cimhc9h61000ipzv2pwuptzpu","comments":1,"layout":"post","photos":[],"link":"","content":"<h4 id=\"英语谚语-每日一句\"><a href=\"#英语谚语-每日一句\" class=\"headerlink\" title=\"英语谚语-每日一句\"></a>英语谚语-每日一句</h4><blockquote>\n<p>English proverbs - Sentence of the day</p>\n</blockquote>\n<a id=\"more\"></a>\n<h5 id=\"2016-03-12\"><a href=\"#2016-03-12\" class=\"headerlink\" title=\"2016-03-12\"></a>2016-03-12</h5><hr>\n<p>Great minds have purpose, others have wishes.<br>伟大的人有目标， 平庸的人只有愿望。</p>\n<h5 id=\"2016-03-13\"><a href=\"#2016-03-13\" class=\"headerlink\" title=\"2016-03-13\"></a>2016-03-13</h5><hr>\n<p>If winter comes, can spring be far behind?<br>冬天来了， 春天还会远吗？</p>\n<h5 id=\"2016-03-14\"><a href=\"#2016-03-14\" class=\"headerlink\" title=\"2016-03-14\"></a>2016-03-14</h5><hr>\n<p>Behind the fear of an ideal you, you create the fear, you can beat him.<br>恐惧的背后有一个理想的你，恐惧是你自己创造，你也可以打败他。</p>\n<h5 id=\"2016-03-15\"><a href=\"#2016-03-15\" class=\"headerlink\" title=\"2016-03-15\"></a>2016-03-15</h5><hr>\n<p>The best preparation for tomorrow is doing your best today.<br>立足当下，赢在未来。</p>\n<h5 id=\"2016-03-16\"><a href=\"#2016-03-16\" class=\"headerlink\" title=\"2016-03-16\"></a>2016-03-16</h5><hr>\n<p>The more you care, the more you have to lose.<br>在意的越多，失去的越多。</p>\n<h5 id=\"2016-03-17\"><a href=\"#2016-03-17\" class=\"headerlink\" title=\"2016-03-17\"></a>2016-03-17</h5><hr>\n<p>All sad people like poetry, happy people like songs.<br>悲伤的人喜欢诗，幸福的人喜欢歌。</p>\n<h5 id=\"2016-03-18\"><a href=\"#2016-03-18\" class=\"headerlink\" title=\"2016-03-18\"></a>2016-03-18</h5><hr>\n<p>Life’s a little bit messy. We all make mistakes, No matter what type of animal you are, change starts with you.<br>生活总会有点不顺意，我们都会犯错。天性如何并不重要，重要的是你开始改变。</p>\n<h5 id=\"2016-03-19\"><a href=\"#2016-03-19\" class=\"headerlink\" title=\"2016-03-19\"></a>2016-03-19</h5><hr>\n<p>The first wealth is health.<br>健康是人生第一财富。</p>\n<h5 id=\"2016-03-20\"><a href=\"#2016-03-20\" class=\"headerlink\" title=\"2016-03-20\"></a>2016-03-20</h5><hr>\n<p>Sweat is the lubricant of success.<br>汗水是成功的润滑剂。</p>\n<h5 id=\"2016-03-21\"><a href=\"#2016-03-21\" class=\"headerlink\" title=\"2016-03-21\"></a>2016-03-21</h5><hr>\n<p>Be confident with yourself and stop worring what other people think. Do what’s best for your future happiness.<br>对自己要自信，别再管其他人怎么想了，为了未来幸福全力以赴吧！</p>\n<h5 id=\"2016-03-22\"><a href=\"#2016-03-22\" class=\"headerlink\" title=\"2016-03-22\"></a>2016-03-22</h5><hr>\n<p>True mastery of any skill taskes a lifetime.<br>对任何技能的掌握都需要一生的刻苦操练。</p>\n<h5 id=\"2016-03-23\"><a href=\"#2016-03-23\" class=\"headerlink\" title=\"2016-03-23\"></a>2016-03-23</h5><hr>\n<p>You’re unique, nothing can replace you.<br>你举世无双，无人可以替代。</p>\n<h5 id=\"2016-03-24\"><a href=\"#2016-03-24\" class=\"headerlink\" title=\"2016-03-24\"></a>2016-03-24</h5><hr>\n<p>The less you reveal the more people can wonder.<br>越矜持神秘，越令人神往。–人间烟火0000译</p>\n<h5 id=\"2016-03-25\"><a href=\"#2016-03-25\" class=\"headerlink\" title=\"2016-03-25\"></a>2016-03-25</h5><hr>\n<p>We are as indestructible as we believe ourselves to be.<br>如我所念，坚不可摧。–悄然翩跹译</p>\n<h5 id=\"2016-03-26\"><a href=\"#2016-03-26\" class=\"headerlink\" title=\"2016-03-26\"></a>2016-03-26</h5><hr>\n<p>To be close to your friend, but closer to your enemy.<br>亲近你的朋友，但更要亲近你的敌人。–雪织天医译</p>\n<h5 id=\"2016-03-27\"><a href=\"#2016-03-27\" class=\"headerlink\" title=\"2016-03-27\"></a>2016-03-27</h5><hr>\n<p>Where there is life, there is hope.<br>有生命必有希望。</p>\n<h5 id=\"2016-03-28\"><a href=\"#2016-03-28\" class=\"headerlink\" title=\"2016-03-28\"></a>2016-03-28</h5><hr>\n<p>Even the smallest person can change the course of the future.<br>即使是小人物，也可以改变未来。–清清me(~~)心译文</p>\n<h5 id=\"2016-03-29\"><a href=\"#2016-03-29\" class=\"headerlink\" title=\"2016-03-29\"></a>2016-03-29</h5><hr>\n<p>Intelligence without ambition is a bird without wings.<br>无志之才，如无翼之鸟。</p>\n<h5 id=\"2016-03-30\"><a href=\"#2016-03-30\" class=\"headerlink\" title=\"2016-03-30\"></a>2016-03-30</h5><hr>\n<p>I have no secret of success but hard work.<br>除辛勤工作之外，我别无成功的秘诀。</p>\n<h5 id=\"2016-03-31\"><a href=\"#2016-03-31\" class=\"headerlink\" title=\"2016-03-31\"></a>2016-03-31</h5><hr>\n<p>That man is the richest whose pleasures are the cheapest.<br>能处处寻求快乐的人才是最富有的人。</p>\n<h5 id=\"2016-04-01\"><a href=\"#2016-04-01\" class=\"headerlink\" title=\"2016-04-01\"></a>2016-04-01</h5><hr>\n<p>A smile is a curve that sets everything straight.<br>微笑是一道弧线，去能把一切摆平。</p>\n<h5 id=\"2016-04-02\"><a href=\"#2016-04-02\" class=\"headerlink\" title=\"2016-04-02\"></a>2016-04-02</h5><hr>\n<p>Think great thoughts and you will be great.<br>心怀伟大的理想，你将会变得伟大。</p>\n<h5 id=\"2016-04-03\"><a href=\"#2016-04-03\" class=\"headerlink\" title=\"2016-04-03\"></a>2016-04-03</h5><hr>\n<p>We must hang together, or we’ll be hanged separately.<br>我们必须团结在一起，否则我们将被一个个绞死。</p>\n<h5 id=\"2016-04-04\"><a href=\"#2016-04-04\" class=\"headerlink\" title=\"2016-04-04\"></a>2016-04-04</h5><hr>\n<p>Live well, love lots, and laugh often.<br>善待生活，热爱一切，笑口常开。</p>\n<h5 id=\"2016-04-05\"><a href=\"#2016-04-05\" class=\"headerlink\" title=\"2016-04-05\"></a>2016-04-05</h5><hr>\n<p>But all sunshine without shade, all pleasure without pain, is not life at all.<br>但只有阳光没有阴影，只有快乐没有痛苦，根本不是真正的生活。</p>\n<h5 id=\"2016-04-06\"><a href=\"#2016-04-06\" class=\"headerlink\" title=\"2016-04-06\"></a>2016-04-06</h5><hr>\n<p>Never regret anything because at one time it was exactly what you wanted.<br>不要后悔做任何事情，因为曾经有个时候，那正是你想要的。</p>\n<h5 id=\"2016-04-07\"><a href=\"#2016-04-07\" class=\"headerlink\" title=\"2016-04-07\"></a>2016-04-07</h5><hr>\n<p>Beauty is an attitude. It has nothing to do with age.<br>美，是一种态度，与年龄无关  –也许就这样译</p>\n<h5 id=\"2016-04-08\"><a href=\"#2016-04-08\" class=\"headerlink\" title=\"2016-04-08\"></a>2016-04-08</h5><hr>\n<p>The cloud stood humbly in a corner of the sky. The morning crowned it with splendor.<br>白云谦卑地站在天边，晨光给它披上壮丽的光彩。 –泰戈尔</p>\n","excerpt":"<h4 id=\"英语谚语-每日一句\"><a href=\"#英语谚语-每日一句\" class=\"headerlink\" title=\"英语谚语-每日一句\"></a>英语谚语-每日一句</h4><blockquote>\n<p>English proverbs - Sentence of the day</p>\n</blockquote>","more":"<h5 id=\"2016-03-12\"><a href=\"#2016-03-12\" class=\"headerlink\" title=\"2016-03-12\"></a>2016-03-12</h5><hr>\n<p>Great minds have purpose, others have wishes.<br>伟大的人有目标， 平庸的人只有愿望。</p>\n<h5 id=\"2016-03-13\"><a href=\"#2016-03-13\" class=\"headerlink\" title=\"2016-03-13\"></a>2016-03-13</h5><hr>\n<p>If winter comes, can spring be far behind?<br>冬天来了， 春天还会远吗？</p>\n<h5 id=\"2016-03-14\"><a href=\"#2016-03-14\" class=\"headerlink\" title=\"2016-03-14\"></a>2016-03-14</h5><hr>\n<p>Behind the fear of an ideal you, you create the fear, you can beat him.<br>恐惧的背后有一个理想的你，恐惧是你自己创造，你也可以打败他。</p>\n<h5 id=\"2016-03-15\"><a href=\"#2016-03-15\" class=\"headerlink\" title=\"2016-03-15\"></a>2016-03-15</h5><hr>\n<p>The best preparation for tomorrow is doing your best today.<br>立足当下，赢在未来。</p>\n<h5 id=\"2016-03-16\"><a href=\"#2016-03-16\" class=\"headerlink\" title=\"2016-03-16\"></a>2016-03-16</h5><hr>\n<p>The more you care, the more you have to lose.<br>在意的越多，失去的越多。</p>\n<h5 id=\"2016-03-17\"><a href=\"#2016-03-17\" class=\"headerlink\" title=\"2016-03-17\"></a>2016-03-17</h5><hr>\n<p>All sad people like poetry, happy people like songs.<br>悲伤的人喜欢诗，幸福的人喜欢歌。</p>\n<h5 id=\"2016-03-18\"><a href=\"#2016-03-18\" class=\"headerlink\" title=\"2016-03-18\"></a>2016-03-18</h5><hr>\n<p>Life’s a little bit messy. We all make mistakes, No matter what type of animal you are, change starts with you.<br>生活总会有点不顺意，我们都会犯错。天性如何并不重要，重要的是你开始改变。</p>\n<h5 id=\"2016-03-19\"><a href=\"#2016-03-19\" class=\"headerlink\" title=\"2016-03-19\"></a>2016-03-19</h5><hr>\n<p>The first wealth is health.<br>健康是人生第一财富。</p>\n<h5 id=\"2016-03-20\"><a href=\"#2016-03-20\" class=\"headerlink\" title=\"2016-03-20\"></a>2016-03-20</h5><hr>\n<p>Sweat is the lubricant of success.<br>汗水是成功的润滑剂。</p>\n<h5 id=\"2016-03-21\"><a href=\"#2016-03-21\" class=\"headerlink\" title=\"2016-03-21\"></a>2016-03-21</h5><hr>\n<p>Be confident with yourself and stop worring what other people think. Do what’s best for your future happiness.<br>对自己要自信，别再管其他人怎么想了，为了未来幸福全力以赴吧！</p>\n<h5 id=\"2016-03-22\"><a href=\"#2016-03-22\" class=\"headerlink\" title=\"2016-03-22\"></a>2016-03-22</h5><hr>\n<p>True mastery of any skill taskes a lifetime.<br>对任何技能的掌握都需要一生的刻苦操练。</p>\n<h5 id=\"2016-03-23\"><a href=\"#2016-03-23\" class=\"headerlink\" title=\"2016-03-23\"></a>2016-03-23</h5><hr>\n<p>You’re unique, nothing can replace you.<br>你举世无双，无人可以替代。</p>\n<h5 id=\"2016-03-24\"><a href=\"#2016-03-24\" class=\"headerlink\" title=\"2016-03-24\"></a>2016-03-24</h5><hr>\n<p>The less you reveal the more people can wonder.<br>越矜持神秘，越令人神往。–人间烟火0000译</p>\n<h5 id=\"2016-03-25\"><a href=\"#2016-03-25\" class=\"headerlink\" title=\"2016-03-25\"></a>2016-03-25</h5><hr>\n<p>We are as indestructible as we believe ourselves to be.<br>如我所念，坚不可摧。–悄然翩跹译</p>\n<h5 id=\"2016-03-26\"><a href=\"#2016-03-26\" class=\"headerlink\" title=\"2016-03-26\"></a>2016-03-26</h5><hr>\n<p>To be close to your friend, but closer to your enemy.<br>亲近你的朋友，但更要亲近你的敌人。–雪织天医译</p>\n<h5 id=\"2016-03-27\"><a href=\"#2016-03-27\" class=\"headerlink\" title=\"2016-03-27\"></a>2016-03-27</h5><hr>\n<p>Where there is life, there is hope.<br>有生命必有希望。</p>\n<h5 id=\"2016-03-28\"><a href=\"#2016-03-28\" class=\"headerlink\" title=\"2016-03-28\"></a>2016-03-28</h5><hr>\n<p>Even the smallest person can change the course of the future.<br>即使是小人物，也可以改变未来。–清清me(~~)心译文</p>\n<h5 id=\"2016-03-29\"><a href=\"#2016-03-29\" class=\"headerlink\" title=\"2016-03-29\"></a>2016-03-29</h5><hr>\n<p>Intelligence without ambition is a bird without wings.<br>无志之才，如无翼之鸟。</p>\n<h5 id=\"2016-03-30\"><a href=\"#2016-03-30\" class=\"headerlink\" title=\"2016-03-30\"></a>2016-03-30</h5><hr>\n<p>I have no secret of success but hard work.<br>除辛勤工作之外，我别无成功的秘诀。</p>\n<h5 id=\"2016-03-31\"><a href=\"#2016-03-31\" class=\"headerlink\" title=\"2016-03-31\"></a>2016-03-31</h5><hr>\n<p>That man is the richest whose pleasures are the cheapest.<br>能处处寻求快乐的人才是最富有的人。</p>\n<h5 id=\"2016-04-01\"><a href=\"#2016-04-01\" class=\"headerlink\" title=\"2016-04-01\"></a>2016-04-01</h5><hr>\n<p>A smile is a curve that sets everything straight.<br>微笑是一道弧线，去能把一切摆平。</p>\n<h5 id=\"2016-04-02\"><a href=\"#2016-04-02\" class=\"headerlink\" title=\"2016-04-02\"></a>2016-04-02</h5><hr>\n<p>Think great thoughts and you will be great.<br>心怀伟大的理想，你将会变得伟大。</p>\n<h5 id=\"2016-04-03\"><a href=\"#2016-04-03\" class=\"headerlink\" title=\"2016-04-03\"></a>2016-04-03</h5><hr>\n<p>We must hang together, or we’ll be hanged separately.<br>我们必须团结在一起，否则我们将被一个个绞死。</p>\n<h5 id=\"2016-04-04\"><a href=\"#2016-04-04\" class=\"headerlink\" title=\"2016-04-04\"></a>2016-04-04</h5><hr>\n<p>Live well, love lots, and laugh often.<br>善待生活，热爱一切，笑口常开。</p>\n<h5 id=\"2016-04-05\"><a href=\"#2016-04-05\" class=\"headerlink\" title=\"2016-04-05\"></a>2016-04-05</h5><hr>\n<p>But all sunshine without shade, all pleasure without pain, is not life at all.<br>但只有阳光没有阴影，只有快乐没有痛苦，根本不是真正的生活。</p>\n<h5 id=\"2016-04-06\"><a href=\"#2016-04-06\" class=\"headerlink\" title=\"2016-04-06\"></a>2016-04-06</h5><hr>\n<p>Never regret anything because at one time it was exactly what you wanted.<br>不要后悔做任何事情，因为曾经有个时候，那正是你想要的。</p>\n<h5 id=\"2016-04-07\"><a href=\"#2016-04-07\" class=\"headerlink\" title=\"2016-04-07\"></a>2016-04-07</h5><hr>\n<p>Beauty is an attitude. It has nothing to do with age.<br>美，是一种态度，与年龄无关  –也许就这样译</p>\n<h5 id=\"2016-04-08\"><a href=\"#2016-04-08\" class=\"headerlink\" title=\"2016-04-08\"></a>2016-04-08</h5><hr>\n<p>The cloud stood humbly in a corner of the sky. The morning crowned it with splendor.<br>白云谦卑地站在天边，晨光给它披上壮丽的光彩。 –泰戈尔</p>"},{"title":"Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7","date":"2016-03-20T04:15:20.000Z","_content":"\n# Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7\n\n### 与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:\n> 初始化方式改变，从`scripts/mysql_install_db --user=mysql` 初始化方式变成了`bin/mysqld --initialize --user=mysql`方式；\n> 初始密码生成改变, 5.6 的版本在 tar gz 方式初始化完成后默认 root 密码为空, 5.7 版本在初始化完成后会生成一个临时的 root 密码。\n\n<!-- more -->\n```\n系统环境: OS X El Capitan 10.11.1\n登录用户: wid (有 sudo 权限)\nMySQL 版本: 5.7.9 (mysql-5.7.9-osx10.10-x86_64.tar.gz)\nMySQL下载: http://dev.mysql.com/downloads/mysql/\n```\n### 和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:\n\n```\n# 解压\ncd /Users/<YourName>/Downloads\ntar zxvf mysql-5.7.9-osx10.10-x86_64.tar.gz\n\n# 移动解压后的二进制包到安装目录\nsudo mv mysql-5.7.9-osx10.10-x86_64 /usr/local/mysql\n\n# 更改 mysql 安装目录所属用户与用户组\ncd /usr/local\nsudo chown -R root:wheel mysql\n\n# 切换到 mysql 安装目录并执行初始化命令并记录生成的临时 root 密码\ncd /usr/local/mysql\nsudo bin/mysqld --initialize --user=mysql\n```\n **注意**:需要记录在初始化完成后命令行窗口中显示的临时 root 密码, 如图:\n ![mysql-pwd-pic](http://7xpj58.com1.z0.glb.clouddn.com/20160320mysql.png)\n\n### 测试启动、重启与停止:\n\n```\ncd /usr/local/mysql\n\n# 启动\nsudo support-files/mysql.server start\n\n# 重启\nsudo support-files/mysql.server restart\n\n# 停止\nsudo support-files/mysql.server stop\n\n# 检查 MySQL 运行状态\nsudo support-files/mysql.server status\n```\n### 修改 MySQL root 初始密码\n\n```\n# 需要 MySQL 服务在运行状态执行\ncd /usr/local/mysql/bin\n./mysqladmin -u root -p password 新密码\n输入生成的临时密码↵\n```\n\n\n","source":"_posts/Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7.md","raw":"---\ntitle: Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7\ndate: 2016-03-20 12:15:20\ntags: [mysql, 数据库, mac]\ncategories: mac\n---\n\n# Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7\n\n### 与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:\n> 初始化方式改变，从`scripts/mysql_install_db --user=mysql` 初始化方式变成了`bin/mysqld --initialize --user=mysql`方式；\n> 初始密码生成改变, 5.6 的版本在 tar gz 方式初始化完成后默认 root 密码为空, 5.7 版本在初始化完成后会生成一个临时的 root 密码。\n\n<!-- more -->\n```\n系统环境: OS X El Capitan 10.11.1\n登录用户: wid (有 sudo 权限)\nMySQL 版本: 5.7.9 (mysql-5.7.9-osx10.10-x86_64.tar.gz)\nMySQL下载: http://dev.mysql.com/downloads/mysql/\n```\n### 和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:\n\n```\n# 解压\ncd /Users/<YourName>/Downloads\ntar zxvf mysql-5.7.9-osx10.10-x86_64.tar.gz\n\n# 移动解压后的二进制包到安装目录\nsudo mv mysql-5.7.9-osx10.10-x86_64 /usr/local/mysql\n\n# 更改 mysql 安装目录所属用户与用户组\ncd /usr/local\nsudo chown -R root:wheel mysql\n\n# 切换到 mysql 安装目录并执行初始化命令并记录生成的临时 root 密码\ncd /usr/local/mysql\nsudo bin/mysqld --initialize --user=mysql\n```\n **注意**:需要记录在初始化完成后命令行窗口中显示的临时 root 密码, 如图:\n ![mysql-pwd-pic](http://7xpj58.com1.z0.glb.clouddn.com/20160320mysql.png)\n\n### 测试启动、重启与停止:\n\n```\ncd /usr/local/mysql\n\n# 启动\nsudo support-files/mysql.server start\n\n# 重启\nsudo support-files/mysql.server restart\n\n# 停止\nsudo support-files/mysql.server stop\n\n# 检查 MySQL 运行状态\nsudo support-files/mysql.server status\n```\n### 修改 MySQL root 初始密码\n\n```\n# 需要 MySQL 服务在运行状态执行\ncd /usr/local/mysql/bin\n./mysqladmin -u root -p password 新密码\n输入生成的临时密码↵\n```\n\n\n","slug":"Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7","published":1,"updated":"2016-03-20T04:22:13.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h63000mpzv2vgr6yl4h","content":"<h1 id=\"Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7\"><a href=\"#Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7\" class=\"headerlink\" title=\"Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7\"></a>Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7</h1><h3 id=\"与-MySQL-5-6-相比-5-7-版本在安装时有两处不同\"><a href=\"#与-MySQL-5-6-相比-5-7-版本在安装时有两处不同\" class=\"headerlink\" title=\"与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:\"></a>与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:</h3><blockquote>\n<p>初始化方式改变，从<code>scripts/mysql_install_db --user=mysql</code> 初始化方式变成了<code>bin/mysqld --initialize --user=mysql</code>方式；<br>初始密码生成改变, 5.6 的版本在 tar gz 方式初始化完成后默认 root 密码为空, 5.7 版本在初始化完成后会生成一个临时的 root 密码。</p>\n</blockquote>\n<a id=\"more\"></a>\n<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">系统环境: OS X El Capitan <span class=\"number\">10.11</span>.<span class=\"number\">1</span></span><br><span class=\"line\">登录用户: wid (有 sudo 权限)</span><br><span class=\"line\">MySQL 版本: <span class=\"number\">5.7</span>.<span class=\"number\">9</span> (mysql-<span class=\"number\">5.7</span>.<span class=\"number\">9</span>-osx10.<span class=\"number\">10</span>-x86_64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>)</span><br><span class=\"line\">MySQL下载: http:<span class=\"comment\">//dev.mysql.com/downloads/mysql/</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"和-MySQL-5-6-tar-gz-安装方式一样-解压并移动到指定安装目录中并执行初始化\"><a href=\"#和-MySQL-5-6-tar-gz-安装方式一样-解压并移动到指定安装目录中并执行初始化\" class=\"headerlink\" title=\"和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:\"></a>和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 解压</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /Users/&lt;YourName&gt;/Downloads</span><br><span class=\"line\">tar zxvf mysql-5.7.9-osx10.10-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 移动解压后的二进制包到安装目录</span></span><br><span class=\"line\">sudo mv mysql-5.7.9-osx10.10-x86_64 /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 更改 mysql 安装目录所属用户与用户组</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span></span><br><span class=\"line\">sudo chown -R root:wheel mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 切换到 mysql 安装目录并执行初始化命令并记录生成的临时 root 密码</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\">sudo bin/mysqld --initialize --user=mysql</span><br></pre></td></tr></table></figure>\n<p> <strong>注意</strong>:需要记录在初始化完成后命令行窗口中显示的临时 root 密码, 如图:<br> <img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160320mysql.png\" alt=\"mysql-pwd-pic\"></p>\n<h3 id=\"测试启动、重启与停止\"><a href=\"#测试启动、重启与停止\" class=\"headerlink\" title=\"测试启动、重启与停止:\"></a>测试启动、重启与停止:</h3><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server <span class=\"built_in\">start</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重启</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server restart</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 停止</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server <span class=\"built_in\">stop</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 检查 MySQL 运行状态</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server status</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改-MySQL-root-初始密码\"><a href=\"#修改-MySQL-root-初始密码\" class=\"headerlink\" title=\"修改 MySQL root 初始密码\"></a>修改 MySQL root 初始密码</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 需要 MySQL 服务在运行状态执行</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/mysql/bin</span><br><span class=\"line\">./mysqladmin -u root -p password 新密码</span><br><span class=\"line\">输入生成的临时密码↵</span><br></pre></td></tr></table></figure>\n","excerpt":"<h1 id=\"Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7\"><a href=\"#Mac-OS-X-下-TAR-GZ-方式安装-MySQL-5-7\" class=\"headerlink\" title=\"Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7\"></a>Mac OS X 下 TAR.GZ 方式安装 MySQL 5.7</h1><h3 id=\"与-MySQL-5-6-相比-5-7-版本在安装时有两处不同\"><a href=\"#与-MySQL-5-6-相比-5-7-版本在安装时有两处不同\" class=\"headerlink\" title=\"与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:\"></a>与 MySQL 5.6 相比, 5.7 版本在安装时有两处不同:</h3><blockquote>\n<p>初始化方式改变，从<code>scripts/mysql_install_db --user=mysql</code> 初始化方式变成了<code>bin/mysqld --initialize --user=mysql</code>方式；<br>初始密码生成改变, 5.6 的版本在 tar gz 方式初始化完成后默认 root 密码为空, 5.7 版本在初始化完成后会生成一个临时的 root 密码。</p>\n</blockquote>","more":"<figure class=\"highlight stylus\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">系统环境: OS X El Capitan <span class=\"number\">10.11</span>.<span class=\"number\">1</span></span><br><span class=\"line\">登录用户: wid (有 sudo 权限)</span><br><span class=\"line\">MySQL 版本: <span class=\"number\">5.7</span>.<span class=\"number\">9</span> (mysql-<span class=\"number\">5.7</span>.<span class=\"number\">9</span>-osx10.<span class=\"number\">10</span>-x86_64<span class=\"selector-class\">.tar</span><span class=\"selector-class\">.gz</span>)</span><br><span class=\"line\">MySQL下载: http:<span class=\"comment\">//dev.mysql.com/downloads/mysql/</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"和-MySQL-5-6-tar-gz-安装方式一样-解压并移动到指定安装目录中并执行初始化\"><a href=\"#和-MySQL-5-6-tar-gz-安装方式一样-解压并移动到指定安装目录中并执行初始化\" class=\"headerlink\" title=\"和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:\"></a>和 MySQL 5.6 tar gz 安装方式一样, 解压并移动到指定安装目录中并执行初始化:</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 解压</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /Users/&lt;YourName&gt;/Downloads</span><br><span class=\"line\">tar zxvf mysql-5.7.9-osx10.10-x86_64.tar.gz</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 移动解压后的二进制包到安装目录</span></span><br><span class=\"line\">sudo mv mysql-5.7.9-osx10.10-x86_64 /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 更改 mysql 安装目录所属用户与用户组</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span></span><br><span class=\"line\">sudo chown -R root:wheel mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 切换到 mysql 安装目录并执行初始化命令并记录生成的临时 root 密码</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\">sudo bin/mysqld --initialize --user=mysql</span><br></pre></td></tr></table></figure>\n<p> <strong>注意</strong>:需要记录在初始化完成后命令行窗口中显示的临时 root 密码, 如图:<br> <img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160320mysql.png\" alt=\"mysql-pwd-pic\"></p>\n<h3 id=\"测试启动、重启与停止\"><a href=\"#测试启动、重启与停止\" class=\"headerlink\" title=\"测试启动、重启与停止:\"></a>测试启动、重启与停止:</h3><figure class=\"highlight livecodeserver\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">cd /usr/<span class=\"built_in\">local</span>/mysql</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 启动</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server <span class=\"built_in\">start</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 重启</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server restart</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 停止</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server <span class=\"built_in\">stop</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 检查 MySQL 运行状态</span></span><br><span class=\"line\">sudo support-<span class=\"built_in\">files</span>/mysql.server status</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改-MySQL-root-初始密码\"><a href=\"#修改-MySQL-root-初始密码\" class=\"headerlink\" title=\"修改 MySQL root 初始密码\"></a>修改 MySQL root 初始密码</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 需要 MySQL 服务在运行状态执行</span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> /usr/<span class=\"built_in\">local</span>/mysql/bin</span><br><span class=\"line\">./mysqladmin -u root -p password 新密码</span><br><span class=\"line\">输入生成的临时密码↵</span><br></pre></td></tr></table></figure>"},{"title":"常用 Git 命令清单","date":"2016-03-13T17:03:14.000Z","_content":"# 常用 Git 命令清单\n\n一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。\n\n![git structer picture](http://7xpj58.com1.z0.glb.clouddn.com/675733-cc81d1c02c093efa.png)\n\n下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。\n\n* Workspace: 工作区\n* Index / Stage: 暂存区\n* Repository: 仓库区（或本地仓库）\n* Remote: 远程仓库\n\n<!-- more -->\n## 一、新建代码库\n\n`````\n#在当前目录新建一个Git代码库\n$ git init\n\n# 新建一个目录，将其初始化为Git代码库\n$ git init [project-name]\n\n# 下载一个项目和它的整个代码历史\n$ git clone [url]\n`````\n## 二、配置\nGit的设置文件`.gitconfig`,它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。\n\n`````\n# 显示当前的Git配置\n$ git config --list\n\n# 编辑Git配置文件\n$ git config -e [--global]\n\n# 设置提交代码时的用户信息\n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n`````\n## 三、增加/删除文件\n`````\n# 添加指定文件到暂存区\n$ git add [file1] [file2] ...\n\n# 添加指定目录到暂存区，包括子目录\n$ git add [dir]\n\n# 添加当前目录的所有文件到暂存区\n$ git add .\n\n# 添加每个变化前，都会要求确认\n# 对于同一个文件的多处变化，可以实现分次提交\n$ git add -p\n\n# 删除工作区文件，并且将这次删除放入暂存区\n$ git rm [file1] [file2] ...\n\n# 停止追踪指定文件，但该文件会保留在工作区\n$ git rm --cached [file]\n\n# 改名文件，并且将这个改名放入暂存区\n$ git mv [file-original] [file-renamed]\n`````\n\n## 四、代码提交\n\n`````\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n`````\n## 五、分支\n\n`````\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n`````\n\n## 六、标签\n  \n  `````\n  # 列出所有tag\n$ git tag\n\n# 新建一个tag在当前commit\n$ git tag [tag]\n\n# 新建一个tag在指定commit\n$ git tag [tag] [commit]\n\n# 删除本地tag\n$ git tag -d [tag]\n\n# 删除远程tag\n$ git push origin :refs/tags/[tagName]\n\n# 查看tag信息\n$ git show [tag]\n\n# 提交指定tag\n$ git push [remote] [tag]\n\n# 提交所有tag\n$ git push [remote] --tags\n\n# 新建一个分支，指向某个tag\n$ git checkout -b [branch] [tag]\n  `````\n\n## 七、查看信息\n\n`````\n# 显示有变更的文件\n$ git status\n\n# 显示当前分支的版本历史\n$ git log\n\n# 显示commit历史，以及每次commit发生变更的文件\n$ git log --stat\n\n# 搜索提交历史，根据关键词\n$ git log -S [keyword]\n\n# 显示某个commit之后的所有变动，每个commit占据一行\n$ git log [tag] HEAD --pretty=format:%s\n\n# 显示某个commit之后的所有变动，其\"提交说明\"必须符合搜索条件\n$ git log [tag] HEAD --grep feature\n\n# 显示某个文件的版本历史，包括文件改名\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# 显示指定文件相关的每一次diff\n$ git log -p [file]\n\n# 显示过去5次提交\n$ git log -5 --pretty --oneline\n\n# 显示所有提交过的用户，按提交次数排序\n$ git shortlog -sn\n\n# 显示指定文件是什么人在什么时间修改过\n$ git blame [file]\n\n# 显示暂存区和工作区的差异\n$ git diff\n\n# 显示暂存区和上一个commit的差异\n$ git diff --cached [file]\n\n# 显示工作区与当前分支最新commit之间的差异\n$ git diff HEAD\n\n# 显示两次提交之间的差异\n$ git diff [first-branch]...[second-branch]\n\n# 显示今天你写了多少行代码\n$ git diff --shortstat \"@{0 day ago}\"\n\n# 显示某次提交的元数据和内容变化\n$ git show [commit]\n\n# 显示某次提交发生变化的文件\n$ git show --name-only [commit]\n\n# 显示某次提交时，某个文件的内容\n$ git show [commit]:[filename]\n\n# 显示当前分支的最近几次提交\n$ git reflog\n\n`````\n\n## 八、远程同步\n\n`````\n# 下载远程仓库的所有变动\n$ git fetch [remote]\n\n# 显示所有远程仓库\n$ git remote -v\n\n# 显示某个远程仓库的信息\n$ git remote show [remote]\n\n# 增加一个新的远程仓库，并命名\n$ git remote add [shortname] [url]\n\n# 取回远程仓库的变化，并与本地分支合并\n$ git pull [remote] [branch]\n\n# 上传本地指定分支到远程仓库\n$ git push [remote] [branch]\n\n# 强行推送当前分支到远程仓库，即使有冲突\n$ git push [remote] --force\n\n# 推送所有分支到远程仓库\n$ git push [remote] --all\n\n`````\n\n## 九、撤销\n\n`````\n# 恢复暂存区的指定文件到工作区\n$ git checkout [file]\n\n# 恢复某个commit的指定文件到暂存区和工作区\n$ git checkout [commit] [file]\n\n# 恢复暂存区的所有文件到工作区\n$ git checkout .\n\n# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变\n$ git reset [file]\n\n# 重置暂存区与工作区，与上一次commit保持一致\n$ git reset --hard\n\n# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变\n$ git reset [commit]\n\n# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致\n$ git reset --hard [commit]\n\n# 重置当前HEAD为指定commit，但保持暂存区和工作区不变\n$ git reset --keep [commit]\n\n# 新建一个commit，用来撤销指定commit\n# 后者的所有变化都将被前者抵消，并且应用到当前分支\n$ git revert [commit]\n\n# 暂时将未提交的变化移除，稍后再移入\n$ git stash\n$ git stash pop\n`````\n\n## 十、其他\n\n`````\n# 生成一个可供发布的压缩包\n$ git archive\n`````\n\n\n> 作者：阮一峰\n> 文章源自：http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html\n\n\n\n","source":"_posts/常用-Git-命令清单.md","raw":"---\ntitle: 常用 Git 命令清单\ndate: 2016-03-14 01:03:14\ntags: [Git]\ncategories: Git\n---\n# 常用 Git 命令清单\n\n一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。\n\n![git structer picture](http://7xpj58.com1.z0.glb.clouddn.com/675733-cc81d1c02c093efa.png)\n\n下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。\n\n* Workspace: 工作区\n* Index / Stage: 暂存区\n* Repository: 仓库区（或本地仓库）\n* Remote: 远程仓库\n\n<!-- more -->\n## 一、新建代码库\n\n`````\n#在当前目录新建一个Git代码库\n$ git init\n\n# 新建一个目录，将其初始化为Git代码库\n$ git init [project-name]\n\n# 下载一个项目和它的整个代码历史\n$ git clone [url]\n`````\n## 二、配置\nGit的设置文件`.gitconfig`,它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。\n\n`````\n# 显示当前的Git配置\n$ git config --list\n\n# 编辑Git配置文件\n$ git config -e [--global]\n\n# 设置提交代码时的用户信息\n$ git config [--global] user.name \"[name]\"\n$ git config [--global] user.email \"[email address]\"\n`````\n## 三、增加/删除文件\n`````\n# 添加指定文件到暂存区\n$ git add [file1] [file2] ...\n\n# 添加指定目录到暂存区，包括子目录\n$ git add [dir]\n\n# 添加当前目录的所有文件到暂存区\n$ git add .\n\n# 添加每个变化前，都会要求确认\n# 对于同一个文件的多处变化，可以实现分次提交\n$ git add -p\n\n# 删除工作区文件，并且将这次删除放入暂存区\n$ git rm [file1] [file2] ...\n\n# 停止追踪指定文件，但该文件会保留在工作区\n$ git rm --cached [file]\n\n# 改名文件，并且将这个改名放入暂存区\n$ git mv [file-original] [file-renamed]\n`````\n\n## 四、代码提交\n\n`````\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n`````\n## 五、分支\n\n`````\n# 提交暂存区到仓库区\n$ git commit -m [message]\n\n# 提交暂存区的指定文件到仓库区\n$ git commit [file1] [file2] ... -m [message]\n\n# 提交工作区自上次commit之后的变化，直接到仓库区\n$ git commit -a\n\n# 提交时显示所有diff信息\n$ git commit -v\n\n# 使用一次新的commit，替代上一次提交\n# 如果代码没有任何新变化，则用来改写上一次commit的提交信息\n$ git commit --amend -m [message]\n\n# 重做上一次commit，并包括指定文件的新变化\n$ git commit --amend [file1] [file2] ...\n`````\n\n## 六、标签\n  \n  `````\n  # 列出所有tag\n$ git tag\n\n# 新建一个tag在当前commit\n$ git tag [tag]\n\n# 新建一个tag在指定commit\n$ git tag [tag] [commit]\n\n# 删除本地tag\n$ git tag -d [tag]\n\n# 删除远程tag\n$ git push origin :refs/tags/[tagName]\n\n# 查看tag信息\n$ git show [tag]\n\n# 提交指定tag\n$ git push [remote] [tag]\n\n# 提交所有tag\n$ git push [remote] --tags\n\n# 新建一个分支，指向某个tag\n$ git checkout -b [branch] [tag]\n  `````\n\n## 七、查看信息\n\n`````\n# 显示有变更的文件\n$ git status\n\n# 显示当前分支的版本历史\n$ git log\n\n# 显示commit历史，以及每次commit发生变更的文件\n$ git log --stat\n\n# 搜索提交历史，根据关键词\n$ git log -S [keyword]\n\n# 显示某个commit之后的所有变动，每个commit占据一行\n$ git log [tag] HEAD --pretty=format:%s\n\n# 显示某个commit之后的所有变动，其\"提交说明\"必须符合搜索条件\n$ git log [tag] HEAD --grep feature\n\n# 显示某个文件的版本历史，包括文件改名\n$ git log --follow [file]\n$ git whatchanged [file]\n\n# 显示指定文件相关的每一次diff\n$ git log -p [file]\n\n# 显示过去5次提交\n$ git log -5 --pretty --oneline\n\n# 显示所有提交过的用户，按提交次数排序\n$ git shortlog -sn\n\n# 显示指定文件是什么人在什么时间修改过\n$ git blame [file]\n\n# 显示暂存区和工作区的差异\n$ git diff\n\n# 显示暂存区和上一个commit的差异\n$ git diff --cached [file]\n\n# 显示工作区与当前分支最新commit之间的差异\n$ git diff HEAD\n\n# 显示两次提交之间的差异\n$ git diff [first-branch]...[second-branch]\n\n# 显示今天你写了多少行代码\n$ git diff --shortstat \"@{0 day ago}\"\n\n# 显示某次提交的元数据和内容变化\n$ git show [commit]\n\n# 显示某次提交发生变化的文件\n$ git show --name-only [commit]\n\n# 显示某次提交时，某个文件的内容\n$ git show [commit]:[filename]\n\n# 显示当前分支的最近几次提交\n$ git reflog\n\n`````\n\n## 八、远程同步\n\n`````\n# 下载远程仓库的所有变动\n$ git fetch [remote]\n\n# 显示所有远程仓库\n$ git remote -v\n\n# 显示某个远程仓库的信息\n$ git remote show [remote]\n\n# 增加一个新的远程仓库，并命名\n$ git remote add [shortname] [url]\n\n# 取回远程仓库的变化，并与本地分支合并\n$ git pull [remote] [branch]\n\n# 上传本地指定分支到远程仓库\n$ git push [remote] [branch]\n\n# 强行推送当前分支到远程仓库，即使有冲突\n$ git push [remote] --force\n\n# 推送所有分支到远程仓库\n$ git push [remote] --all\n\n`````\n\n## 九、撤销\n\n`````\n# 恢复暂存区的指定文件到工作区\n$ git checkout [file]\n\n# 恢复某个commit的指定文件到暂存区和工作区\n$ git checkout [commit] [file]\n\n# 恢复暂存区的所有文件到工作区\n$ git checkout .\n\n# 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变\n$ git reset [file]\n\n# 重置暂存区与工作区，与上一次commit保持一致\n$ git reset --hard\n\n# 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变\n$ git reset [commit]\n\n# 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致\n$ git reset --hard [commit]\n\n# 重置当前HEAD为指定commit，但保持暂存区和工作区不变\n$ git reset --keep [commit]\n\n# 新建一个commit，用来撤销指定commit\n# 后者的所有变化都将被前者抵消，并且应用到当前分支\n$ git revert [commit]\n\n# 暂时将未提交的变化移除，稍后再移入\n$ git stash\n$ git stash pop\n`````\n\n## 十、其他\n\n`````\n# 生成一个可供发布的压缩包\n$ git archive\n`````\n\n\n> 作者：阮一峰\n> 文章源自：http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html\n\n\n\n","slug":"常用-Git-命令清单","published":1,"updated":"2016-03-13T17:13:11.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h65000npzv2d7qggcey","content":"<h1 id=\"常用-Git-命令清单\"><a href=\"#常用-Git-命令清单\" class=\"headerlink\" title=\"常用 Git 命令清单\"></a>常用 Git 命令清单</h1><p>一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。</p>\n<p><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/675733-cc81d1c02c093efa.png\" alt=\"git structer picture\"></p>\n<p>下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。</p>\n<ul>\n<li>Workspace: 工作区</li>\n<li>Index / Stage: 暂存区</li>\n<li>Repository: 仓库区（或本地仓库）</li>\n<li>Remote: 远程仓库</li>\n</ul>\n<a id=\"more\"></a>\n<h2 id=\"一、新建代码库\"><a href=\"#一、新建代码库\" class=\"headerlink\" title=\"一、新建代码库\"></a>一、新建代码库</h2><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#在当前目录新建一个Git代码库</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个目录，将其初始化为Git代码库</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 下载一个项目和它的整个代码历史</span></span><br><span class=\"line\">$ git <span class=\"keyword\">clone</span> <span class=\"title\">[url</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"二、配置\"><a href=\"#二、配置\" class=\"headerlink\" title=\"二、配置\"></a>二、配置</h2><p>Git的设置文件<code>.gitconfig</code>,它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 显示当前的Git配置</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 编辑Git配置文件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> -e [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 设置提交代码时的用户信息</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"三、增加-删除文件\"><a href=\"#三、增加-删除文件\" class=\"headerlink\" title=\"三、增加/删除文件\"></a>三、增加/删除文件</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 添加指定文件到暂存区</span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加指定目录到暂存区，包括子目录</span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加当前目录的所有文件到暂存区</span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加每个变化前，都会要求确认</span></span><br><span class=\"line\"><span class=\"meta\"># 对于同一个文件的多处变化，可以实现分次提交</span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 删除工作区文件，并且将这次删除放入暂存区</span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 停止追踪指定文件，但该文件会保留在工作区</span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 改名文件，并且将这个改名放入暂存区</span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、代码提交\"><a href=\"#四、代码提交\" class=\"headerlink\" title=\"四、代码提交\"></a>四、代码提交</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 提交暂存区到仓库区</span></span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交暂存区的指定文件到仓库区</span></span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交工作区自上次commit之后的变化，直接到仓库区</span></span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交时显示所有diff信息</span></span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 使用一次新的commit，替代上一次提交</span></span><br><span class=\"line\"><span class=\"meta\"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span></span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 重做上一次commit，并包括指定文件的新变化</span></span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h2 id=\"五、分支\"><a href=\"#五、分支\" class=\"headerlink\" title=\"五、分支\"></a>五、分支</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 提交暂存区到仓库区</span></span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交暂存区的指定文件到仓库区</span></span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交工作区自上次commit之后的变化，直接到仓库区</span></span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交时显示所有diff信息</span></span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 使用一次新的commit，替代上一次提交</span></span><br><span class=\"line\"><span class=\"meta\"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span></span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 重做上一次commit，并包括指定文件的新变化</span></span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h2 id=\"六、标签\"><a href=\"#六、标签\" class=\"headerlink\" title=\"六、标签\"></a>六、标签</h2>  <figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\"># 列出所有tag</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title\"># 新建一个tag</span>在当前commit</span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">[tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个tag在指定commit</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">[tag</span>] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除本地tag</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">-d</span> [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除远程tag</span></span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看tag信息</span></span><br><span class=\"line\">$ git show [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提交指定tag</span></span><br><span class=\"line\">$ git push [remote] [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提交所有tag</span></span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个分支，指向某个tag</span></span><br><span class=\"line\">$ git checkout -b [branch] [<span class=\"keyword\">tag</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"七、查看信息\"><a href=\"#七、查看信息\" class=\"headerlink\" title=\"七、查看信息\"></a>七、查看信息</h2><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 显示有变更的文件</span></span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示当前分支的版本历史</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示commit历史，以及每次commit发生变更的文件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"comment\">--stat</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 搜索提交历史，根据关键词</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个commit之后的所有变动，每个commit占据一行</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> [tag] HEAD <span class=\"comment\">--pretty=format:%s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个commit之后的所有变动，其\"提交说明\"必须符合搜索条件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> [tag] HEAD <span class=\"comment\">--grep feature</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个文件的版本历史，包括文件改名</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"comment\">--follow [file]</span></span><br><span class=\"line\">$ git whatchanged [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示指定文件相关的每一次diff</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> -p [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示过去5次提交</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"number\">-5</span> <span class=\"comment\">--pretty --oneline</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示所有提交过的用户，按提交次数排序</span></span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示指定文件是什么人在什么时间修改过</span></span><br><span class=\"line\">$ git blame [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示暂存区和工作区的差异</span></span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示暂存区和上一个commit的差异</span></span><br><span class=\"line\">$ git diff <span class=\"comment\">--cached [file]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示工作区与当前分支最新commit之间的差异</span></span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示两次提交之间的差异</span></span><br><span class=\"line\">$ git diff [<span class=\"keyword\">first</span>-branch]...[<span class=\"keyword\">second</span>-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示今天你写了多少行代码</span></span><br><span class=\"line\">$ git diff <span class=\"comment\">--shortstat \"@&#123;0 day ago&#125;\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交的元数据和内容变化</span></span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交发生变化的文件</span></span><br><span class=\"line\">$ git show <span class=\"comment\">--name-only [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交时，某个文件的内容</span></span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示当前分支的最近几次提交</span></span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h2 id=\"八、远程同步\"><a href=\"#八、远程同步\" class=\"headerlink\" title=\"八、远程同步\"></a>八、远程同步</h2><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 下载远程仓库的所有变动</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示所有远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个远程仓库的信息</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 增加一个新的远程仓库，并命名</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 取回远程仓库的变化，并与本地分支合并</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 上传本地指定分支到远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 强行推送当前分支到远程仓库，即使有冲突</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 推送所有分支到远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h2 id=\"九、撤销\"><a href=\"#九、撤销\" class=\"headerlink\" title=\"九、撤销\"></a>九、撤销</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 恢复暂存区的指定文件到工作区</span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复某个<span class=\"keyword\">commit</span>的指定文件到暂存区和工作区</span><br><span class=\"line\">$ git checkout [<span class=\"keyword\">commit</span>] [<span class=\"keyword\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复暂存区的所有文件到工作区</span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置暂存区的指定文件，与上一次<span class=\"keyword\">commit</span>保持一致，但工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> [<span class=\"keyword\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置暂存区与工作区，与上一次<span class=\"keyword\">commit</span>保持一致</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--hard</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前分支的指针为指定<span class=\"keyword\">commit</span>，同时重置暂存区，但工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> [<span class=\"keyword\">commit</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前分支的<span class=\"keyword\">HEAD</span>为指定<span class=\"keyword\">commit</span>，同时重置暂存区和工作区，与指定<span class=\"keyword\">commit</span>一致</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--hard [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前<span class=\"keyword\">HEAD</span>为指定<span class=\"keyword\">commit</span>，但保持暂存区和工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--keep [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 新建一个<span class=\"keyword\">commit</span>，用来撤销指定<span class=\"keyword\">commit</span></span><br><span class=\"line\"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span><br><span class=\"line\">$ git revert [<span class=\"keyword\">commit</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 暂时将未提交的变化移除，稍后再移入</span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h2 id=\"十、其他\"><a href=\"#十、其他\" class=\"headerlink\" title=\"十、其他\"></a>十、其他</h2><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成一个可供发布的压缩包</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git archive</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>作者：阮一峰<br>文章源自：<a href=\"http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html\" target=\"_blank\" rel=\"external\">http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html</a></p>\n</blockquote>\n","excerpt":"<h1 id=\"常用-Git-命令清单\"><a href=\"#常用-Git-命令清单\" class=\"headerlink\" title=\"常用 Git 命令清单\"></a>常用 Git 命令清单</h1><p>一般来说，日常使用只要记住下图6个命令，就可以了。但是熟练使用，恐怕要记住60～100个命令。</p>\n<p><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/675733-cc81d1c02c093efa.png\" alt=\"git structer picture\"></p>\n<p>下面是我整理的常用 Git 命令清单。几个专用名词的译名如下。</p>\n<ul>\n<li>Workspace: 工作区</li>\n<li>Index / Stage: 暂存区</li>\n<li>Repository: 仓库区（或本地仓库）</li>\n<li>Remote: 远程仓库</li>\n</ul>","more":"<h2 id=\"一、新建代码库\"><a href=\"#一、新建代码库\" class=\"headerlink\" title=\"一、新建代码库\"></a>一、新建代码库</h2><figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#在当前目录新建一个Git代码库</span></span><br><span class=\"line\">$ git init</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个目录，将其初始化为Git代码库</span></span><br><span class=\"line\">$ git init [project-name]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 下载一个项目和它的整个代码历史</span></span><br><span class=\"line\">$ git <span class=\"keyword\">clone</span> <span class=\"title\">[url</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"二、配置\"><a href=\"#二、配置\" class=\"headerlink\" title=\"二、配置\"></a>二、配置</h2><p>Git的设置文件<code>.gitconfig</code>,它可以在用户主目录下（全局配置），也可以在项目目录下（项目配置）。</p>\n<figure class=\"highlight arduino\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 显示当前的Git配置</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> --list</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 编辑Git配置文件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> -e [--global]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 设置提交代码时的用户信息</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> [--global] user.name <span class=\"string\">\"[name]\"</span></span><br><span class=\"line\">$ git <span class=\"built_in\">config</span> [--global] user.email <span class=\"string\">\"[email address]\"</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"三、增加-删除文件\"><a href=\"#三、增加-删除文件\" class=\"headerlink\" title=\"三、增加/删除文件\"></a>三、增加/删除文件</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 添加指定文件到暂存区</span></span><br><span class=\"line\">$ git add [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加指定目录到暂存区，包括子目录</span></span><br><span class=\"line\">$ git add [dir]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加当前目录的所有文件到暂存区</span></span><br><span class=\"line\">$ git add .</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 添加每个变化前，都会要求确认</span></span><br><span class=\"line\"><span class=\"meta\"># 对于同一个文件的多处变化，可以实现分次提交</span></span><br><span class=\"line\">$ git add -p</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 删除工作区文件，并且将这次删除放入暂存区</span></span><br><span class=\"line\">$ git rm [file1] [file2] ...</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 停止追踪指定文件，但该文件会保留在工作区</span></span><br><span class=\"line\">$ git rm --cached [file]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 改名文件，并且将这个改名放入暂存区</span></span><br><span class=\"line\">$ git mv [file-original] [file-renamed]</span><br></pre></td></tr></table></figure>\n<h2 id=\"四、代码提交\"><a href=\"#四、代码提交\" class=\"headerlink\" title=\"四、代码提交\"></a>四、代码提交</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 提交暂存区到仓库区</span></span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交暂存区的指定文件到仓库区</span></span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交工作区自上次commit之后的变化，直接到仓库区</span></span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交时显示所有diff信息</span></span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 使用一次新的commit，替代上一次提交</span></span><br><span class=\"line\"><span class=\"meta\"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span></span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 重做上一次commit，并包括指定文件的新变化</span></span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h2 id=\"五、分支\"><a href=\"#五、分支\" class=\"headerlink\" title=\"五、分支\"></a>五、分支</h2><figure class=\"highlight vala\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\"># 提交暂存区到仓库区</span></span><br><span class=\"line\">$ git commit -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交暂存区的指定文件到仓库区</span></span><br><span class=\"line\">$ git commit [file1] [file2] ... -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交工作区自上次commit之后的变化，直接到仓库区</span></span><br><span class=\"line\">$ git commit -a</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 提交时显示所有diff信息</span></span><br><span class=\"line\">$ git commit -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 使用一次新的commit，替代上一次提交</span></span><br><span class=\"line\"><span class=\"meta\"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span></span><br><span class=\"line\">$ git commit --amend -m [message]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\"># 重做上一次commit，并包括指定文件的新变化</span></span><br><span class=\"line\">$ git commit --amend [file1] [file2] ...</span><br></pre></td></tr></table></figure>\n<h2 id=\"六、标签\"><a href=\"#六、标签\" class=\"headerlink\" title=\"六、标签\"></a>六、标签</h2>  <figure class=\"highlight crmsh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  <span class=\"comment\"># 列出所有tag</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title\"># 新建一个tag</span>在当前commit</span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">[tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个tag在指定commit</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">[tag</span>] [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除本地tag</span></span><br><span class=\"line\">$ git <span class=\"keyword\">tag</span> <span class=\"title\">-d</span> [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 删除远程tag</span></span><br><span class=\"line\">$ git push origin :refs/tags/[tagName]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 查看tag信息</span></span><br><span class=\"line\">$ git show [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提交指定tag</span></span><br><span class=\"line\">$ git push [remote] [<span class=\"keyword\">tag</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 提交所有tag</span></span><br><span class=\"line\">$ git push [remote] --tags</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 新建一个分支，指向某个tag</span></span><br><span class=\"line\">$ git checkout -b [branch] [<span class=\"keyword\">tag</span>]</span><br></pre></td></tr></table></figure>\n<h2 id=\"七、查看信息\"><a href=\"#七、查看信息\" class=\"headerlink\" title=\"七、查看信息\"></a>七、查看信息</h2><figure class=\"highlight applescript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 显示有变更的文件</span></span><br><span class=\"line\">$ git status</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示当前分支的版本历史</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示commit历史，以及每次commit发生变更的文件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"comment\">--stat</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 搜索提交历史，根据关键词</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> -S [keyword]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个commit之后的所有变动，每个commit占据一行</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> [tag] HEAD <span class=\"comment\">--pretty=format:%s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个commit之后的所有变动，其\"提交说明\"必须符合搜索条件</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> [tag] HEAD <span class=\"comment\">--grep feature</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个文件的版本历史，包括文件改名</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"comment\">--follow [file]</span></span><br><span class=\"line\">$ git whatchanged [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示指定文件相关的每一次diff</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> -p [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示过去5次提交</span></span><br><span class=\"line\">$ git <span class=\"built_in\">log</span> <span class=\"number\">-5</span> <span class=\"comment\">--pretty --oneline</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示所有提交过的用户，按提交次数排序</span></span><br><span class=\"line\">$ git shortlog -sn</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示指定文件是什么人在什么时间修改过</span></span><br><span class=\"line\">$ git blame [<span class=\"built_in\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示暂存区和工作区的差异</span></span><br><span class=\"line\">$ git diff</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示暂存区和上一个commit的差异</span></span><br><span class=\"line\">$ git diff <span class=\"comment\">--cached [file]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示工作区与当前分支最新commit之间的差异</span></span><br><span class=\"line\">$ git diff HEAD</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示两次提交之间的差异</span></span><br><span class=\"line\">$ git diff [<span class=\"keyword\">first</span>-branch]...[<span class=\"keyword\">second</span>-branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示今天你写了多少行代码</span></span><br><span class=\"line\">$ git diff <span class=\"comment\">--shortstat \"@&#123;0 day ago&#125;\"</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交的元数据和内容变化</span></span><br><span class=\"line\">$ git show [commit]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交发生变化的文件</span></span><br><span class=\"line\">$ git show <span class=\"comment\">--name-only [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某次提交时，某个文件的内容</span></span><br><span class=\"line\">$ git show [commit]:[filename]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示当前分支的最近几次提交</span></span><br><span class=\"line\">$ git reflog</span><br></pre></td></tr></table></figure>\n<h2 id=\"八、远程同步\"><a href=\"#八、远程同步\" class=\"headerlink\" title=\"八、远程同步\"></a>八、远程同步</h2><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 下载远程仓库的所有变动</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git fetch [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示所有远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote -v</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 显示某个远程仓库的信息</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote show [remote]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 增加一个新的远程仓库，并命名</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git remote add [shortname] [url]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 取回远程仓库的变化，并与本地分支合并</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git pull [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 上传本地指定分支到远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] [branch]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 强行推送当前分支到远程仓库，即使有冲突</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] --force</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 推送所有分支到远程仓库</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git push [remote] --all</span><br></pre></td></tr></table></figure>\n<h2 id=\"九、撤销\"><a href=\"#九、撤销\" class=\"headerlink\" title=\"九、撤销\"></a>九、撤销</h2><figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 恢复暂存区的指定文件到工作区</span><br><span class=\"line\">$ git checkout [file]</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复某个<span class=\"keyword\">commit</span>的指定文件到暂存区和工作区</span><br><span class=\"line\">$ git checkout [<span class=\"keyword\">commit</span>] [<span class=\"keyword\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 恢复暂存区的所有文件到工作区</span><br><span class=\"line\">$ git checkout .</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置暂存区的指定文件，与上一次<span class=\"keyword\">commit</span>保持一致，但工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> [<span class=\"keyword\">file</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置暂存区与工作区，与上一次<span class=\"keyword\">commit</span>保持一致</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--hard</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前分支的指针为指定<span class=\"keyword\">commit</span>，同时重置暂存区，但工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> [<span class=\"keyword\">commit</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前分支的<span class=\"keyword\">HEAD</span>为指定<span class=\"keyword\">commit</span>，同时重置暂存区和工作区，与指定<span class=\"keyword\">commit</span>一致</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--hard [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 重置当前<span class=\"keyword\">HEAD</span>为指定<span class=\"keyword\">commit</span>，但保持暂存区和工作区不变</span><br><span class=\"line\">$ git <span class=\"keyword\">reset</span> <span class=\"comment\">--keep [commit]</span></span><br><span class=\"line\"></span><br><span class=\"line\"># 新建一个<span class=\"keyword\">commit</span>，用来撤销指定<span class=\"keyword\">commit</span></span><br><span class=\"line\"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span><br><span class=\"line\">$ git revert [<span class=\"keyword\">commit</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"># 暂时将未提交的变化移除，稍后再移入</span><br><span class=\"line\">$ git stash</span><br><span class=\"line\">$ git stash pop</span><br></pre></td></tr></table></figure>\n<h2 id=\"十、其他\"><a href=\"#十、其他\" class=\"headerlink\" title=\"十、其他\"></a>十、其他</h2><figure class=\"highlight elixir\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 生成一个可供发布的压缩包</span></span><br><span class=\"line\"><span class=\"variable\">$ </span>git archive</span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>作者：阮一峰<br>文章源自：<a href=\"http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html\">http://www.ruanyifeng.com/blog/2015/12/git-cheat-sheet.html</a></p>\n</blockquote>"},{"title":"使用Android Studio的lint清除无用的资源文件","date":"2016-03-22T14:15:20.000Z","_content":"\n## 使用Android Studio的lint清除无用的资源文件\n<!-- more -->\n> studio很容易查找无用的资源\n\n在项目中，点击菜单栏的Analyze->Run Inspection by Name...\n![lint-1.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-1.png)\n\n选择后出现弹窗如下：\n![lint-2.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-2.png)\n\n在弹窗中输入 unused resources 选中点击回车后：\n![lint-3.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-3.png)\n\n这里可以选择，整个项目或者某个模块，也可以自定义选择某个目录\n到此，Android Studio 就会自动分析，然后可以根据结果清除无用的资源文件。\n\n**注意**：在某些情况下，也有可能检测错误，我就在build.gradle中有引用图片，然而这里无法查询到，但大部分查出是对的。\n\n\n> Note:\n> 1.一般是删除无用的Java文件\n> 2.然后删除无用Java文件中引用的xml文件\n> 3.删除xml或Java代码中用到的图片等资源文件\n> 4.可以通过指定图片Alt+F7(Find Usages)查询是否引用\n\n\n\n\n","source":"_posts/使用Android-Studio的lint清除无用的资源文件.md","raw":"---\ntitle: 使用Android Studio的lint清除无用的资源文件\ndate: 2016-03-22 22:15:20\ntags: [Android, lint]\ncategories: Android\n---\n\n## 使用Android Studio的lint清除无用的资源文件\n<!-- more -->\n> studio很容易查找无用的资源\n\n在项目中，点击菜单栏的Analyze->Run Inspection by Name...\n![lint-1.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-1.png)\n\n选择后出现弹窗如下：\n![lint-2.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-2.png)\n\n在弹窗中输入 unused resources 选中点击回车后：\n![lint-3.png](http://7xpj58.com1.z0.glb.clouddn.com/20160322-3.png)\n\n这里可以选择，整个项目或者某个模块，也可以自定义选择某个目录\n到此，Android Studio 就会自动分析，然后可以根据结果清除无用的资源文件。\n\n**注意**：在某些情况下，也有可能检测错误，我就在build.gradle中有引用图片，然而这里无法查询到，但大部分查出是对的。\n\n\n> Note:\n> 1.一般是删除无用的Java文件\n> 2.然后删除无用Java文件中引用的xml文件\n> 3.删除xml或Java代码中用到的图片等资源文件\n> 4.可以通过指定图片Alt+F7(Find Usages)查询是否引用\n\n\n\n\n","slug":"使用Android-Studio的lint清除无用的资源文件","published":1,"updated":"2016-03-22T14:20:22.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h69000qpzv2fttxqbjo","content":"<h2 id=\"使用Android-Studio的lint清除无用的资源文件\"><a href=\"#使用Android-Studio的lint清除无用的资源文件\" class=\"headerlink\" title=\"使用Android Studio的lint清除无用的资源文件\"></a>使用Android Studio的lint清除无用的资源文件</h2><a id=\"more\"></a>\n<blockquote>\n<p>studio很容易查找无用的资源</p>\n</blockquote>\n<p>在项目中，点击菜单栏的Analyze-&gt;Run Inspection by Name…<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-1.png\" alt=\"lint-1.png\"></p>\n<p>选择后出现弹窗如下：<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-2.png\" alt=\"lint-2.png\"></p>\n<p>在弹窗中输入 unused resources 选中点击回车后：<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-3.png\" alt=\"lint-3.png\"></p>\n<p>这里可以选择，整个项目或者某个模块，也可以自定义选择某个目录<br>到此，Android Studio 就会自动分析，然后可以根据结果清除无用的资源文件。</p>\n<p><strong>注意</strong>：在某些情况下，也有可能检测错误，我就在build.gradle中有引用图片，然而这里无法查询到，但大部分查出是对的。</p>\n<blockquote>\n<p>Note:<br>1.一般是删除无用的Java文件<br>2.然后删除无用Java文件中引用的xml文件<br>3.删除xml或Java代码中用到的图片等资源文件<br>4.可以通过指定图片Alt+F7(Find Usages)查询是否引用</p>\n</blockquote>\n","excerpt":"<h2 id=\"使用Android-Studio的lint清除无用的资源文件\"><a href=\"#使用Android-Studio的lint清除无用的资源文件\" class=\"headerlink\" title=\"使用Android Studio的lint清除无用的资源文件\"></a>使用Android Studio的lint清除无用的资源文件</h2>","more":"<blockquote>\n<p>studio很容易查找无用的资源</p>\n</blockquote>\n<p>在项目中，点击菜单栏的Analyze-&gt;Run Inspection by Name…<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-1.png\" alt=\"lint-1.png\"></p>\n<p>选择后出现弹窗如下：<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-2.png\" alt=\"lint-2.png\"></p>\n<p>在弹窗中输入 unused resources 选中点击回车后：<br><img src=\"http://7xpj58.com1.z0.glb.clouddn.com/20160322-3.png\" alt=\"lint-3.png\"></p>\n<p>这里可以选择，整个项目或者某个模块，也可以自定义选择某个目录<br>到此，Android Studio 就会自动分析，然后可以根据结果清除无用的资源文件。</p>\n<p><strong>注意</strong>：在某些情况下，也有可能检测错误，我就在build.gradle中有引用图片，然而这里无法查询到，但大部分查出是对的。</p>\n<blockquote>\n<p>Note:<br>1.一般是删除无用的Java文件<br>2.然后删除无用Java文件中引用的xml文件<br>3.删除xml或Java代码中用到的图片等资源文件<br>4.可以通过指定图片Alt+F7(Find Usages)查询是否引用</p>\n</blockquote>"},{"title":"正则表达式--匹配电话号码和手机号码","date":"2016-03-03T02:43:29.000Z","_content":"\n### 正则表达式匹配电话号码和手机号码\n---\n\n##### 正则表达式（电话号码）一、\n\n\t\\d{3}-\\d{8}|\\d{4}-\\d{7}\n\t匹配 0511-1234567 | 022 -28191732\n\t不匹配 02-123456 12345-123456\n\n##### 正则表达式（电话号码）二、\n\n\t(^\\([0]\\d{2}|\\d{4}\\))(\\d{6,7}$)\n\t匹配    (021)1234567 | (0411)123456 | (000)000000\n\t不匹配    (123)1234567 | 025123456 | 0252345678  \n\n<!-- more -->\n##### 正则表达式（手机号码）三、\n\n\t^(?<national>\\+?(?:86)?)(?<separator>\\s?-?)(?<phone>(?<vender>(13|15|18)[0-9])(?<area>\\d{4})(?<id>\\d{4}))$\n\t匹配 +8613012345678 | 86 13012345678 | 13245679087\n\t不匹配 +86130123456781231434352 | 13560012513 | ++8613012345678\n\t\n\n","source":"_posts/正则表达式--匹配电话号码和手机号码.md","raw":"---\ntitle: 正则表达式--匹配电话号码和手机号码\ndate: 2016-03-03 10:43:29\ntags: [java]\ncategories: java\n---\n\n### 正则表达式匹配电话号码和手机号码\n---\n\n##### 正则表达式（电话号码）一、\n\n\t\\d{3}-\\d{8}|\\d{4}-\\d{7}\n\t匹配 0511-1234567 | 022 -28191732\n\t不匹配 02-123456 12345-123456\n\n##### 正则表达式（电话号码）二、\n\n\t(^\\([0]\\d{2}|\\d{4}\\))(\\d{6,7}$)\n\t匹配    (021)1234567 | (0411)123456 | (000)000000\n\t不匹配    (123)1234567 | 025123456 | 0252345678  \n\n<!-- more -->\n##### 正则表达式（手机号码）三、\n\n\t^(?<national>\\+?(?:86)?)(?<separator>\\s?-?)(?<phone>(?<vender>(13|15|18)[0-9])(?<area>\\d{4})(?<id>\\d{4}))$\n\t匹配 +8613012345678 | 86 13012345678 | 13245679087\n\t不匹配 +86130123456781231434352 | 13560012513 | ++8613012345678\n\t\n\n","slug":"正则表达式--匹配电话号码和手机号码","published":1,"updated":"2016-03-12T03:25:08.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"cimhc9h6c000spzv2mugo6cga","content":"<h3 id=\"正则表达式匹配电话号码和手机号码\"><a href=\"#正则表达式匹配电话号码和手机号码\" class=\"headerlink\" title=\"正则表达式匹配电话号码和手机号码\"></a>正则表达式匹配电话号码和手机号码</h3><hr>\n<h5 id=\"正则表达式（电话号码）一、\"><a href=\"#正则表达式（电话号码）一、\" class=\"headerlink\" title=\"正则表达式（电话号码）一、\"></a>正则表达式（电话号码）一、</h5><pre><code>\\d{3}-\\d{8}|\\d{4}-\\d{7}\n匹配 0511-1234567 | 022 -28191732\n不匹配 02-123456 12345-123456\n</code></pre><h5 id=\"正则表达式（电话号码）二、\"><a href=\"#正则表达式（电话号码）二、\" class=\"headerlink\" title=\"正则表达式（电话号码）二、\"></a>正则表达式（电话号码）二、</h5><pre><code>(^\\([0]\\d{2}|\\d{4}\\))(\\d{6,7}$)\n匹配    (021)1234567 | (0411)123456 | (000)000000\n不匹配    (123)1234567 | 025123456 | 0252345678  \n</code></pre><a id=\"more\"></a>\n<h5 id=\"正则表达式（手机号码）三、\"><a href=\"#正则表达式（手机号码）三、\" class=\"headerlink\" title=\"正则表达式（手机号码）三、\"></a>正则表达式（手机号码）三、</h5><pre><code>^(?&lt;national&gt;\\+?(?:86)?)(?&lt;separator&gt;\\s?-?)(?&lt;phone&gt;(?&lt;vender&gt;(13|15|18)[0-9])(?&lt;area&gt;\\d{4})(?&lt;id&gt;\\d{4}))$\n匹配 +8613012345678 | 86 13012345678 | 13245679087\n不匹配 +86130123456781231434352 | 13560012513 | ++8613012345678\n</code></pre>","excerpt":"<h3 id=\"正则表达式匹配电话号码和手机号码\"><a href=\"#正则表达式匹配电话号码和手机号码\" class=\"headerlink\" title=\"正则表达式匹配电话号码和手机号码\"></a>正则表达式匹配电话号码和手机号码</h3><hr>\n<h5 id=\"正则表达式（电话号码）一、\"><a href=\"#正则表达式（电话号码）一、\" class=\"headerlink\" title=\"正则表达式（电话号码）一、\"></a>正则表达式（电话号码）一、</h5><pre><code>\\d{3}-\\d{8}|\\d{4}-\\d{7}\n匹配 0511-1234567 | 022 -28191732\n不匹配 02-123456 12345-123456\n</code></pre><h5 id=\"正则表达式（电话号码）二、\"><a href=\"#正则表达式（电话号码）二、\" class=\"headerlink\" title=\"正则表达式（电话号码）二、\"></a>正则表达式（电话号码）二、</h5><pre><code>(^\\([0]\\d{2}|\\d{4}\\))(\\d{6,7}$)\n匹配    (021)1234567 | (0411)123456 | (000)000000\n不匹配    (123)1234567 | 025123456 | 0252345678  \n</code></pre>","more":"<h5 id=\"正则表达式（手机号码）三、\"><a href=\"#正则表达式（手机号码）三、\" class=\"headerlink\" title=\"正则表达式（手机号码）三、\"></a>正则表达式（手机号码）三、</h5><pre><code>^(?&lt;national&gt;\\+?(?:86)?)(?&lt;separator&gt;\\s?-?)(?&lt;phone&gt;(?&lt;vender&gt;(13|15|18)[0-9])(?&lt;area&gt;\\d{4})(?&lt;id&gt;\\d{4}))$\n匹配 +8613012345678 | 86 13012345678 | 13245679087\n不匹配 +86130123456781231434352 | 13560012513 | ++8613012345678\n</code></pre>"}],"PostAsset":[],"PostCategory":[{"post_id":"cimhc9h560000pzv27nnzwuj0","category_id":"cimhc9h5h0004pzv2t8swtmnm","_id":"cimhc9h5u000cpzv2bjnvvjbm"},{"post_id":"cimhc9h5c0002pzv2efiehvmg","category_id":"cimhc9h5o0009pzv2z9f038xc","_id":"cimhc9h62000jpzv296326tzv"},{"post_id":"cimhc9h63000mpzv2vgr6yl4h","category_id":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6c000rpzv2aw26di8z"},{"post_id":"cimhc9h5k0006pzv26z2tvqaj","category_id":"cimhc9h63000lpzv2192m5mue","_id":"cimhc9h6e000tpzv2bb9rsbl3"},{"post_id":"cimhc9h69000qpzv2fttxqbjo","category_id":"cimhc9h5o0009pzv2z9f038xc","_id":"cimhc9h6f000wpzv2uy3bftqb"},{"post_id":"cimhc9h5n0008pzv2dx8zfuxx","category_id":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6f000xpzv2bsg7xnoj"},{"post_id":"cimhc9h6c000spzv2mugo6cga","category_id":"cimhc9h63000lpzv2192m5mue","_id":"cimhc9h6g0010pzv2st2qqkva"},{"post_id":"cimhc9h5q000bpzv2pvoirxrv","category_id":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6h0012pzv2rbmk1lcx"},{"post_id":"cimhc9h5u000dpzv2huo4yjr6","category_id":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6j0017pzv2iwonr5ay"},{"post_id":"cimhc9h5z000hpzv2em1c87jo","category_id":"cimhc9h6h0013pzv21mgv96gi","_id":"cimhc9h6l001bpzv2myww7e11"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","category_id":"cimhc9h5y000fpzv29gzuvl9b","_id":"cimhc9h6m001fpzv23viv0pqi"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","category_id":"cimhc9h6j0019pzv2oxn3ypdk","_id":"cimhc9h6n001jpzv2kj67ihnx"},{"post_id":"cimhc9h61000ipzv2pwuptzpu","category_id":"cimhc9h6l001cpzv21a1fiya8","_id":"cimhc9h6n001lpzv22vugsfc7"},{"post_id":"cimhc9h65000npzv2d7qggcey","category_id":"cimhc9h6m001gpzv2yebdhpuv","_id":"cimhc9h6o001npzv2fny1lfub"}],"PostTag":[{"post_id":"cimhc9h560000pzv27nnzwuj0","tag_id":"cimhc9h5f0003pzv218rhq2e5","_id":"cimhc9h5q000apzv2r6kjv2v3"},{"post_id":"cimhc9h5c0002pzv2efiehvmg","tag_id":"cimhc9h5m0007pzv2krmo9ymq","_id":"cimhc9h5z000gpzv2fw1sir73"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","tag_id":"cimhc9h5x000epzv2a2xk6x5n","_id":"cimhc9h6g0011pzv2zbsa6p52"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","tag_id":"cimhc9h62000kpzv28jwilvr0","_id":"cimhc9h6i0014pzv277h4v7bi"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","tag_id":"cimhc9h68000opzv2wganfc2v","_id":"cimhc9h6j0016pzv2jebeycnq"},{"post_id":"cimhc9h5i0005pzv2ffc016sk","tag_id":"cimhc9h6e000vpzv2p6jeua1z","_id":"cimhc9h6j0018pzv2diqmmx8u"},{"post_id":"cimhc9h5k0006pzv26z2tvqaj","tag_id":"cimhc9h6g000zpzv2gdgfdz32","_id":"cimhc9h6m001epzv2ooyja1cr"},{"post_id":"cimhc9h5k0006pzv26z2tvqaj","tag_id":"cimhc9h6i0015pzv2gtnw7quu","_id":"cimhc9h6n001hpzv24mdlop4a"},{"post_id":"cimhc9h5k0006pzv26z2tvqaj","tag_id":"cimhc9h6k001apzv2gtcfu8qq","_id":"cimhc9h6n001kpzv2u2rrkdbo"},{"post_id":"cimhc9h5n0008pzv2dx8zfuxx","tag_id":"cimhc9h68000opzv2wganfc2v","_id":"cimhc9h6o001ppzv2bztc64md"},{"post_id":"cimhc9h5n0008pzv2dx8zfuxx","tag_id":"cimhc9h6n001ipzv28yy4tywk","_id":"cimhc9h6p001qpzv2a9vjjgu7"},{"post_id":"cimhc9h5n0008pzv2dx8zfuxx","tag_id":"cimhc9h6o001mpzv2q14ceute","_id":"cimhc9h6q001spzv2g2h6q1zx"},{"post_id":"cimhc9h5q000bpzv2pvoirxrv","tag_id":"cimhc9h68000opzv2wganfc2v","_id":"cimhc9h6q001tpzv2f8n9qouf"},{"post_id":"cimhc9h5u000dpzv2huo4yjr6","tag_id":"cimhc9h68000opzv2wganfc2v","_id":"cimhc9h6s001vpzv2vvkl25a3"},{"post_id":"cimhc9h5z000hpzv2em1c87jo","tag_id":"cimhc9h6r001upzv26c0iah8f","_id":"cimhc9h6v001zpzv20f6ja3d5"},{"post_id":"cimhc9h5z000hpzv2em1c87jo","tag_id":"cimhc9h6t001wpzv24dq52duy","_id":"cimhc9h6v0020pzv2zf9nhap7"},{"post_id":"cimhc9h5z000hpzv2em1c87jo","tag_id":"cimhc9h6t001xpzv2b885dzm4","_id":"cimhc9h6v0022pzv2ufrrcmn3"},{"post_id":"cimhc9h61000ipzv2pwuptzpu","tag_id":"cimhc9h6t001ypzv26syjyv1b","_id":"cimhc9h6w0023pzv25cpjtr50"},{"post_id":"cimhc9h63000mpzv2vgr6yl4h","tag_id":"cimhc9h6v0021pzv24egtmwtr","_id":"cimhc9h6x0027pzv2ahsi0sng"},{"post_id":"cimhc9h63000mpzv2vgr6yl4h","tag_id":"cimhc9h6w0024pzv2p3madjru","_id":"cimhc9h6x0028pzv2g4rqm0vj"},{"post_id":"cimhc9h63000mpzv2vgr6yl4h","tag_id":"cimhc9h68000opzv2wganfc2v","_id":"cimhc9h6x002apzv24wj2px6s"},{"post_id":"cimhc9h65000npzv2d7qggcey","tag_id":"cimhc9h6x0026pzv27i6br1kr","_id":"cimhc9h6x002bpzv2hgc7gh72"},{"post_id":"cimhc9h69000qpzv2fttxqbjo","tag_id":"cimhc9h5m0007pzv2krmo9ymq","_id":"cimhc9h6x002dpzv2mjg83top"},{"post_id":"cimhc9h69000qpzv2fttxqbjo","tag_id":"cimhc9h6x0029pzv2mf7r4kji","_id":"cimhc9h6y002epzv2j2ef11zr"},{"post_id":"cimhc9h6c000spzv2mugo6cga","tag_id":"cimhc9h6g000zpzv2gdgfdz32","_id":"cimhc9h6y002fpzv2n5yjx8uo"}],"Tag":[{"name":"ndk","_id":"cimhc9h5f0003pzv218rhq2e5"},{"name":"Android","_id":"cimhc9h5m0007pzv2krmo9ymq"},{"name":"atom","_id":"cimhc9h5x000epzv2a2xk6x5n"},{"name":"tools","_id":"cimhc9h62000kpzv28jwilvr0"},{"name":"mac","_id":"cimhc9h68000opzv2wganfc2v"},{"name":"RAML","_id":"cimhc9h6e000vpzv2p6jeua1z"},{"name":"java","_id":"cimhc9h6g000zpzv2gdgfdz32"},{"name":"math","_id":"cimhc9h6i0015pzv2gtnw7quu"},{"name":"round","_id":"cimhc9h6k001apzv2gtcfu8qq"},{"name":"dns","_id":"cimhc9h6n001ipzv28yy4tywk"},{"name":"缓存","_id":"cimhc9h6o001mpzv2q14ceute"},{"name":"wechat","_id":"cimhc9h6r001upzv26c0iah8f"},{"name":"微信","_id":"cimhc9h6t001wpzv24dq52duy"},{"name":"python","_id":"cimhc9h6t001xpzv2b885dzm4"},{"name":"english","_id":"cimhc9h6t001ypzv26syjyv1b"},{"name":"mysql","_id":"cimhc9h6v0021pzv24egtmwtr"},{"name":"数据库","_id":"cimhc9h6w0024pzv2p3madjru"},{"name":"Git","_id":"cimhc9h6x0026pzv27i6br1kr"},{"name":"lint","_id":"cimhc9h6x0029pzv2mf7r4kji"}]}}